

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Classes &mdash; Spatial Maths package 0.8.3
 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Indices" href="indices.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Spatial Maths package
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#d-space">3D-space</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pose-orientation-se-3-so-3">Pose &amp; orientation: SE(3), SO(3)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pose-se-3">Pose SE(3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orientation-so-3">Orientation SO(3)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#quaternions">Quaternions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#unit-quaternions">Unit quaternions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#general-quaternions">General quaternions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#twists-se-3">Twists: se(3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-spatialmath.spatialvector">6D spatial vectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-spatialmath.geom3d">Geometry</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id14">2D-space</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pose-orientation-se-2-so-2">Pose &amp; orientation: SE(2), SO(2)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pose-se-2">Pose SE(2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orientation-so-2">Orientation SO(2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-spatialmath.Twist2">Twists se(2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spatial-vectors">Spatial Vectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">Geometry</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#function-library-base">Function library (base)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-spatialmath.base.transforms2d">Transforms in 2D</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spatialmath.base.transforms3d">Transforms in 3D</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spatialmath.base.transformsNd">Transforms in ND</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id16">Quaternions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utility">Utility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-spatialmath.base.vectors">Vectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-0">Graphic animation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-spatialmath.base.argcheck">Argument checking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Indices</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Spatial Maths package</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/spatialmath.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="classes">
<h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<p>The top-level classes</p>
digraph inheritancef2fae0d07b {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;abc.ABC&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Helper class that provides a standard way to create an ABC using&quot;];
  &quot;collections.UserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;A more or less complete user-defined wrapper around list objects.&quot;];
  &quot;pose2d.SE2&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;SE(2) subclass&quot;];
  &quot;pose2d.SO2&quot; -&gt; &quot;pose2d.SE2&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;pose2d.SO2&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;SO(2) subclass&quot;];
  &quot;super_pose.SMPose&quot; -&gt; &quot;pose2d.SO2&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;pose3d.SE3&quot; [URL=&quot;#spatialmath.pose3d.SE3&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;SE(3) subclass&quot;];
  &quot;pose3d.SO3&quot; -&gt; &quot;pose3d.SE3&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;pose3d.SO3&quot; [URL=&quot;#spatialmath.pose3d.SO3&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;SO(3) subclass&quot;];
  &quot;super_pose.SMPose&quot; -&gt; &quot;pose3d.SO3&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;quaternion.Quaternion&quot; [URL=&quot;#spatialmath.quaternion.Quaternion&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;A quaternion is a compact method of representing a 3D rotation that has&quot;];
  &quot;smuserlist.SMUserList&quot; -&gt; &quot;quaternion.Quaternion&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;quaternion.UnitQuaternion&quot; [URL=&quot;#spatialmath.quaternion.UnitQuaternion&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;A unit quaternion has 2 parts, a scalar :math:`s`, and a 3-vector :math:`v` and is typically written as&quot;];
  &quot;quaternion.Quaternion&quot; -&gt; &quot;quaternion.UnitQuaternion&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;smuserlist.SMUserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;List properties for spatial math classes&quot;];
  &quot;collections.UserList&quot; -&gt; &quot;smuserlist.SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;abc.ABC&quot; -&gt; &quot;smuserlist.SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;spatialvector.SpatialAcceleration&quot; [URL=&quot;#spatialmath.spatialvector.SpatialAcceleration&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial acceleration class&quot;];
  &quot;spatialvector.SpatialM6&quot; -&gt; &quot;spatialvector.SpatialAcceleration&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;spatialvector.SpatialF6&quot; [URL=&quot;#spatialmath.spatialvector.SpatialF6&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Abstract spatial force class&quot;];
  &quot;spatialvector.SpatialVector&quot; -&gt; &quot;spatialvector.SpatialF6&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;spatialvector.SpatialForce&quot; [URL=&quot;#spatialmath.spatialvector.SpatialForce&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial force class&quot;];
  &quot;spatialvector.SpatialF6&quot; -&gt; &quot;spatialvector.SpatialForce&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;spatialvector.SpatialInertia&quot; [URL=&quot;#spatialmath.spatialvector.SpatialInertia&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial inertia class&quot;];
  &quot;smuserlist.SMUserList&quot; -&gt; &quot;spatialvector.SpatialInertia&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;spatialvector.SpatialM6&quot; [URL=&quot;#spatialmath.spatialvector.SpatialM6&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Create a new spatial motion class (abstract class)&quot;];
  &quot;spatialvector.SpatialVector&quot; -&gt; &quot;spatialvector.SpatialM6&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;spatialvector.SpatialMomentum&quot; [URL=&quot;#spatialmath.spatialvector.SpatialMomentum&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial momentum class&quot;];
  &quot;spatialvector.SpatialF6&quot; -&gt; &quot;spatialvector.SpatialMomentum&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;spatialvector.SpatialVector&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVector&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial 6-vector abstract superclass&quot;];
  &quot;smuserlist.SMUserList&quot; -&gt; &quot;spatialvector.SpatialVector&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;spatialvector.SpatialVelocity&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVelocity&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial velocity class&quot;];
  &quot;spatialvector.SpatialM6&quot; -&gt; &quot;spatialvector.SpatialVelocity&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;super_pose.SMPose&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Superclass for SO(N) and SE(N) objects&quot;];
  &quot;smuserlist.SMUserList&quot; -&gt; &quot;super_pose.SMPose&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;twist.SMTwist&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Superclass for 3D and 2D twist objects&quot;];
  &quot;smuserlist.SMUserList&quot; -&gt; &quot;twist.SMTwist&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;twist.Twist2&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded];
  &quot;twist.SMTwist&quot; -&gt; &quot;twist.Twist2&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;twist.Twist3&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;TWIST SE(2) and SE(3) Twist class&quot;];
  &quot;twist.SMTwist&quot; -&gt; &quot;twist.Twist3&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
}
<div class="section" id="d-space">
<h2>3D-space<a class="headerlink" href="#d-space" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pose-orientation-se-3-so-3">
<h3>Pose &amp; orientation: SE(3), SO(3)<a class="headerlink" href="#pose-orientation-se-3-so-3" title="Permalink to this headline">¶</a></h3>
<div class="section" id="pose-se-3">
<h4>Pose SE(3)<a class="headerlink" href="#pose-se-3" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt id="spatialmath.pose3d.SE3">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.pose3d.</code><code class="sig-name descname">SE3</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.pose3d.SO3</span></code></a></p>
<blockquote>
<div><p>SE(3) subclass</p>
<p>This subclass represents rigid-body motion in 3D space.  Internally it is a 
4x4 homogeneous transformation matrix belonging to the group SE(3).</p>
</div></blockquote>
digraph inheritance7d797e0ff4 {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;ABC&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Helper class that provides a standard way to create an ABC using&quot;];
  &quot;SE3&quot; [URL=&quot;#spatialmath.pose3d.SE3&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;SE(3) subclass&quot;];
  &quot;SO3&quot; -&gt; &quot;SE3&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SMPose&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Superclass for SO(N) and SE(N) objects&quot;];
  &quot;SMUserList&quot; -&gt; &quot;SMPose&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SMUserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;List properties for spatial math classes&quot;];
  &quot;UserList&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;ABC&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SO3&quot; [URL=&quot;#spatialmath.pose3d.SO3&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;SO(3) subclass&quot;];
  &quot;SMPose&quot; -&gt; &quot;SO3&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;UserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;A more or less complete user-defined wrapper around list objects.&quot;];
}
<dl class="py method">
<dt id="spatialmath.pose3d.SE3.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct new SE(3) object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – translation distance along the X-axis</p></li>
<li><p><strong>y</strong> (<em>float</em>) – translation distance along the Y-axis</p></li>
<li><p><strong>z</strong> (<em>float</em>) – translation distance along the Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SE3()</span></code> is a null motion – the identity matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3(x,</span> <span class="pre">y,</span> <span class="pre">z)</span></code> is a pure translation of (x,y,z)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3(T)</span></code> where T is a 4x4 numpy array representing an SE(3) matrix.  If <code class="docutils literal notranslate"><span class="pre">check</span></code>
is <code class="docutils literal notranslate"><span class="pre">True</span></code> check the matrix belongs to SE(3).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3([T1,</span> <span class="pre">T2,</span> <span class="pre">...</span> <span class="pre">TN])</span></code> where each Ti is a 4x4 numpy array representing an SE(3) matrix, is
an SE3 instance containing N rotations. If <code class="docutils literal notranslate"><span class="pre">check</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>
check the matrix belongs to SE(3).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3([X1,</span> <span class="pre">X2,</span> <span class="pre">...</span> <span class="pre">XN])</span></code> where each Xi is an SE3 instance, is an SE3 instance containing N rotations.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#spatialmath.pose3d.SE3.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the object’s interal matrix representation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(4,4)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.t">
<em class="property">property </em><code class="sig-name descname">t</code><a class="headerlink" href="#spatialmath.pose3d.SE3.t" title="Permalink to this definition">¶</a></dt>
<dd><p>Translational component of SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<em>SE3 instance</em>) – SE(3)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>translational component</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T.t</span></code> returns an:</p>
<ul class="simple">
<li><p>ndarray with shape=(3,), if len(T) == 1</p></li>
<li><p>ndarray with shape=(N,3), if len(T) = N &gt; 1</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.inv">
<code class="sig-name descname">inv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.inv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse of SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>inverse</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.pose3d.SE3" title="spatialmath.pose3d.SE3">SE3</a></p>
</dd>
</dl>
<p>Returns the inverse taking into account its structure</p>
<p><span class="math notranslate nohighlight">\(T = \left[ \begin{array}{cc} R &amp; t \\ 0 &amp; 1 \end{array} \right], T^{-1} = \left[ \begin{array}{cc} R^T &amp; -R^T t \\ 0 &amp; 1 \end{array} \right]\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">trinv()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.delta">
<code class="sig-name descname">delta</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Infinitesimal difference of SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X2</strong> (<a class="reference internal" href="#spatialmath.pose3d.SE3" title="spatialmath.pose3d.SE3"><em>SE3</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>differential motion vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(6,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X1.delta(X2)</span></code> is the differential motion (6x1) corresponding to
infinitesimal motion (in the X1 frame) from pose X1 to X2.</p></li>
</ul>
<p>The vector <span class="math notranslate nohighlight">\(d = [\delta_x, \delta_y, \delta_z, \theta_x, \theta_y, \theta_z\)</span>
represents infinitesimal translation and rotation.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>the displacement is only an approximation to the motion T, and assumes
that X1 ~ X2.</p></li>
<li><p>Can be considered as an approximation to the effect of spatial velocity over a
a time interval, average spatial velocity multiplied by time.</p></li>
</ul>
<p>Reference: Robotics, Vision &amp; Control: Second Edition, P. Corke, Springer 2016; p67.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2delta()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Twist3">
<code class="sig-name descname">Twist3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Twist3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Twist3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.isvalid">
<em class="property">static </em><code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.isvalid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix is valid SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>numpy.ndarray</em>) – matrix to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true of the matrix is 4x4 and a valid element of SE(3), ie. it</p>
</dd>
</dl>
<p>is an homogeneous transformation matrix.
:rtype: bool</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">ishom()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Rx">
<em class="property">classmethod </em><code class="sig-name descname">Rx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Rx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Rx" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about the X-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>θ</strong> (<em>float</em>) – rotation angle about X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Rx(θ)</span></code> is an SO(3) rotation of θ radians about the x-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Rx(θ,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but θ is in degrees</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">θ</span></code> is an array then the result is a sequence of rotations defined
by consecutive elements.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Ry">
<em class="property">classmethod </em><code class="sig-name descname">Ry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Ry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Ry" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about the Y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>θ</strong> (<em>float</em>) – rotation angle about X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Ry(θ)</span></code> is an SO(3) rotation of θ radians about the y-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Ry(θ,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but θ is in degrees</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">θ</span></code> is an array then the result is a sequence of rotations defined
by consecutive
elements.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Rz">
<em class="property">classmethod </em><code class="sig-name descname">Rz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Rz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Rz" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about the Z-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>θ</strong> (<em>float</em>) – rotation angle about Z-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Rz(θ)</span></code> is an SO(3) rotation of θ radians about the z-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Rz(θ,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but θ is in degrees</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">θ</span></code> is an array then the result is a sequence of rotations defined
by consecutive elements.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Rand">
<em class="property">classmethod </em><code class="sig-name descname">Rand</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">xrange</span><span class="o">=</span><span class="default_value">- 1, 1</span></em>, <em class="sig-param"><span class="n">yrange</span><span class="o">=</span><span class="default_value">- 1, 1</span></em>, <em class="sig-param"><span class="n">zrange</span><span class="o">=</span><span class="default_value">- 1, 1</span></em>, <em class="sig-param"><span class="n">N</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Rand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Rand" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a random SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xrange</strong> (<em>2-element sequence</em><em>, </em><em>optional</em>) – x-axis range [min,max], defaults to [-1, 1]</p></li>
<li><p><strong>yrange</strong> (<em>2-element sequence</em><em>, </em><em>optional</em>) – y-axis range [min,max], defaults to [-1, 1]</p></li>
<li><p><strong>zrange</strong> (<em>2-element sequence</em><em>, </em><em>optional</em>) – z-axis range [min,max], defaults to [-1, 1]</p></li>
<li><p><strong>N</strong> (<em>int</em>) – number of random transforms</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<p>Return an SE3 instance with random rotation and translation.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Rand()</span></code> is a random SE(3) translation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Rand(N)</span></code> is an SE3 object containing a sequence of N random
poses.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><cite>~spatialmath.quaternion.UnitQuaternion.Rand</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Eul">
<em class="property">classmethod </em><code class="sig-name descname">Eul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angles</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Eul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Eul" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) pure rotation from Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> (<em>array_like</em><em> or </em><em>numpy.ndarray with shape=</em><em>(</em><em>N</em><em>,</em><em>3</em><em>)</em>) – 3-vector of Euler angles</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SE3.Eul(ANGLES)</span></code> is an SO(3) rotation defined by a 3-vector of Euler
angles <span class="math notranslate nohighlight">\((\phi, \theta, \psi)\)</span> which correspond to consecutive
rotations about the Z, Y, Z axes respectively.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">angles</span></code> is an Nx3 matrix then the result is a sequence of
rotations each defined by Euler angles corresponding to the rows of
angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.eul" title="spatialmath.pose3d.SE3.eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul()</span></code></a>, <a class="reference internal" href="#spatialmath.pose3d.SE3.Eul" title="spatialmath.pose3d.SE3.Eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">Eul()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.eul2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.RPY">
<em class="property">classmethod </em><code class="sig-name descname">RPY</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angles</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.RPY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.RPY" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SO(3) pure rotation from roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> (<em>array_like</em><em> or </em><em>numpy.ndarray with shape=</em><em>(</em><em>N</em><em>,</em><em>3</em><em>)</em>) – 3-vector of roll-pitch-yaw angles</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>order</strong> (<em>str</em>) – rotation order: ‘zyx’ [default], ‘xyz’, or ‘yxz’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">SE3.RPY(ANGLES)</span></code> is an SE(3) rotation defined by a 3-vector of roll, pitch, yaw angles <span class="math notranslate nohighlight">\((r, p, y)\)</span></dt><dd><p>which correspond to successive rotations about the axes specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Convention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<p>If <code class="docutils literal notranslate"><span class="pre">angles</span></code> is an Nx3 matrix then the result is a sequence of rotations each defined by RPY angles
corresponding to the rows of angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.rpy" title="spatialmath.pose3d.SE3.rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.pose3d.SE3.RPY" title="spatialmath.pose3d.SE3.RPY"><code class="xref py py-func docutils literal notranslate"><span class="pre">RPY()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.rpy2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.OA">
<em class="property">classmethod </em><code class="sig-name descname">OA</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.OA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.OA" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation from two vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o</strong> (<em>array_like</em>) – 3-vector parallel to Y- axis</p></li>
<li><p><strong>a</strong> – 3-vector parallel to the Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SE3.OA(O,</span> <span class="pre">A)</span></code> is an SE(3) rotation defined in terms of
vectors parallel to the Y- and Z-axes of its reference frame.  In robotics these axes are
respectively called the orientation and approach vectors defined such that
R = [N O A] and N = O x A.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>The A vector is the only guaranteed to have the same direction in the resulting
rotation matrix</p></li>
<li><p>O and A do not have to be unit-length, they are normalized</p></li>
<li><p>O and A do not have to be orthogonal, so long as they are not parallel</p></li>
<li><p>The vectors O and A are parallel to the Y- and Z-axes of the equivalent coordinate frame.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.oa2r" title="spatialmath.base.transforms3d.oa2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.oa2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.AngVec">
<em class="property">classmethod </em><code class="sig-name descname">AngVec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.AngVec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.AngVec" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) pure rotation matrix from rotation angle and axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>v</strong> (<em>array_like</em>) – rotation axis, 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SE3.AngVec(THETA,</span> <span class="pre">V)</span></code> is an SE(3) rotation defined by
a rotation of <code class="docutils literal notranslate"><span class="pre">THETA</span></code> about the vector <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">==</span> <span class="pre">0</span></code> then return identity matrix.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">~=</span> <span class="pre">0</span></code> then <code class="docutils literal notranslate"><span class="pre">V</span></code> must have a finite length.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.angvec" title="spatialmath.pose3d.SE3.angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.angvec2r" title="spatialmath.base.transforms3d.angvec2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.angvec2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Exp">
<em class="property">classmethod </em><code class="sig-name descname">Exp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Exp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) rotation matrix from se(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>numpy ndarray</em>) – Lie algebra se(3)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Exp(S)</span></code> is an SE(3) rotation defined by its Lie algebra
which is a 4x4 se(3) matrix (skew symmetric)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Exp(t)</span></code> is an SE(3) rotation defined by a 6-element twist
vector (the unique elements of the se(3) skew-symmetric matrix)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trexp" title="spatialmath.base.transforms3d.trexp"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.trexp()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.skew" title="spatialmath.base.transformsNd.skew"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transformsNd.skew()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Tx">
<em class="property">classmethod </em><code class="sig-name descname">Tx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Tx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) translation along the X-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>float</em>) – translation distance along the X-axis</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<p><cite>SE3.Tz(D)`</cite> is an SE(3) translation of D along the x-axis</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Ty">
<em class="property">classmethod </em><code class="sig-name descname">Ty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Ty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Ty" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) translation along the Y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>y</strong> (<em>float</em>) – translation distance along the Y-axis</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<p><cite>SE3.Tz(D)`</cite> is an SE(3) translation of D along the y-axis</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Tz">
<em class="property">classmethod </em><code class="sig-name descname">Tz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Tz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Tz" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) translation along the Z-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>z</strong> (<em>float</em>) – translation distance along the Z-axis</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<p><cite>SE3.Tz(D)`</cite> is an SE(3) translation of D along the z-axis</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.pose3d.SE3.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Ad">
<code class="sig-name descname">Ad</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.Ad" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjoint of SO(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>adjoint matrix</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SEO.Ad</span></code> is the 6x6 adjoint matrix</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Twist.ad.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Delta">
<em class="property">classmethod </em><code class="sig-name descname">Delta</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SE3.Delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SE3.Delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) from differential motion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>6-element array_like</em>) – differential motion</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">delta2tr(d)</span></code> is an SE(3) representing differential 
motion <span class="math notranslate nohighlight">\(d = [\delta_x, \delta_y, \delta_z, \theta_x, \theta_y, \theta_z\)</span>.</p></li>
</ul>
<p>Reference: Robotics, Vision &amp; Control: Second Edition, P. Corke, Springer 2016; p67.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.delta" title="spatialmath.pose3d.SE3.delta"><code class="xref py py-func docutils literal notranslate"><span class="pre">delta()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">delta2tr()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.N">
<em class="property">property </em><code class="sig-name descname">N</code><a class="headerlink" href="#spatialmath.pose3d.SE3.N" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimension of the object’s group (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dimension</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
<p>Dimension of the group is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code> or <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, and 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code>.
This corresponds to the dimension of the space, 2D or 3D, to which these
rotations or rigid-body motions apply.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">N</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.R">
<em class="property">property </em><code class="sig-name descname">R</code><a class="headerlink" href="#spatialmath.pose3d.SE3.R" title="Permalink to this definition">¶</a></dt>
<dd><p>SO(3) or SE(3) as rotation matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>rotational component</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">x.R</span></code> returns the rotation matrix, when <cite>x</cite> is <cite>SO3</cite> or <cite>SE3</cite>. If <cite>len(x)</cite> is:</p>
<ul class="simple">
<li><p>1, return an ndarray with shape=(3,3)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3,3)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">+</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left addend</p></li>
<li><p><strong>right</strong> – right addend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sum</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – for incompatible arguments</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy ndarray, shape=(N,N)</p>
</dd>
</dl>
<p>Add elements of two poses.  This is not a group operation so the
result is a matrix not a pose class.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">+</span> <span class="pre">Y</span></code> is the element-wise sum of the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">+</span> <span class="pre">s</span></code> is the element-wise sum of the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">+</span> <span class="pre">X</span></code> is the element-wise sum of the matrix value of <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 17%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Operands</p></th>
<th class="head" colspan="2"><p>Sum</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise matrix sum</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>scalar</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise sum</p></td>
</tr>
<tr class="row-odd"><td><p>scalar</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise sum</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Pose is <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance</p></li>
<li><p>N is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>; 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code></p></li>
<li><p>scalar + Pose is handled by <code class="docutils literal notranslate"><span class="pre">__radd__</span></code></p></li>
<li><p>scalar addition is commutative</p></li>
<li><p>Any other input combinations result in a ValueError.</p></li>
</ol>
<p>For pose addition the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> operands may be a sequence which
results in the result being a sequence:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">+</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">+</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">+</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">+</span> <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">==</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left side of comparison</p></li>
<li><p><strong>right</strong> – right side of comparison</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>poses are equal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Test two poses for equality</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">==</span> <span class="pre">Y</span></code> is true of the poses are of the same type and numerically
equal.</p></li>
</ul>
<p>If either operand contains a sequence the results is a sequence 
according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">==</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">==</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">==</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">==</span> <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">*</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left multiplicand</p></li>
<li><p><strong>right</strong> – right multiplicand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>product</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>ValueError</p>
</dd>
</dl>
<p>Pose composition, scaling or vector transformation:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> compounds the poses <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">s</span></code> performs elementwise multiplication of the elements of <code class="docutils literal notranslate"><span class="pre">X</span></code> by <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">*</span> <span class="pre">X</span></code> performs elementwise multiplication of the elements of <code class="docutils literal notranslate"><span class="pre">X</span></code> by <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">v</span></code> linear transform of the vector <code class="docutils literal notranslate"><span class="pre">v</span></code></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 18%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Multiplicands</p></th>
<th class="head" colspan="2"><p>Product</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>matrix product</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>scalar</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise product</p></td>
</tr>
<tr class="row-odd"><td><p>scalar</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise product</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>N-vector</p></td>
<td><p>N-vector</p></td>
<td><p>vector transform</p></td>
</tr>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>NxM matrix</p></td>
<td><p>NxM matrix</p></td>
<td><p>transform each column</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Pose is <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance</p></li>
<li><p>N is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>; 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code></p></li>
<li><p>scalar x Pose is handled by <code class="docutils literal notranslate"><span class="pre">__rmul__</span></code></p></li>
<li><p>scalar multiplication is commutative but the result is not a group
operation so the result will be a matrix</p></li>
<li><p>Any other input combinations result in a ValueError.</p></li>
</ol>
<p>For pose composition the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> operands may be a sequence</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
<p>For vector transformation there are three cases</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 22%" />
<col style="width: 10%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Multiplicands</p></th>
<th class="head" colspan="2"><p>Product</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>right.shape</p></th>
<th class="head"><p>shape</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>(N,)</p></td>
<td><p>(N,)</p></td>
<td><p>vector transformation</p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>(N,)</p></td>
<td><p>(N,M)</p></td>
<td><p>vector transformations</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>(N,M)</p></td>
<td><p>(N,M)</p></td>
<td><p>column transformation</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>for the <code class="docutils literal notranslate"><span class="pre">SE2</span></code> and <code class="docutils literal notranslate"><span class="pre">SE3</span></code> case the vectors are converted to homogeneous
form, transformed, then converted back to Euclidean form.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.__ne__">
<code class="sig-name descname">__ne__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">!=</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left side of comparison</p></li>
<li><p><strong>right</strong> – right side of comparison</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>poses are not equal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Test two poses for inequality</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">==</span> <span class="pre">Y</span></code> is true of the poses are of the same type but not numerically
equal.</p></li>
</ul>
<p>If either operand contains a sequence the results is a sequence 
according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">!=</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">!=</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">!=</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">!=</span> <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.__pow__">
<code class="sig-name descname">__pow__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.__pow__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">**</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> – pose</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pose to the power n</p>
</dd>
</dl>
<p>Raise all elements of pose to the specified power.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X**n</span></code> raise all values in <code class="docutils literal notranslate"><span class="pre">X</span></code> to the power <code class="docutils literal notranslate"><span class="pre">n</span></code></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">-</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left minuend</p></li>
<li><p><strong>right</strong> – right subtrahend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>difference</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – for incompatible arguments</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy ndarray, shape=(N,N)</p>
</dd>
</dl>
<p>Subtract elements of two poses.  This is not a group operation so the
result is a matrix not a pose class.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">-</span> <span class="pre">Y</span></code> is the element-wise difference of the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">-</span> <span class="pre">s</span></code> is the element-wise difference of the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">-</span> <span class="pre">X</span></code> is the element-wise difference of <code class="docutils literal notranslate"><span class="pre">s</span></code> and the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 16%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Operands</p></th>
<th class="head" colspan="2"><p>Sum</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise matrix difference</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>scalar</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise sum</p></td>
</tr>
<tr class="row-odd"><td><p>scalar</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise sum</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Pose is <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance</p></li>
<li><p>N is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>; 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code></p></li>
<li><p>scalar - Pose is handled by <code class="docutils literal notranslate"><span class="pre">__rsub__</span></code></p></li>
<li><p>Any other input combinations result in a ValueError.</p></li>
</ol>
<p>For pose addition the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> operands may be a sequence which
results in the result being a sequence:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">-</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">-</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">-</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span>&#160; <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.__truediv__">
<code class="sig-name descname">__truediv__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.__truediv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">/</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left multiplicand</p></li>
<li><p><strong>right</strong> – right multiplicand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>product</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – for incompatible arguments</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy ndarray</p>
</dd>
</dl>
<p>Pose composition or scaling:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">/</span> <span class="pre">Y</span></code> compounds the poses <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y.inv()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">/</span> <span class="pre">s</span></code> performs elementwise multiplication of the elements of <code class="docutils literal notranslate"><span class="pre">X</span></code> by <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 17%" />
<col style="width: 39%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Multiplicands</p></th>
<th class="head" colspan="2"><p>Quotient</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>matrix product by inverse</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>scalar</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise division</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Pose is <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance</p></li>
<li><p>N is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>; 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code></p></li>
<li><p>scalar multiplication is not a group operation so the result will 
be a matrix</p></li>
<li><p>Any other input combinations result in a ValueError.</p></li>
</ol>
<p>For pose composition the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> operands may be a sequence</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 16%" />
<col style="width: 7%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right.inv()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right[i].inv()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right.inv()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right[i].inv()</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.a">
<em class="property">property </em><code class="sig-name descname">a</code><a class="headerlink" href="#spatialmath.pose3d.SE3.a" title="Permalink to this definition">¶</a></dt>
<dd><p>Approach vector of SO(3) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>approach vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Is the third column of the rotation submatrix, sometimes called the approach
vector.  Parallel to the z-axis of the frame defined by this pose.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.about">
<em class="property">property </em><code class="sig-name descname">about</code><a class="headerlink" href="#spatialmath.pose3d.SE3.about" title="Permalink to this definition">¶</a></dt>
<dd><p>Succinct summary of object type and length (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>succinct summary</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p>Displays the type and the number of elements in compact form, for 
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">about</span><span class="p">)</span>
<span class="go">SE3[20]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.angvec">
<code class="sig-name descname">angvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.angvec" title="Permalink to this definition">¶</a></dt>
<dd><p>SO(3) or SE(3) as angle and rotation vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\((\theta, {\bf v})\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.angvec()</span></code> is a tuple <span class="math notranslate nohighlight">\((\theta, v)\)</span> containing the rotation 
angle and a rotation axis which is equivalent to the rotation of
the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<p>By default the angle is in radians but can be changed setting <cite>unit=’deg’</cite>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If the input is SE(3) the translation component is ignored.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">angvec</span><span class="p">()</span>
</pre></div>
</div>
<blockquote>
<div><p>(0.3, array([0., 0., 1.]))</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">AngVec()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2r()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.animate">
<code class="sig-name descname">animate</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.animate" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pose object as an animated coordinate frame (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (same as <code class="docutils literal notranslate"><span class="pre">self</span></code>) – initial pose, defaults to null/identity</p></li>
<li><p><strong>**kwargs</strong> – plotting options</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.animate()</span></code> displays the pose <code class="docutils literal notranslate"><span class="pre">X</span></code> as a coordinate frame moving
from the origin in either 2D or 3D.  There are many options, see the 
links below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X.animate(*args,</span> <span class="pre">start=X1)</span></code> displays the pose <code class="docutils literal notranslate"><span class="pre">X</span></code> as a coordinate
frame moving from pose <code class="docutils literal notranslate"><span class="pre">X1</span></code>, in either 2D or 3D.  There are 
many options, see the links below.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">SE3</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.tranimate" title="spatialmath.base.transforms3d.tranimate"><code class="xref py py-func docutils literal notranslate"><span class="pre">tranimate()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.tranimate2" title="spatialmath.base.transforms2d.tranimate2"><code class="xref py py-func docutils literal notranslate"><span class="pre">tranimate2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.pose3d.SE3.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.eul">
<code class="sig-name descname">eul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'deg'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.eul" title="Permalink to this definition">¶</a></dt>
<dd><p>SO(3) or SE(3) as Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3-vector of Euler angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">x.eul</span></code> is the Euler angle representation of the rotation.  Euler angles are
a 3-vector <span class="math notranslate nohighlight">\((\phi, \theta, \psi)\)</span> which correspond to consecutive
rotations about the Z, Y, Z axes respectively.</p>
<p>If <cite>len(x)</cite> is:</p>
<ul class="simple">
<li><p>1, return an ndarray with shape=(3,)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3)</p></li>
<li><p>ndarray with shape=(3,), if len(R) == 1</p></li>
<li><p>ndarray with shape=(N,3), if len(R) = N &gt; 1</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.Eul" title="spatialmath.pose3d.SE3.Eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">Eul()</span></code></a>, :<a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.tr2eul()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.interp">
<code class="sig-name descname">interp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate pose (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (same as <code class="docutils literal notranslate"><span class="pre">self</span></code>) – initial pose</p></li>
<li><p><strong>s</strong> (<em>float</em><em> or </em><em>array_like</em>) – interpolation coefficient, range 0 to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>interpolated pose</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO2, SE2, <a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3">SO3</a>, SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.interp(s)</span></code> interpolates the pose X between identity when s=0
and X when s=1.</p></li>
</ul>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 20%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(X)</p></th>
<th class="head"><p>len(s)</p></th>
<th class="head"><p>len(result)</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>Y = interp(identity, X, s)</p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p>Y[i] = interp(T0, X[i], s)</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p>Y[i] = interp(T0, X, s[i])</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">SE3(array([[1., 0., 0., 0.],</span>
<span class="go">           [0., 1., 0., 0.],</span>
<span class="go">           [0., 0., 1., 0.],</span>
<span class="go">           [0., 0., 0., 1.]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">SE3(array([[ 1.        ,  0.        ,  0.        ,  0.        ],</span>
<span class="go">           [ 0.        ,  0.95533649, -0.29552021,  0.        ],</span>
<span class="go">           [ 0.        ,  0.29552021,  0.95533649,  0.        ],</span>
<span class="go">           [ 0.        ,  0.        ,  0.        ,  1.        ]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="go">SE3(array([[ 1.        ,  0.        ,  0.        ,  0.        ],</span>
<span class="go">           [ 0.        ,  0.98614323, -0.16589613,  0.        ],</span>
<span class="go">           [ 0.        ,  0.16589613,  0.98614323,  0.        ],</span>
<span class="go">           [ 0.        ,  0.        ,  0.        ,  1.        ]]))</span>
</pre></div>
</div>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>For SO3 and SE3 rotation is interpolated using quaternion spherical linear interpolation (slerp).</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trinterp" title="spatialmath.base.transforms3d.trinterp"><code class="xref py py-func docutils literal notranslate"><span class="pre">trinterp()</span></code></a>, <a class="reference internal" href="#spatialmath.base.quaternions.slerp" title="spatialmath.base.quaternions.slerp"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.quaternions.slerp()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.trinterp2" title="spatialmath.base.transforms2d.trinterp2"><code class="xref py py-func docutils literal notranslate"><span class="pre">trinterp2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.isSE">
<em class="property">property </em><code class="sig-name descname">isSE</code><a class="headerlink" href="#spatialmath.pose3d.SE3.isSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SE(n) group (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<em>SO2</em><em>, </em><em>SE2</em><em>, </em><a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3"><em>SO3</em></a><em>, </em><em>SE3 instance</em>) – object to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SE2 or SE3</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.isSO">
<em class="property">property </em><code class="sig-name descname">isSO</code><a class="headerlink" href="#spatialmath.pose3d.SE3.isSO" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SO(n) group (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<em>SO2</em><em>, </em><em>SE2</em><em>, </em><a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3"><em>SO3</em></a><em>, </em><em>SE3 instance</em>) – object to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SO2 or SO3</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.ishom">
<code class="sig-name descname">ishom</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.ishom" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SE(3) group (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SE3</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>For compatibility with Spatial Math Toolbox for MATLAB.
In Python use <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">SE3)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.ishom2">
<code class="sig-name descname">ishom2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.ishom2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SE(2) group (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SE2</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>For compatibility with Spatial Math Toolbox for MATLAB.
In Python use <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">SE2)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.isrot">
<code class="sig-name descname">isrot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.isrot" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SO(3) group (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SO3</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>For compatibility with Spatial Math Toolbox for MATLAB.
In Python use <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">SO3)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.isrot2">
<code class="sig-name descname">isrot2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.isrot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SO(2) group (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SO2</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>For compatibility with Spatial Math Toolbox for MATLAB.
In Python use <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">SO2)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">twist</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Logarithm of pose (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>logarithm :rtype: numpy.ndarray :raises: ValueError</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix logarithm.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 9%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Pose</p></th>
<th class="head"><p>Shape</p></th>
<th class="head"><p>Structure</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>SO2</p></td>
<td><p>(2,2)</p></td>
<td><p>skew-symmetric SE2    (3,3)   augmented skew-symmetric</p></td>
</tr>
<tr class="row-even"><td><p>SO3</p></td>
<td><p>(3,3)</p></td>
<td><p>skew-symmetric SE3    (4,4)   augmented skew-symmetric</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">array([[ 0. , -0. ,  0. ,  0. ],</span>
<span class="go">       [ 0. ,  0. , -0.3,  0. ],</span>
<span class="go">       [-0. ,  0.3,  0. ,  0. ],</span>
<span class="go">       [ 0. ,  0. ,  0. ,  0. ]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms2d.trlog2" title="spatialmath.base.transforms2d.trlog2"><code class="xref py py-func docutils literal notranslate"><span class="pre">trlog2()</span></code></a>,</p>
</dd>
</dl>
<p><a class="reference internal" href="#spatialmath.base.transforms3d.trlog" title="spatialmath.base.transforms3d.trlog"><code class="xref py py-func docutils literal notranslate"><span class="pre">trlog()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.n">
<em class="property">property </em><code class="sig-name descname">n</code><a class="headerlink" href="#spatialmath.pose3d.SE3.n" title="Permalink to this definition">¶</a></dt>
<dd><p>Normal vector of SO(3) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>normal vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Is the first column of the rotation submatrix, sometimes called the normal
vector.  Parallel to the x-axis of the frame defined by this pose.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.norm">
<code class="sig-name descname">norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize pose (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pose</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>SO2, SE2, <a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3">SO3</a>, SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.norm()</span></code> is an equivalent pose object but the rotational matrix 
part of all values has been adjusted to ensure it is a proper orthogonal
matrix rotation.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">SE3(array([[1., 0., 0., 0.],</span>
<span class="go">           [0., 1., 0., 0.],</span>
<span class="go">           [0., 0., 1., 0.],</span>
<span class="go">           [0., 0., 0., 1.]]))</span>
</pre></div>
</div>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Only the direction of A vector (the z-axis) is unchanged.</p></li>
<li><p>Used to prevent finite word length arithmetic causing transforms to 
become ‘unnormalized’.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trnorm" title="spatialmath.base.transforms3d.trnorm"><code class="xref py py-func docutils literal notranslate"><span class="pre">trnorm()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">trnorm2()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.o">
<em class="property">property </em><code class="sig-name descname">o</code><a class="headerlink" href="#spatialmath.pose3d.SE3.o" title="Permalink to this definition">¶</a></dt>
<dd><p>Orientation vector of SO(3) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>orientation vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Is the second column of the rotation submatrix, sometimes called the orientation
vector.  Parallel to the y-axis of the frame defined by this pose.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pose object as a coordinate frame (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – plotting options</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.plot()</span></code> displays the pose <code class="docutils literal notranslate"><span class="pre">X</span></code> as a coordinate frame in either
2D or 3D.  There are many options, see the links below.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trplot" title="spatialmath.base.transforms3d.trplot"><code class="xref py py-func docutils literal notranslate"><span class="pre">trplot()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.trplot2" title="spatialmath.base.transforms2d.trplot2"><code class="xref py py-func docutils literal notranslate"><span class="pre">trplot2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.printline">
<code class="sig-name descname">printline</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.printline" title="Permalink to this definition">¶</a></dt>
<dd><p>Print pose as a single line (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>str</em>) – text label to put at start of line</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – conversion format for each number as used by <code class="docutils literal notranslate"><span class="pre">format()</span></code></p></li>
<li><p><strong>label</strong> – text label to put at start of line</p></li>
<li><p><strong>orient</strong> (<em>str</em>) – 3-angle convention to use</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p>For SO(3) or SE(3) also:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>orient</strong> (<em>str</em>) – 3-angle convention to use</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.printline()</span></code> print <code class="docutils literal notranslate"><span class="pre">X</span></code> in single-line format to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>, followed
by a newline</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X.printline(file=None)</span></code> return a string containing <code class="docutils literal notranslate"><span class="pre">X</span></code> in 
single-line format</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">printline</span><span class="p">()</span>
<span class="go">t =        0,        0,        0; rpy/zyx =       17,        0,        0 deg</span>
</pre></div>
</div>
<p>If <cite>X</cite> contains a sequence, print one line per element.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.prod">
<code class="sig-name descname">prod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.prod" title="Permalink to this definition">¶</a></dt>
<dd><p>Product of elements</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Product of elements</p>
</dd>
</dl>
<p>For a pose instance with N values return the matrix product of those
elements <span class="math notranslate nohighlight">\(\prod_i^N T_i\)</span>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.rpy">
<code class="sig-name descname">rpy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'deg'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.rpy" title="Permalink to this definition">¶</a></dt>
<dd><p>SO(3) or SE(3) as roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>str</em>) – angle sequence order, default to ‘zyx’</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3-vector of roll-pitch-yaw angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">x.rpy</span></code> is the roll-pitch-yaw angle representation of the rotation.  The angles are
a 3-vector <span class="math notranslate nohighlight">\((r, p, y)\)</span> which correspond to successive rotations about the axes
specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Convention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
<p>If <cite>len(x)</cite> is:</p>
<ul class="simple">
<li><p>1, return an ndarray with shape=(3,)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.RPY" title="spatialmath.pose3d.SE3.RPY"><code class="xref py py-func docutils literal notranslate"><span class="pre">RPY()</span></code></a>, :<a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.tr2rpy()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.simplify">
<code class="sig-name descname">simplify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbolically simplify matrix values (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pose with symbolic elements</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>SO2, SE2, <a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3">SO3</a>, SE3 instance</p>
</dd>
</dl>
<p>Apply symbolic simplification to every element of
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="n">sympy</span><span class="o">.</span><span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;theta&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
</pre></div>
</div>
<dl class="simple">
<dt>SE3(array([[1, 0, 0, 0.0],</dt><dd><p>[0, -sin(theta)**2 + cos(theta)**2, -2*sin(theta)*cos(theta), 0],
[0, 2*sin(theta)*cos(theta), -sin(theta)**2 + cos(theta)**2, 0],
[0.0, 0, 0, 1.0]], dtype=object)</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">   SE3(array([[1, 0, 0, 0],</span>
<span class="go">   [0, cos(2*theta), -sin(2*theta), 0],</span>
<span class="go">   [0, sin(2*theta), cos(2*theta), 0],</span>
<span class="go">   [0, 0, 0, 1.00000000000000]], dtype=object))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SE3.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SE3.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="orientation-so-3">
<h4>Orientation SO(3)<a class="headerlink" href="#orientation-so-3" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt id="spatialmath.pose3d.SO3">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.pose3d.</code><code class="sig-name descname">SO3</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.super_pose.SMPose</span></code></p>
<blockquote>
<div><p>SO(3) subclass</p>
<p>This subclass represents rotations in 3D space.  Internally it is a 3x3 
orthogonal matrix belonging to the group SO(3).</p>
</div></blockquote>
digraph inheritancec4a536f54b {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;ABC&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Helper class that provides a standard way to create an ABC using&quot;];
  &quot;SMPose&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Superclass for SO(N) and SE(N) objects&quot;];
  &quot;SMUserList&quot; -&gt; &quot;SMPose&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SMUserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;List properties for spatial math classes&quot;];
  &quot;UserList&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;ABC&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SO3&quot; [URL=&quot;#spatialmath.pose3d.SO3&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;SO(3) subclass&quot;];
  &quot;SMPose&quot; -&gt; &quot;SO3&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;UserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;A more or less complete user-defined wrapper around list objects.&quot;];
}
<dl class="py method">
<dt id="spatialmath.pose3d.SO3.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct new SO(3) object</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SO3()</span></code> is an SO3 instance representing null rotation – the identity matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3(R)</span></code> is an SO3 instance with rotation matrix R which is a 3x3 numpy array representing an valid rotation matrix.  If <code class="docutils literal notranslate"><span class="pre">check</span></code>
is <code class="docutils literal notranslate"><span class="pre">True</span></code> check the matrix value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3([R1,</span> <span class="pre">R2,</span> <span class="pre">...</span> <span class="pre">RN])</span></code> where each Ri is a 3x3 numpy array of rotation matrices, is
an SO3 instance containing N rotations. If <code class="docutils literal notranslate"><span class="pre">check</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>
then each matrix is checked for validity.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3([X1,</span> <span class="pre">X2,</span> <span class="pre">...</span> <span class="pre">XN])</span></code> where each Xi is an SO3 instance, is an SO3 instance containing N rotations.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><cite>SMPose.pose_arghandler</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#spatialmath.pose3d.SO3.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the object’s interal matrix representation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(3,3)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.R">
<em class="property">property </em><code class="sig-name descname">R</code><a class="headerlink" href="#spatialmath.pose3d.SO3.R" title="Permalink to this definition">¶</a></dt>
<dd><p>SO(3) or SE(3) as rotation matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>rotational component</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">x.R</span></code> returns the rotation matrix, when <cite>x</cite> is <cite>SO3</cite> or <cite>SE3</cite>. If <cite>len(x)</cite> is:</p>
<ul class="simple">
<li><p>1, return an ndarray with shape=(3,3)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3,3)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.n">
<em class="property">property </em><code class="sig-name descname">n</code><a class="headerlink" href="#spatialmath.pose3d.SO3.n" title="Permalink to this definition">¶</a></dt>
<dd><p>Normal vector of SO(3) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>normal vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Is the first column of the rotation submatrix, sometimes called the normal
vector.  Parallel to the x-axis of the frame defined by this pose.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.o">
<em class="property">property </em><code class="sig-name descname">o</code><a class="headerlink" href="#spatialmath.pose3d.SO3.o" title="Permalink to this definition">¶</a></dt>
<dd><p>Orientation vector of SO(3) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>orientation vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Is the second column of the rotation submatrix, sometimes called the orientation
vector.  Parallel to the y-axis of the frame defined by this pose.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.a">
<em class="property">property </em><code class="sig-name descname">a</code><a class="headerlink" href="#spatialmath.pose3d.SO3.a" title="Permalink to this definition">¶</a></dt>
<dd><p>Approach vector of SO(3) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>approach vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Is the third column of the rotation submatrix, sometimes called the approach
vector.  Parallel to the z-axis of the frame defined by this pose.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.inv">
<code class="sig-name descname">inv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.inv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse of SO(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<em>SE3 instance</em>) – pose</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>inverse</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO2</p>
</dd>
</dl>
<p>Returns the inverse, which for elements of SO(3) is the transpose.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.eul">
<code class="sig-name descname">eul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'deg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.eul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.eul" title="Permalink to this definition">¶</a></dt>
<dd><p>SO(3) or SE(3) as Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3-vector of Euler angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">x.eul</span></code> is the Euler angle representation of the rotation.  Euler angles are
a 3-vector <span class="math notranslate nohighlight">\((\phi, \theta, \psi)\)</span> which correspond to consecutive
rotations about the Z, Y, Z axes respectively.</p>
<p>If <cite>len(x)</cite> is:</p>
<ul class="simple">
<li><p>1, return an ndarray with shape=(3,)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3)</p></li>
<li><p>ndarray with shape=(3,), if len(R) == 1</p></li>
<li><p>ndarray with shape=(N,3), if len(R) = N &gt; 1</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.Eul" title="spatialmath.pose3d.SE3.Eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">Eul()</span></code></a>, :<a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.tr2eul()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.rpy">
<code class="sig-name descname">rpy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'deg'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.rpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.rpy" title="Permalink to this definition">¶</a></dt>
<dd><p>SO(3) or SE(3) as roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>str</em>) – angle sequence order, default to ‘zyx’</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3-vector of roll-pitch-yaw angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">x.rpy</span></code> is the roll-pitch-yaw angle representation of the rotation.  The angles are
a 3-vector <span class="math notranslate nohighlight">\((r, p, y)\)</span> which correspond to successive rotations about the axes
specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Convention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
<p>If <cite>len(x)</cite> is:</p>
<ul class="simple">
<li><p>1, return an ndarray with shape=(3,)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.RPY" title="spatialmath.pose3d.SE3.RPY"><code class="xref py py-func docutils literal notranslate"><span class="pre">RPY()</span></code></a>, :<a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.tr2rpy()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.angvec">
<code class="sig-name descname">angvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.angvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.angvec" title="Permalink to this definition">¶</a></dt>
<dd><p>SO(3) or SE(3) as angle and rotation vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\((\theta, {\bf v})\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.angvec()</span></code> is a tuple <span class="math notranslate nohighlight">\((\theta, v)\)</span> containing the rotation 
angle and a rotation axis which is equivalent to the rotation of
the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<p>By default the angle is in radians but can be changed setting <cite>unit=’deg’</cite>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If the input is SE(3) the translation component is ignored.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">angvec</span><span class="p">()</span>
</pre></div>
</div>
<blockquote>
<div><p>(0.3, array([0., 0., 1.]))</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">AngVec()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2r()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Ad">
<code class="sig-name descname">Ad</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.Ad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.Ad" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjoint of SO(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>adjoint matrix</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SEO.Ad</span></code> is the 6x6 adjoint matrix</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Twist.ad.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.isvalid">
<em class="property">static </em><code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.isvalid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix is valid SO(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>numpy.ndarray</em>) – matrix to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if the matrix is a valid element of SO(3), ie. it is a 3x3
orthonormal matrix with determinant of +1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">isrot()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Rx">
<em class="property">classmethod </em><code class="sig-name descname">Rx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.Rx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.Rx" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new SO(3) from X-axis rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>θ</strong> (<em>float</em><em> or </em><em>array_like</em>) – rotation angle about the X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Rx(θ)</span></code> is an SO(3) rotation of <code class="docutils literal notranslate"><span class="pre">θ</span></code> radians about the x-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SE3.Rx(θ,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but <code class="docutils literal notranslate"><span class="pre">θ</span></code> is in degrees</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">theta</span></code> is an array then the result is a sequence of rotations defined by consecutive
elements.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
<span class="go">SO3(array([[ 1.        ,  0.        ,  0.        ],</span>
<span class="go">           [ 0.        ,  0.40169542, -0.91577333],</span>
<span class="go">           [ 0.        ,  0.91577333,  0.40169542]]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Ry">
<em class="property">classmethod </em><code class="sig-name descname">Ry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.Ry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.Ry" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new SO(3) from Y-axis rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>θ</strong> (<em>float</em><em> or </em><em>array_like</em>) – rotation angle about Y-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Ry(θ)</span></code> is an SO(3) rotation of <code class="docutils literal notranslate"><span class="pre">θ</span></code> radians about the y-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Ry(θ,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but <code class="docutils literal notranslate"><span class="pre">θ</span></code> is in degrees</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">θ</span></code> is an array then the result is a sequence of rotations defined by consecutive
elements.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO3</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
<span class="go">SO3(array([[ 0.40169542,  0.        ,  0.91577333],</span>
<span class="go">           [ 0.        ,  1.        ,  0.        ],</span>
<span class="go">           [-0.91577333,  0.        ,  0.40169542]]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Rz">
<em class="property">classmethod </em><code class="sig-name descname">Rz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.Rz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.Rz" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new SO(3) from Z-axis rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>θ</strong> (<em>float</em><em> or </em><em>array_like</em>) – rotation angle about Z-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Rz(θ)</span></code> is an SO(3) rotation of <code class="docutils literal notranslate"><span class="pre">θ</span></code> radians about the z-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Rz(θ,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but <code class="docutils literal notranslate"><span class="pre">θ</span></code> is in degrees</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">θ</span></code> is an array then the result is a sequence of rotations defined by consecutive
elements.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">20</span>
<span class="go">SO3(array([[ 0.40169542, -0.91577333,  0.        ],</span>
<span class="go">           [ 0.91577333,  0.40169542,  0.        ],</span>
<span class="go">           [ 0.        ,  0.        ,  1.        ]]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Rand">
<em class="property">classmethod </em><code class="sig-name descname">Rand</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.Rand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.Rand" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new SO(3) from random rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>N</strong> (<em>int</em>) – number of random rotations</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Rand()</span></code> is a random SO(3) rotation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Rand(N)</span></code> is a sequence of N random rotations.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO3</span><span class="o">.</span><span class="n">Rand</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">SO3(array([[ 0.1805082 , -0.97959019,  0.08842995],</span>
<span class="go">           [-0.98357187, -0.17961408,  0.01803234],</span>
<span class="go">           [-0.00178104, -0.0902322 , -0.99591916]]))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.Rand" title="spatialmath.quaternion.UnitQuaternion.Rand"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.quaternion.UnitQuaternion.Rand()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Eul">
<em class="property">classmethod </em><code class="sig-name descname">Eul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angles</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.Eul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.Eul" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new SO(3) from Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> (<em>array_like</em><em> or </em><em>numpy.ndarray with shape=</em><em>(</em><em>N</em><em>,</em><em>3</em><em>)</em>) – Euler angles</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SO3.Eul(angles)</span></code> is an SO(3) rotation defined by a 3-vector of Euler angles <span class="math notranslate nohighlight">\((\phi, \theta, \psi)\)</span> which
correspond to consecutive rotations about the Z, Y, Z axes respectively.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">angles</span></code> is an Nx3 matrix then the result is a sequence of rotations each defined by Euler angles
corresponding to the rows of <code class="docutils literal notranslate"><span class="pre">angles</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.eul" title="spatialmath.pose3d.SE3.eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul()</span></code></a>, <a class="reference internal" href="#spatialmath.pose3d.SE3.Eul" title="spatialmath.pose3d.SE3.Eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">Eul()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.eul2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.RPY">
<em class="property">classmethod </em><code class="sig-name descname">RPY</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angles</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.RPY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.RPY" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new SO(3) from roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> (<em>array_like</em><em> or </em><em>numpy.ndarray with shape=</em><em>(</em><em>N</em><em>,</em><em>3</em><em>)</em>) – roll-pitch-yaw angles</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>order</strong> (<em>str</em>) – rotation order: ‘zyx’ [default], ‘xyz’, or ‘yxz’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">SO3.RPY(angles)</span></code> is an SO(3) rotation defined by a 3-vector of roll, pitch, yaw angles <span class="math notranslate nohighlight">\((r, p, y)\)</span></dt><dd><p>which correspond to successive rotations about the axes specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Convention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<p>If <code class="docutils literal notranslate"><span class="pre">angles</span></code> is an Nx3 matrix then the result is a sequence of rotations each defined by RPY angles
corresponding to the rows of angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.rpy" title="spatialmath.pose3d.SE3.rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.pose3d.SE3.RPY" title="spatialmath.pose3d.SE3.RPY"><code class="xref py py-func docutils literal notranslate"><span class="pre">RPY()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.rpy2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.OA">
<em class="property">classmethod </em><code class="sig-name descname">OA</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.OA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.OA" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new SO(3) from two vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o</strong> (<em>array_like</em>) – 3-vector parallel to Y- axis</p></li>
<li><p><strong>a</strong> – 3-vector parallel to the Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SO3.OA(O,</span> <span class="pre">A)</span></code> is an SO(3) rotation defined in terms of
vectors parallel to the Y- and Z-axes of its reference frame.  In robotics these axes are
respectively called the <em>orientation</em> and <em>approach</em> vectors defined such that
R = [N, O, A] and N = O x A.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>Only the <code class="docutils literal notranslate"><span class="pre">A</span></code> vector is guaranteed to have the same direction in the resulting
rotation matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">O</span></code> and <code class="docutils literal notranslate"><span class="pre">A</span></code> do not have to be unit-length, they are normalized</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">O</span></code> and <a href="#id2"><span class="problematic" id="id3">``</span></a>A` do not have to be orthogonal, so long as they are not parallel</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.oa2r" title="spatialmath.base.transforms3d.oa2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.oa2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.AngVec">
<em class="property">classmethod </em><code class="sig-name descname">AngVec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.AngVec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.AngVec" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new SO(3) rotation matrix from rotation angle and axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>v</strong> (<em>array_like</em>) – rotation axis, 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SO3.AngVec(theta,</span> <span class="pre">V)</span></code> is an SO(3) rotation defined by
a rotation of <code class="docutils literal notranslate"><span class="pre">THETA</span></code> about the vector <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<p>If <span class="math notranslate nohighlight">\(\theta \eq 0\)</span> the result in an identity matrix, otherwise
<code class="docutils literal notranslate"><span class="pre">V</span></code> must have a finite length, ie. <span class="math notranslate nohighlight">\(|V| &gt; 0\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.angvec" title="spatialmath.pose3d.SE3.angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.angvec2r" title="spatialmath.base.transforms3d.angvec2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.angvec2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Exp">
<em class="property">classmethod </em><code class="sig-name descname">Exp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">so3</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/pose3d.html#SO3.Exp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.pose3d.SO3.Exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SO(3) rotation matrix from so(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>numpy ndarray</em>) – Lie algebra so(3)</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that passed matrix is valid so(3), default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) rotation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Exp(S)</span></code> is an SO(3) rotation defined by its Lie algebra
which is a 3x3 so(3) matrix (skew symmetric)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Exp(t)</span></code> is an SO(3) rotation defined by a 3-element twist
vector (the unique elements of the so(3) skew-symmetric matrix)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Exp(T)</span></code> is a sequence of SO(3) rotations defined by an Nx3 matrix
of twist vectors, one per row.</p></li>
</ul>
<p>Note:
- if <span class="math notranslate nohighlight">\(\theta \eq 0\)</span> the result in an identity matrix
- an input 3x3 matrix is ambiguous, it could be the first or third case above.  In this</p>
<blockquote>
<div><p>case the parameter <cite>so3</cite> is the decider.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trexp" title="spatialmath.base.transforms3d.trexp"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.trexp()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.skew" title="spatialmath.base.transformsNd.skew"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transformsNd.skew()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.pose3d.SO3.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.N">
<em class="property">property </em><code class="sig-name descname">N</code><a class="headerlink" href="#spatialmath.pose3d.SO3.N" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimension of the object’s group (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dimension</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
<p>Dimension of the group is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code> or <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, and 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code>.
This corresponds to the dimension of the space, 2D or 3D, to which these
rotations or rigid-body motions apply.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">N</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">+</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left addend</p></li>
<li><p><strong>right</strong> – right addend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sum</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – for incompatible arguments</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy ndarray, shape=(N,N)</p>
</dd>
</dl>
<p>Add elements of two poses.  This is not a group operation so the
result is a matrix not a pose class.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">+</span> <span class="pre">Y</span></code> is the element-wise sum of the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">+</span> <span class="pre">s</span></code> is the element-wise sum of the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">+</span> <span class="pre">X</span></code> is the element-wise sum of the matrix value of <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 17%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Operands</p></th>
<th class="head" colspan="2"><p>Sum</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise matrix sum</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>scalar</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise sum</p></td>
</tr>
<tr class="row-odd"><td><p>scalar</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise sum</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Pose is <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance</p></li>
<li><p>N is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>; 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code></p></li>
<li><p>scalar + Pose is handled by <code class="docutils literal notranslate"><span class="pre">__radd__</span></code></p></li>
<li><p>scalar addition is commutative</p></li>
<li><p>Any other input combinations result in a ValueError.</p></li>
</ol>
<p>For pose addition the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> operands may be a sequence which
results in the result being a sequence:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">+</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">+</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">+</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">+</span> <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">==</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left side of comparison</p></li>
<li><p><strong>right</strong> – right side of comparison</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>poses are equal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Test two poses for equality</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">==</span> <span class="pre">Y</span></code> is true of the poses are of the same type and numerically
equal.</p></li>
</ul>
<p>If either operand contains a sequence the results is a sequence 
according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">==</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">==</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">==</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">==</span> <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">*</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left multiplicand</p></li>
<li><p><strong>right</strong> – right multiplicand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>product</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>ValueError</p>
</dd>
</dl>
<p>Pose composition, scaling or vector transformation:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> compounds the poses <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">s</span></code> performs elementwise multiplication of the elements of <code class="docutils literal notranslate"><span class="pre">X</span></code> by <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">*</span> <span class="pre">X</span></code> performs elementwise multiplication of the elements of <code class="docutils literal notranslate"><span class="pre">X</span></code> by <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">v</span></code> linear transform of the vector <code class="docutils literal notranslate"><span class="pre">v</span></code></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 18%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Multiplicands</p></th>
<th class="head" colspan="2"><p>Product</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>matrix product</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>scalar</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise product</p></td>
</tr>
<tr class="row-odd"><td><p>scalar</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise product</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>N-vector</p></td>
<td><p>N-vector</p></td>
<td><p>vector transform</p></td>
</tr>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>NxM matrix</p></td>
<td><p>NxM matrix</p></td>
<td><p>transform each column</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Pose is <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance</p></li>
<li><p>N is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>; 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code></p></li>
<li><p>scalar x Pose is handled by <code class="docutils literal notranslate"><span class="pre">__rmul__</span></code></p></li>
<li><p>scalar multiplication is commutative but the result is not a group
operation so the result will be a matrix</p></li>
<li><p>Any other input combinations result in a ValueError.</p></li>
</ol>
<p>For pose composition the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> operands may be a sequence</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
<p>For vector transformation there are three cases</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 22%" />
<col style="width: 10%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Multiplicands</p></th>
<th class="head" colspan="2"><p>Product</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>right.shape</p></th>
<th class="head"><p>shape</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>(N,)</p></td>
<td><p>(N,)</p></td>
<td><p>vector transformation</p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>(N,)</p></td>
<td><p>(N,M)</p></td>
<td><p>vector transformations</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>(N,M)</p></td>
<td><p>(N,M)</p></td>
<td><p>column transformation</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>for the <code class="docutils literal notranslate"><span class="pre">SE2</span></code> and <code class="docutils literal notranslate"><span class="pre">SE3</span></code> case the vectors are converted to homogeneous
form, transformed, then converted back to Euclidean form.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.__ne__">
<code class="sig-name descname">__ne__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">!=</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left side of comparison</p></li>
<li><p><strong>right</strong> – right side of comparison</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>poses are not equal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Test two poses for inequality</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">==</span> <span class="pre">Y</span></code> is true of the poses are of the same type but not numerically
equal.</p></li>
</ul>
<p>If either operand contains a sequence the results is a sequence 
according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">!=</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">!=</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">!=</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">!=</span> <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.__pow__">
<code class="sig-name descname">__pow__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.__pow__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">**</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> – pose</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pose to the power n</p>
</dd>
</dl>
<p>Raise all elements of pose to the specified power.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X**n</span></code> raise all values in <code class="docutils literal notranslate"><span class="pre">X</span></code> to the power <code class="docutils literal notranslate"><span class="pre">n</span></code></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">-</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left minuend</p></li>
<li><p><strong>right</strong> – right subtrahend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>difference</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – for incompatible arguments</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy ndarray, shape=(N,N)</p>
</dd>
</dl>
<p>Subtract elements of two poses.  This is not a group operation so the
result is a matrix not a pose class.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">-</span> <span class="pre">Y</span></code> is the element-wise difference of the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">-</span> <span class="pre">s</span></code> is the element-wise difference of the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">-</span> <span class="pre">X</span></code> is the element-wise difference of <code class="docutils literal notranslate"><span class="pre">s</span></code> and the matrix value of <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 16%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Operands</p></th>
<th class="head" colspan="2"><p>Sum</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise matrix difference</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>scalar</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise sum</p></td>
</tr>
<tr class="row-odd"><td><p>scalar</p></td>
<td><p>Pose</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise sum</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Pose is <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance</p></li>
<li><p>N is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>; 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code></p></li>
<li><p>scalar - Pose is handled by <code class="docutils literal notranslate"><span class="pre">__rsub__</span></code></p></li>
<li><p>Any other input combinations result in a ValueError.</p></li>
</ol>
<p>For pose addition the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> operands may be a sequence which
results in the result being a sequence:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">-</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">-</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">-</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span>&#160; <span class="pre">right[i]</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.__truediv__">
<code class="sig-name descname">__truediv__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.__truediv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">/</span></code> operator (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – left multiplicand</p></li>
<li><p><strong>right</strong> – right multiplicand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>product</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – for incompatible arguments</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy ndarray</p>
</dd>
</dl>
<p>Pose composition or scaling:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">/</span> <span class="pre">Y</span></code> compounds the poses <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y.inv()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">/</span> <span class="pre">s</span></code> performs elementwise multiplication of the elements of <code class="docutils literal notranslate"><span class="pre">X</span></code> by <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 17%" />
<col style="width: 39%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Multiplicands</p></th>
<th class="head" colspan="2"><p>Quotient</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>Pose</p></td>
<td><p>matrix product by inverse</p></td>
</tr>
<tr class="row-even"><td><p>Pose</p></td>
<td><p>scalar</p></td>
<td><p>NxN matrix</p></td>
<td><p>element-wise division</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Pose is <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>, <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance</p></li>
<li><p>N is 2 for <code class="docutils literal notranslate"><span class="pre">SO2</span></code>, <code class="docutils literal notranslate"><span class="pre">SE2</span></code>; 3 for <code class="docutils literal notranslate"><span class="pre">SO3</span></code> or <code class="docutils literal notranslate"><span class="pre">SE3</span></code></p></li>
<li><p>scalar multiplication is not a group operation so the result will 
be a matrix</p></li>
<li><p>Any other input combinations result in a ValueError.</p></li>
</ol>
<p>For pose composition the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> operands may be a sequence</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 16%" />
<col style="width: 7%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right.inv()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right[i].inv()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right.inv()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right[i].inv()</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.about">
<em class="property">property </em><code class="sig-name descname">about</code><a class="headerlink" href="#spatialmath.pose3d.SO3.about" title="Permalink to this definition">¶</a></dt>
<dd><p>Succinct summary of object type and length (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>succinct summary</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p>Displays the type and the number of elements in compact form, for 
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">about</span><span class="p">)</span>
<span class="go">SE3[20]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.animate">
<code class="sig-name descname">animate</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.animate" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pose object as an animated coordinate frame (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (same as <code class="docutils literal notranslate"><span class="pre">self</span></code>) – initial pose, defaults to null/identity</p></li>
<li><p><strong>**kwargs</strong> – plotting options</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.animate()</span></code> displays the pose <code class="docutils literal notranslate"><span class="pre">X</span></code> as a coordinate frame moving
from the origin in either 2D or 3D.  There are many options, see the 
links below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X.animate(*args,</span> <span class="pre">start=X1)</span></code> displays the pose <code class="docutils literal notranslate"><span class="pre">X</span></code> as a coordinate
frame moving from pose <code class="docutils literal notranslate"><span class="pre">X1</span></code>, in either 2D or 3D.  There are 
many options, see the links below.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">SE3</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.tranimate" title="spatialmath.base.transforms3d.tranimate"><code class="xref py py-func docutils literal notranslate"><span class="pre">tranimate()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.tranimate2" title="spatialmath.base.transforms2d.tranimate2"><code class="xref py py-func docutils literal notranslate"><span class="pre">tranimate2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.pose3d.SO3.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.interp">
<code class="sig-name descname">interp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate pose (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (same as <code class="docutils literal notranslate"><span class="pre">self</span></code>) – initial pose</p></li>
<li><p><strong>s</strong> (<em>float</em><em> or </em><em>array_like</em>) – interpolation coefficient, range 0 to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>interpolated pose</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SO2, SE2, <a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3">SO3</a>, SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.interp(s)</span></code> interpolates the pose X between identity when s=0
and X when s=1.</p></li>
</ul>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 20%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>len(X)</p></th>
<th class="head"><p>len(s)</p></th>
<th class="head"><p>len(result)</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>Y = interp(identity, X, s)</p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p>Y[i] = interp(T0, X[i], s)</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p>Y[i] = interp(T0, X, s[i])</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">SE3(array([[1., 0., 0., 0.],</span>
<span class="go">           [0., 1., 0., 0.],</span>
<span class="go">           [0., 0., 1., 0.],</span>
<span class="go">           [0., 0., 0., 1.]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">SE3(array([[ 1.        ,  0.        ,  0.        ,  0.        ],</span>
<span class="go">           [ 0.        ,  0.95533649, -0.29552021,  0.        ],</span>
<span class="go">           [ 0.        ,  0.29552021,  0.95533649,  0.        ],</span>
<span class="go">           [ 0.        ,  0.        ,  0.        ,  1.        ]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="go">SE3(array([[ 1.        ,  0.        ,  0.        ,  0.        ],</span>
<span class="go">           [ 0.        ,  0.98614323, -0.16589613,  0.        ],</span>
<span class="go">           [ 0.        ,  0.16589613,  0.98614323,  0.        ],</span>
<span class="go">           [ 0.        ,  0.        ,  0.        ,  1.        ]]))</span>
</pre></div>
</div>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>For SO3 and SE3 rotation is interpolated using quaternion spherical linear interpolation (slerp).</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trinterp" title="spatialmath.base.transforms3d.trinterp"><code class="xref py py-func docutils literal notranslate"><span class="pre">trinterp()</span></code></a>, <a class="reference internal" href="#spatialmath.base.quaternions.slerp" title="spatialmath.base.quaternions.slerp"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.quaternions.slerp()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.trinterp2" title="spatialmath.base.transforms2d.trinterp2"><code class="xref py py-func docutils literal notranslate"><span class="pre">trinterp2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.isSE">
<em class="property">property </em><code class="sig-name descname">isSE</code><a class="headerlink" href="#spatialmath.pose3d.SO3.isSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SE(n) group (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<em>SO2</em><em>, </em><em>SE2</em><em>, </em><a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3"><em>SO3</em></a><em>, </em><em>SE3 instance</em>) – object to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SE2 or SE3</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.isSO">
<em class="property">property </em><code class="sig-name descname">isSO</code><a class="headerlink" href="#spatialmath.pose3d.SO3.isSO" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SO(n) group (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<em>SO2</em><em>, </em><em>SE2</em><em>, </em><a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3"><em>SO3</em></a><em>, </em><em>SE3 instance</em>) – object to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SO2 or SO3</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.ishom">
<code class="sig-name descname">ishom</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.ishom" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SE(3) group (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SE3</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>For compatibility with Spatial Math Toolbox for MATLAB.
In Python use <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">SE3)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.ishom2">
<code class="sig-name descname">ishom2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.ishom2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SE(2) group (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SE2</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>For compatibility with Spatial Math Toolbox for MATLAB.
In Python use <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">SE2)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.isrot">
<code class="sig-name descname">isrot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.isrot" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SO(3) group (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SO3</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>For compatibility with Spatial Math Toolbox for MATLAB.
In Python use <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">SO3)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.isrot2">
<code class="sig-name descname">isrot2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.isrot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if object belongs to SO(2) group (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if object is instance of SO2</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>For compatibility with Spatial Math Toolbox for MATLAB.
In Python use <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">SO2)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SO2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isrot</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">twist</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Logarithm of pose (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>logarithm :rtype: numpy.ndarray :raises: ValueError</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix logarithm.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 9%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Pose</p></th>
<th class="head"><p>Shape</p></th>
<th class="head"><p>Structure</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>SO2</p></td>
<td><p>(2,2)</p></td>
<td><p>skew-symmetric SE2    (3,3)   augmented skew-symmetric</p></td>
</tr>
<tr class="row-even"><td><p>SO3</p></td>
<td><p>(3,3)</p></td>
<td><p>skew-symmetric SE3    (4,4)   augmented skew-symmetric</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">log</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">array([[ 0. , -0. ,  0. ,  0. ],</span>
<span class="go">       [ 0. ,  0. , -0.3,  0. ],</span>
<span class="go">       [-0. ,  0.3,  0. ,  0. ],</span>
<span class="go">       [ 0. ,  0. ,  0. ,  0. ]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms2d.trlog2" title="spatialmath.base.transforms2d.trlog2"><code class="xref py py-func docutils literal notranslate"><span class="pre">trlog2()</span></code></a>,</p>
</dd>
</dl>
<p><a class="reference internal" href="#spatialmath.base.transforms3d.trlog" title="spatialmath.base.transforms3d.trlog"><code class="xref py py-func docutils literal notranslate"><span class="pre">trlog()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.norm">
<code class="sig-name descname">norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize pose (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pose</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>SO2, SE2, <a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3">SO3</a>, SE3 instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.norm()</span></code> is an equivalent pose object but the rotational matrix 
part of all values has been adjusted to ensure it is a proper orthogonal
matrix rotation.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">SE3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">SE3(array([[1., 0., 0., 0.],</span>
<span class="go">           [0., 1., 0., 0.],</span>
<span class="go">           [0., 0., 1., 0.],</span>
<span class="go">           [0., 0., 0., 1.]]))</span>
</pre></div>
</div>
<p>Notes:</p>
<ol class="arabic simple">
<li><p>Only the direction of A vector (the z-axis) is unchanged.</p></li>
<li><p>Used to prevent finite word length arithmetic causing transforms to 
become ‘unnormalized’.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trnorm" title="spatialmath.base.transforms3d.trnorm"><code class="xref py py-func docutils literal notranslate"><span class="pre">trnorm()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">trnorm2()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pose object as a coordinate frame (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – plotting options</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.plot()</span></code> displays the pose <code class="docutils literal notranslate"><span class="pre">X</span></code> as a coordinate frame in either
2D or 3D.  There are many options, see the links below.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trplot" title="spatialmath.base.transforms3d.trplot"><code class="xref py py-func docutils literal notranslate"><span class="pre">trplot()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.trplot2" title="spatialmath.base.transforms2d.trplot2"><code class="xref py py-func docutils literal notranslate"><span class="pre">trplot2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.printline">
<code class="sig-name descname">printline</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.printline" title="Permalink to this definition">¶</a></dt>
<dd><p>Print pose as a single line (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>str</em>) – text label to put at start of line</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – conversion format for each number as used by <code class="docutils literal notranslate"><span class="pre">format()</span></code></p></li>
<li><p><strong>label</strong> – text label to put at start of line</p></li>
<li><p><strong>orient</strong> (<em>str</em>) – 3-angle convention to use</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p>For SO(3) or SE(3) also:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>orient</strong> (<em>str</em>) – 3-angle convention to use</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.printline()</span></code> print <code class="docutils literal notranslate"><span class="pre">X</span></code> in single-line format to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>, followed
by a newline</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X.printline(file=None)</span></code> return a string containing <code class="docutils literal notranslate"><span class="pre">X</span></code> in 
single-line format</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">printline</span><span class="p">()</span>
<span class="go">t =        0,        0,        0; rpy/zyx =       17,        0,        0 deg</span>
</pre></div>
</div>
<p>If <cite>X</cite> contains a sequence, print one line per element.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.prod">
<code class="sig-name descname">prod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.prod" title="Permalink to this definition">¶</a></dt>
<dd><p>Product of elements</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Product of elements</p>
</dd>
</dl>
<p>For a pose instance with N values return the matrix product of those
elements <span class="math notranslate nohighlight">\(\prod_i^N T_i\)</span>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.simplify">
<code class="sig-name descname">simplify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbolically simplify matrix values (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pose with symbolic elements</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>SO2, SE2, <a class="reference internal" href="#spatialmath.pose3d.SO3" title="spatialmath.pose3d.SO3">SO3</a>, SE3 instance</p>
</dd>
</dl>
<p>Apply symbolic simplification to every element of
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="n">sympy</span><span class="o">.</span><span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;theta&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
</pre></div>
</div>
<dl class="simple">
<dt>SE3(array([[1, 0, 0, 0.0],</dt><dd><p>[0, -sin(theta)**2 + cos(theta)**2, -2*sin(theta)*cos(theta), 0],
[0, 2*sin(theta)*cos(theta), -sin(theta)**2 + cos(theta)**2, 0],
[0.0, 0, 0, 1.0]], dtype=object)</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">   SE3(array([[1, 0, 0, 0],</span>
<span class="go">   [0, cos(2*theta), -sin(2*theta), 0],</span>
<span class="go">   [0, sin(2*theta), cos(2*theta), 0],</span>
<span class="go">   [0, 0, 0, 1.00000000000000]], dtype=object))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.pose3d.SO3.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.pose3d.SO3.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="quaternions">
<h3>Quaternions<a class="headerlink" href="#quaternions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="unit-quaternions">
<h4>Unit quaternions<a class="headerlink" href="#unit-quaternions" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt id="spatialmath.quaternion.UnitQuaternion">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.quaternion.</code><code class="sig-name descname">UnitQuaternion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">v</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">norm</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.quaternion.Quaternion</span></code></a></p>
<blockquote>
<div><p>A unit quaternion has 2 parts, a scalar <span class="math notranslate nohighlight">\(s\)</span>, and a 3-vector <span class="math notranslate nohighlight">\(v\)</span> and is typically written as</p>
<p><span class="math notranslate nohighlight">\(q = s \langle v_x, v_y, v_z \rangle\)</span></p>
<p>and has a unit length constraint, that is, <span class="math notranslate nohighlight">\(s^2+v_x^2+v_y^2+v_z^2 = 1\)</span>.</p>
<p>A unit-quaternion can be considered as a rotation <span class="math notranslate nohighlight">\(\theta\)</span> about a
unit-vector in space <span class="math notranslate nohighlight">\(v=[v_x, v_y, v_z]\)</span>, so the unit quaternion can also be
written as <span class="math notranslate nohighlight">\(q = \cos \theta/2 \sin \theta/2 &lt;v_x v_y v_z&gt;\)</span>.</p>
<p>The quaternion <span class="math notranslate nohighlight">\(q\)</span> and <span class="math notranslate nohighlight">\(-q\)</span> represent the equivalent rotation, and this is referred to
as a double mapping.</p>
</div></blockquote>
<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">v</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">norm</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a UnitQuaternion instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>norm</strong> (<em>bool</em>) – explicitly normalize the quaternion [default True]</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – explicitly check dimension of passed lists [default True]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit uaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion()</span></code> constructs the identity quaternion 1&lt;0,0,0&gt;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(s,</span> <span class="pre">v)</span></code> constructs a unit quaternion with specified
real <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">v</span></code> vector parts. <code class="docutils literal notranslate"><span class="pre">v</span></code> is a 3-vector given as a
list, tuple, numpy.ndarray</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(v)</span></code> constructs a unit quaternion with specified
elements from <code class="docutils literal notranslate"><span class="pre">v</span></code> which is a 4-vector given as a list, tuple, numpy.ndarray</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(R)</span></code> constructs a unit quaternion from an SO(2)
rotation matrix given as a 3x3 numpy.ndarray. If <code class="docutils literal notranslate"><span class="pre">check</span></code> is True
test the matrix for orthogonality.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(T)</span></code> constructs a unit quaternion from an SE(3)
homogeneous transformation matrix given as a 4x4 numpy.ndarray. If <code class="docutils literal notranslate"><span class="pre">check</span></code> is True
test the matrix for orthogonality.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(X)</span></code> constructs a unit quaternion from the rotational
part of <code class="docutils literal notranslate"><span class="pre">X</span></code> which is an SO3 or SE3 instance.  If len(X) &gt; 1 then
the resulting unit quaternion is of the same length.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion([q1,</span> <span class="pre">q2</span> <span class="pre">..</span> <span class="pre">qN])</span></code> construct a new unit quaternion with <code class="docutils literal notranslate"><span class="pre">N</span></code> values where each element is a 4-vector</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion([Q1,</span> <span class="pre">Q2</span> <span class="pre">..</span> <span class="pre">QN])</span></code> construct a new unit quaternion with <code class="docutils literal notranslate"><span class="pre">N</span></code> values where each element is a UnitQuaternion instance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion([X1,</span> <span class="pre">X2</span> <span class="pre">..</span> <span class="pre">XN])</span></code> construct a new unit quaternion with <code class="docutils literal notranslate"><span class="pre">N</span></code> values where each element is an SO3 or SE3 instance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(M)</span></code> construct a new unit quaternion with <code class="docutils literal notranslate"><span class="pre">N</span></code> values where <code class="docutils literal notranslate"><span class="pre">Q</span></code> is a 4xN NumPy array.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.isvalid">
<em class="property">static </em><code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.isvalid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix is valid unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>numpy.ndarray</em>) – matrix to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true of the matrix is 4x1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.R">
<em class="property">property </em><code class="sig-name descname">R</code><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.R" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion as rotation matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>equivalent rotational matrix</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.R</span></code> returns the rotation matrix which describes the equivalent rotation. If <code class="docutils literal notranslate"><span class="pre">len(x)</span></code> is:</p>
<blockquote>
<div><ul class="simple">
<li><p>1, return an ndarray with shape=(3,3)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3,3)</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.vec3">
<em class="property">property </em><code class="sig-name descname">vec3</code><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.vec3" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion unique vector part</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>vector part of unit quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy array, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.vec3</span></code> is the vector part of a unit quaternion.  If <code class="docutils literal notranslate"><span class="pre">q</span></code> has a negative scalar
part we take the vector part of equivalent unit quaternion with a positive scalar part <code class="docutils literal notranslate"><span class="pre">-q</span></code>.</p>
<p>This vector part is a minimal unique representation of the unit quaternion and can be used in
optimization procedures such as bundle adjustment.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>
<span class="go">-0.416147 &lt;&lt; 0.000000, 0.000000, -0.909297 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">vec3</span>
<span class="go">array([-0.        , -0.        ,  0.90929743])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Vec3</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">vec3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span>
<span class="go">0.416147 &lt;&lt; -0.000000, -0.000000, 0.909297 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">==</span> <span class="n">q2</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.Vec3" title="spatialmath.quaternion.UnitQuaternion.Vec3"><code class="xref py py-func docutils literal notranslate"><span class="pre">Vec3()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Rx">
<em class="property">classmethod </em><code class="sig-name descname">Rx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angle</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.Rx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Rx" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a UnitQuaternion object representing rotation about X-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle</strong> (<em>float</em><em> or </em><em>array_like</em>) – rotation angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – rotation unit ‘rad’ [default] or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(theta)</span></code> constructs a unit quaternion representing a
rotation of <cite>theta</cite> radians about the X-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(theta,</span> <span class="pre">'deg')</span></code> constructs a unit quaternion representing a
rotation of <cite>theta</cite> degrees about the X-axis.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">0.988771 &lt;&lt; 0.149438, 0.000000, 0.000000 &gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.988771 &lt;&lt; 0.149438, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.955336 &lt;&lt; 0.295520, 0.000000, 0.000000 &gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Ry">
<em class="property">classmethod </em><code class="sig-name descname">Ry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angle</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.Ry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Ry" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a UnitQuaternion object representing rotation about Y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle</strong> (<em>float</em><em> or </em><em>array_like</em>) – rotation angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – rotation unit ‘rad’ [default] or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(theta)</span></code> constructs a unit quaternion representing a
rotation of <cite>theta</cite> radians about the Y-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(theta,</span> <span class="pre">'deg')</span></code> constructs a unit quaternion representing a
rotation of <cite>theta</cite> degrees about the Y-axis.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">0.988771 &lt;&lt; 0.000000, 0.149438, 0.000000 &gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Ry</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.988771 &lt;&lt; 0.000000, 0.149438, 0.000000 &gt;&gt;</span>
<span class="go">0.955336 &lt;&lt; 0.000000, 0.295520, 0.000000 &gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Rz">
<em class="property">classmethod </em><code class="sig-name descname">Rz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angle</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.Rz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Rz" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a UnitQuaternion object representing rotation about Z-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle</strong> (<em>float</em><em> or </em><em>array_like</em>) – rotation angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – rotation unit ‘rad’ [default] or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(theta)</span></code> constructs a unit quaternion representing a
rotation of <cite>theta</cite> radians about the Z-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(theta,</span> <span class="pre">'deg')</span></code> constructs a unit quaternion representing a
rotation of <cite>theta</cite> degrees about the Z-axis.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">0.988771 &lt;&lt; 0.000000, 0.000000, 0.149438 &gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.988771 &lt;&lt; 0.000000, 0.000000, 0.149438 &gt;&gt;</span>
<span class="go">0.955336 &lt;&lt; 0.000000, 0.000000, 0.295520 &gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Rand">
<em class="property">classmethod </em><code class="sig-name descname">Rand</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.Rand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Rand" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new random unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>N</strong> (<em>int</em>) – number of random rotations</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion.Rand()</span></code> is a uniformly distributed random unit quaternion value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SO3.Rand(N)</span></code> is a unit quaternion instance containing a sequence of N random unit quaternion
values.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rand</span><span class="p">()</span>
<span class="go">0.622093 &lt;&lt; -0.679361, 0.337190, -0.194349 &gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rand</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0.117153 &lt;&lt; -0.838230, 0.219071, -0.485442 &gt;&gt;</span>
<span class="go">-0.088206 &lt;&lt; -0.397185, 0.852524, -0.328127 &gt;&gt;</span>
<span class="go">-0.204108 &lt;&lt; -0.203155, -0.687019, 0.667138 &gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.Rand" title="spatialmath.quaternion.UnitQuaternion.Rand"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.quaternion.UnitQuaternion.Rand()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Eul">
<em class="property">classmethod </em><code class="sig-name descname">Eul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angles</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.Eul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Eul" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new unit quaternion from Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> (<em>array_like</em>) – 3-vector of Euler angles</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion.Eul(ANGLES)</span></code> is a unit quaternion that describes the 3D rotation defined by a 3-vector of Euler angles <span class="math notranslate nohighlight">\((\phi, \theta, \psi)\)</span> which
correspond to consecutive rotations about the Z, Y, Z axes respectively.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Eul</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="go">0.975170 &lt;&lt; 0.009967, 0.099335, 0.197677 &gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.RPY" title="spatialmath.quaternion.UnitQuaternion.RPY"><code class="xref py py-func docutils literal notranslate"><span class="pre">RPY()</span></code></a>, <a class="reference internal" href="#spatialmath.pose3d.SE3.eul" title="spatialmath.pose3d.SE3.eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul()</span></code></a>, <a class="reference internal" href="#spatialmath.pose3d.SE3.Eul" title="spatialmath.pose3d.SE3.Eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">Eul()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.eul2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.RPY">
<em class="property">classmethod </em><code class="sig-name descname">RPY</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angles</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.RPY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.RPY" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new unit quaternion from roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> (<em>array_like</em>) – 3-vector of roll-pitch-yaw angles</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>unit</strong> – rotation order: ‘zyx’ [default], ‘xyz’, or ‘yxz’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion.RPY(ANGLES)</span></code> is a unit quaternion that describes the 3D rotation defined by a  3-vector of roll, pitch, yaw angles <span class="math notranslate nohighlight">\((r, p, y)\)</span>
which correspond to successive rotations about the axes specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Covention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">RPY</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="go">0.983347 &lt;&lt; 0.034271, 0.106021, 0.143572 &gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.Eul" title="spatialmath.quaternion.UnitQuaternion.Eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">Eul()</span></code></a>, <a class="reference internal" href="#spatialmath.pose3d.SE3.rpy" title="spatialmath.pose3d.SE3.rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.pose3d.SE3.RPY" title="spatialmath.pose3d.SE3.RPY"><code class="xref py py-func docutils literal notranslate"><span class="pre">RPY()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.rpy2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.OA">
<em class="property">classmethod </em><code class="sig-name descname">OA</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.OA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.OA" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new unit quaternion from two vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o</strong> (<em>array_like</em>) – 3-vector parallel to Y- axis</p></li>
<li><p><strong>a</strong> (<em>array_like</em>) – 3-vector parallel to the Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SO3.OA(O,</span> <span class="pre">A)</span></code> is a unit quaternion that describes the 3D rotation defined in terms of
vectors parallel to the Y- and Z-axes of its reference frame.  In robotics these axes are
respectively called the orientation and approach vectors defined such that
R = [N O A] and N = O x A.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>The A vector is the only guaranteed to have the same direction in the resulting
rotation matrix</p></li>
<li><p>O and A do not have to be unit-length, they are normalized</p></li>
<li><p>O and A do not have to be orthogonal, so long as they are not parallel</p></li>
<li><p>The vectors O and A are parallel to the Y- and Z-axes of the equivalent coordinate frame.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">OA</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">0.707107 &lt;&lt; -0.707107, 0.000000, -0.000000 &gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.oa2r" title="spatialmath.base.transforms3d.oa2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.oa2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.AngVec">
<em class="property">classmethod </em><code class="sig-name descname">AngVec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.AngVec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.AngVec" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new unit quaternion from rotation angle and axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>v</strong> (<em>array_like</em>) – rotation axis, 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SO3.AngVec(θ,</span> <span class="pre">v)</span></code> is a unit quaternion that describes the 3D rotation
defined by a rotation of <code class="docutils literal notranslate"><span class="pre">θ</span></code> about the 3-vector <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If <span class="math notranslate nohighlight">\(\theta = 0\)</span> then return an identity unit quaternion,</p></li>
<li><p>Otherwise <span class="math notranslate nohighlight">\(\lVert v \rVert &gt; 0\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(v\)</span> does not have to be a unit vector.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">AngVec</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">AngVec</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="go">0.707107 &lt;&lt; 0.707107, 0.000000, 0.000000 &gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.angvec" title="spatialmath.pose3d.SE3.angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec()</span></code></a>,</p>
</dd>
</dl>
<p><a class="reference internal" href="#spatialmath.base.transforms3d.angvec2r" title="spatialmath.base.transforms3d.angvec2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.angvec2r()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.EulerVec">
<em class="property">classmethod </em><code class="sig-name descname">EulerVec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">w</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.EulerVec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.EulerVec" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new unit quaternion from Euler rotation vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>w</strong> (<em>3-element array_like</em>) – rotation axis</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">SO3.EulerVec(ω)</span></code> is a unit quaternion that describes the 3D rotation
defined by a rotation of <span class="math notranslate nohighlight">\(\theta = \lVert \omega \rVert\)</span> about the
unit 3-vector <span class="math notranslate nohighlight">\(\omega / \lVert \omega \rVert\)</span>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If <span class="math notranslate nohighlight">\(\lVert \omega \rVert = 0\)</span> then return an identity unit quaternion,</p></li>
<li><p>Otherwise <span class="math notranslate nohighlight">\(\lVert v \rVert &gt; 0\)</span>.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">AngVec</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">AngVec</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="go">0.707107 &lt;&lt; 0.707107, 0.000000, 0.000000 &gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.angvec" title="spatialmath.pose3d.SE3.angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec()</span></code></a>, </p>
</dd>
</dl>
<p><a class="reference internal" href="#spatialmath.base.transforms3d.angvec2r" title="spatialmath.base.transforms3d.angvec2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.angvec2r()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Vec3">
<em class="property">classmethod </em><code class="sig-name descname">Vec3</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vec</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.Vec3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Vec3" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new unit quaternion from its vector part</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vec</strong> (<em>3-element array_like</em>) – vector part of unit quaternion</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion.Vec(v)</span></code> is a new unit quaternion with the specified vector part
and the scalar part is <span class="math notranslate nohighlight">\(s = \sqrt{1 - v_x^2 - v_y^2 - v_z^2}\)</span>.  The unit quaternion
will always have a positive scalar part.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>
<span class="go">-0.416147 &lt;&lt; 0.000000, 0.000000, -0.909297 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">vec3</span>
<span class="go">array([-0.        , -0.        ,  0.90929743])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Vec3</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">vec3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span>
<span class="go">0.416147 &lt;&lt; -0.000000, -0.000000, 0.909297 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">==</span> <span class="n">q2</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.vec3" title="spatialmath.quaternion.UnitQuaternion.vec3"><code class="xref py py-func docutils literal notranslate"><span class="pre">vec3()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.inv">
<code class="sig-name descname">inv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.inv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse of unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>unit-quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q.inv()</span></code> is the inverse of the unit-quaternion.  This is a group operation
and the product of the unit-quaternion and its inverse is the identity quaternion.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">inv</span><span class="p">()</span>
<span class="go">0.988771 &lt;&lt; -0.149438, -0.000000, -0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">inv</span><span class="p">()</span> <span class="o">*</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span><span class="o">.</span><span class="n">inv</span><span class="p">()</span>
<span class="go">0.988771 &lt;&lt; -0.149438, -0.000000, -0.000000 &gt;&gt;</span>
<span class="go">0.955336 &lt;&lt; -0.295520, -0.000000, -0.000000 &gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.qvmul">
<em class="property">static </em><code class="sig-name descname">qvmul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qv1</span></em>, <em class="sig-param"><span class="n">qv2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.qvmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.qvmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply unit quaternions defined by unique vector parts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qv1</strong> (<em>numpy array</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>)</em>) – vector representation of first multiplicand</p></li>
<li><p><strong>qv1</strong> – vector representation of second multiplicand</p></li>
</ul>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">UnitQuaternion(qv1,</span> <span class="pre">qv2)</span></code> is the Hamilton product of two unit quaternions
represented in minimal vector form.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="o">-</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qv1</span> <span class="o">=</span> <span class="n">q1</span><span class="o">.</span><span class="n">vec3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qv1</span>
<span class="go">array([0.14943813, 0.        , 0.        ])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qv2</span> <span class="o">=</span> <span class="n">q2</span><span class="o">.</span><span class="n">vec3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qv</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">qvmul</span><span class="p">(</span><span class="n">qv1</span><span class="p">,</span> <span class="n">qv2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qv</span>
<span class="go">array([ 0.1477601 , -0.1477601 , -0.02233176])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Vec3</span><span class="p">(</span><span class="n">qv</span><span class="p">)</span>
<span class="go">0.977668 &lt;&lt; 0.147760, -0.147760, -0.022332 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="o">*</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="o">-</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">0.977668 &lt;&lt; 0.147760, -0.147760, -0.022332 &gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.vec3" title="spatialmath.quaternion.UnitQuaternion.vec3"><code class="xref py py-func docutils literal notranslate"><span class="pre">vec3()</span></code></a>, <a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.Vec3" title="spatialmath.quaternion.UnitQuaternion.Vec3"><code class="xref py py-func docutils literal notranslate"><span class="pre">Vec3()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.dot">
<code class="sig-name descname">dot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">omega</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Rate of change of unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>omega</strong> (<em>3-element array_like</em>) – angular velocity in world frame</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rate of change of unit quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.dot(ω)</span></code> is the rate of change of the elements of the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>
which represents the orientation of a body frame with angular velocity <code class="docutils literal notranslate"><span class="pre">ω</span></code> in
the world frame.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.dotb">
<code class="sig-name descname">dotb</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">omega</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.dotb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.dotb" title="Permalink to this definition">¶</a></dt>
<dd><p>Rate of change of unit quaternion in body frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>omega</strong> (<em>3-element array_like</em>) – angular velocity in body frame</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rate of change of unit quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.dotb(ω)</span></code> is the rate of change of the elements of the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>
which represents the orientation of a body frame with angular velocity <code class="docutils literal notranslate"><span class="pre">ω</span></code> in
the body frame.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.__mul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><em>3-vector</em><em>, </em><em>3xN array</em><em>, </em><em>float</em>) – left multiplicand</p></li>
<li><p><strong>right</strong> – right multiplicand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a>, <a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 24%" />
<col style="width: 24%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Multiplicands</p></th>
<th class="head" colspan="2"><p>Product</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Hamilton product</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Hamilton product</p></td>
</tr>
<tr class="row-odd"><td><p>UnitQuaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>scalar product</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>3-vector</p></td>
<td><p>3-vector</p></td>
<td><p>vector rotation</p></td>
</tr>
<tr class="row-odd"><td><p>UnitQuaternion</p></td>
<td><p>3xN array</p></td>
<td><p>3xN array</p></td>
<td><p>vector rotations</p></td>
</tr>
</tbody>
</table>
<p>Any other input combinations result in a ValueError.</p>
<p>Note that left and right can have a length greater than 1 in which case:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>N</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>M</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></p></td>
</tr>
</tbody>
</table>
<p>A scalar of length N is a list, tuple or numpy array.
A 3-vector of length N is a 3xN numpy array, where each column is 
a 3-vector.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="o">*</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">0.955336 &lt;&lt; 0.295520, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="o">*</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="go">0.955336 &lt;&lt; 0.295520, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.900447 &lt;&lt; 0.434966, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span> <span class="o">*</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">0.955336 &lt;&lt; 0.295520, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.900447 &lt;&lt; 0.434966, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span> <span class="o">*</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="go">0.955336 &lt;&lt; 0.295520, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.825336 &lt;&lt; 0.564642, 0.000000, 0.000000 &gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">__mul__()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.__truediv__">
<code class="sig-name descname">__truediv__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.__truediv__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.__truediv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">/</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a> or <a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q1</span> <span class="pre">/</span> <span class="pre">q2</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">q1</span> <span class="pre">*</span> <span class="pre">q1.inv()</span></code>.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="o">/</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span> <span class="o">/</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.988771 &lt;&lt; 0.149438, 0.000000, 0.000000 &gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> <span class="o">/</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">0.988771 &lt;&lt; -0.149438, 0.000000, 0.000000 &gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span> <span class="o">/</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">==</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q1</span> <span class="pre">==</span> <span class="pre">q2</span></code> is True if <code class="docutils literal notranslate"><span class="pre">q1`</span> <span class="pre">is</span> <span class="pre">elementwise</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">``q2</span></code> and accounts for the
double mapping.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">==</span> <span class="n">q1</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">==</span> <span class="p">(</span><span class="o">-</span><span class="n">q1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">==</span> <span class="n">q2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span> <span class="o">==</span> <span class="n">q1</span>
<span class="go">[True, False]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span> <span class="o">==</span> <span class="n">q2</span>
<span class="go">[False, True]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span> <span class="o">==</span> <span class="n">UnitQuaternion</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
<span class="go">[True, True]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.__ne__" title="spatialmath.quaternion.UnitQuaternion.__ne__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__ne__()</span></code></a>, <a class="reference internal" href="#spatialmath.base.quaternions.isequal" title="spatialmath.base.quaternions.isequal"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.quaternions.isequal()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.__ne__">
<code class="sig-name descname">__ne__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.__ne__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">!=</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q1</span> <span class="pre">!=</span> <span class="pre">q2</span></code> is True if <code class="docutils literal notranslate"><span class="pre">q`</span> <span class="pre">is</span> <span class="pre">elementwise</span> <span class="pre">not</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">``q2</span></code>.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">!=</span> <span class="n">q1</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">!=</span> <span class="p">(</span><span class="o">-</span><span class="n">q1</span><span class="p">)</span>
<span class="go">False</span>
<span class="go">&gt;&gt; q1 != q2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span> <span class="o">==</span> <span class="n">q1</span>
<span class="go">[False, True]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span> <span class="o">==</span> <span class="n">q2</span>
<span class="go">[True, False]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span> <span class="o">==</span> <span class="n">UnitQuaternion</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
<span class="go">[False, False]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion.__ne__" title="spatialmath.quaternion.UnitQuaternion.__ne__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__ne__()</span></code></a>, <a class="reference internal" href="#spatialmath.base.quaternions.isequal" title="spatialmath.base.quaternions.isequal"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.quaternions.isequal()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.interp">
<code class="sig-name descname">interp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dest</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">shortest</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.interp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>Algorithm source: <a class="reference external" href="https://en.wikipedia.org/wiki/Slerp">https://en.wikipedia.org/wiki/Slerp</a>
:param qr: UnitQuaternion
:param shortest: Take the shortest path along the great circle
:param s: interpolation in range [0,1]
:type s: float
:return: interpolated UnitQuaternion</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.Pure">
<em class="property">classmethod </em><code class="sig-name descname">Pure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.Pure" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a pure quaternion from a vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>3-element array_like</em>) – vector</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">Quaternion.Pure(v)</span></code> is a Quaternion with a zero scalar part and the
vector part set to <code class="docutils literal notranslate"><span class="pre">v</span></code>,
ie. <span class="math notranslate nohighlight">\(q = 0 \langle v_x, v_y, v_z \rangle\)</span></p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="o">.</span><span class="n">pure</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">0.000000 &lt; 1.000000, 2.000000, 3.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">+</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a>) – left addend</p></li>
<li><p><strong>right</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a><em>, </em><em>float</em>) – right addend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sum</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a>, <a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Operands</p></th>
<th class="head" colspan="2"><p>Sum</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-even"><td><p>Quaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>add to each element</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-odd"><td><p>UnitQuaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>add to each element</p></td>
</tr>
</tbody>
</table>
<p>Any other input combinations result in a ValueError.</p>
<p>Note that left and right can have a length greater than 1 in which case:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">+</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">+</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">+</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>N</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">+</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>M</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></p></td>
</tr>
</tbody>
</table>
<p>A scalar of length N is a list, tuple or numpy array.
A 3-vector of length N is a 3xN numpy array, where each column is a 3-vector.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">+</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">6.000000 &lt; 8.000000, 10.000000, 12.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">+</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">2.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">6.000000 &lt; 8.000000, 10.000000, 12.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">+</span> <span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="go">2.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">10.000000 &lt; 12.000000, 14.000000, 16.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.__pow__">
<code class="sig-name descname">__pow__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.__pow__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">**</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Quaternion instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q</span> <span class="pre">**</span> <span class="pre">N</span></code> computes the product of <code class="docutils literal notranslate"><span class="pre">q</span></code> with itself <code class="docutils literal notranslate"><span class="pre">N-1</span></code> times, where <code class="docutils literal notranslate"><span class="pre">N</span></code> must be
an integer.  If <a href="#id5"><span class="problematic" id="id6">``</span></a>N``&lt;0 the result is conjugated.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">**</span> <span class="o">-</span><span class="mi">1</span>
<span class="go">1.000000 &lt; -2.000000, -3.000000, -4.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">**</span> <span class="mi">2</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">-124.000000 &lt; 60.000000, 70.000000, 80.000000 &gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.pow()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">-</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a>) – left minuend</p></li>
<li><p><strong>right</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a><em>, </em><em>float</em>) – right subtahend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>difference</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a>, <a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Operands</p></th>
<th class="head" colspan="2"><p>Difference</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-even"><td><p>Quaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>subtract from each element</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-odd"><td><p>UnitQuaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>subtract from each element</p></td>
</tr>
</tbody>
</table>
<p>Any other input combinations result in a ValueError.</p>
<p>Note that left and right can have a length greater than 1 in which case:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">-</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">-</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">-</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>N</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">-</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>M</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></p></td>
</tr>
</tbody>
</table>
<p>A scalar of length N is a list, tuple or numpy array.
A 3-vector of length N is a 3xN numpy array, where each column is a 3-vector.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">-</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">-4.000000 &lt; -4.000000, -4.000000, -4.000000 &gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">-</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">0.000000 &lt; 0.000000, 0.000000, 0.000000 &gt;</span>
<span class="go">4.000000 &lt; 4.000000, 4.000000, 4.000000 &gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">-</span> <span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="go">0.000000 &lt; 0.000000, 0.000000, 0.000000 &gt;</span>
<span class="go">0.000000 &lt; 0.000000, 0.000000, 0.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.conj">
<code class="sig-name descname">conj</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.conj" title="Permalink to this definition">¶</a></dt>
<dd><p>Conjugate of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Quaternion instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.conj()</span></code> is the quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code> with the vector part negated, ie.
<span class="math notranslate nohighlight">\(q = s \langle -v_x, -v_y, -v_z \rangle\)</span></p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="o">.</span><span class="n">pure</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">conj</span><span class="p">()</span>
<span class="go">0.000000 &lt; -1.000000, -2.000000, -3.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.inner">
<code class="sig-name descname">inner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.inner" title="Permalink to this definition">¶</a></dt>
<dd><p>Innert product of quaternions</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q1.inner(q2)</span></code> is the dot product of the equivalent vectors, 
ie. <code class="docutils literal notranslate"><span class="pre">numpy.dot(q1.vec,</span> <span class="pre">q2.vec)</span></code>.
The value of <code class="docutils literal notranslate"><span class="pre">q.inner(q)</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">q.norm</span> <span class="pre">**</span> <span class="pre">2</span></code>.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">inner</span><span class="p">(</span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]))</span>
<span class="go">70.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">dot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">70</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.matrix">
<em class="property">property </em><code class="sig-name descname">matrix</code><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix equivalent of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Numpy array, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.matrix</span></code> is a 4x4 matrix which encodes the arithmetic rules of Hamilton multiplication.
This matrix, multiplied by the 4-vector equivalent of a second quaternion, results in the 4-vector
equivalent of the Hamilton product.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">matrix</span>
<span class="go">array([[ 1., -2., -3., -4.],</span>
<span class="go">[ 2.,  1., -4.,  3.],</span>
<span class="go">[ 3.,  4.,  1., -2.],</span>
<span class="go">[ 4., -3.,  2.,  1.]])</span>

<span class="go"># Hamilton product</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">*</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>  
<span class="go">-60.000000 &lt; 12.000000, 30.000000, 24.000000 &gt;</span>

<span class="go"># matrix-vector product</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">matrix</span> <span class="o">@</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span><span class="o">.</span><span class="n">vec</span>  
<span class="go">array([-60.,  12.,  30.,  24.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.norm">
<code class="sig-name descname">norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Norm of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.norm()</span></code> is the norm or length of the quaternion and is equal to
<span class="math notranslate nohighlight">\(\sqrt{s^2 + v_x^2 + v_y^2 + v_z^2}\)</span></p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">5.477225575051661</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">array([ 5.47722558, 13.19090596])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot unit quaternion as a coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – plotting options</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q.plot()</span></code> displays the orientation <code class="docutils literal notranslate"><span class="pre">q</span></code> as a coordinate frame in 3D.
There are many options, see the links below.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trplot" title="spatialmath.base.transforms3d.trplot"><code class="xref py py-func docutils literal notranslate"><span class="pre">trplot()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.s">
<em class="property">property </em><code class="sig-name descname">s</code><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.s" title="Permalink to this definition">¶</a></dt>
<dd><p>Scalar part of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>scalar part of quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float or numpy.ndarray</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.s</span></code> is the scalar part.  If <cite>len(q)</cite> is:</p>
<blockquote>
<div><ul class="simple">
<li><p>1, return a scalar float</p></li>
<li><p>N&gt;1, return a NumPy array shape=(N,) is returned.</p></li>
</ul>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">s</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">s</span>
<span class="go">array([1., 5.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the object’s interal matrix representation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(4,)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.unit">
<code class="sig-name descname">unit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>UnitQuaternion instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.unit()</span></code> is the quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code> normalized to have a unit length.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">unit</span><span class="p">()</span>
<span class="go">0.182574 &lt;&lt; 0.365148, 0.547723, 0.730297 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">unit</span><span class="p">()</span>
<span class="go">0.182574 &lt;&lt; 0.365148, 0.547723, 0.730297 &gt;&gt;</span>
<span class="go">0.379049 &lt;&lt; 0.454859, 0.530669, 0.606478 &gt;&gt;</span>
</pre></div>
</div>
<p>Note that the return type is different, a <code class="docutils literal notranslate"><span class="pre">UnitQuaternion</span></code>, which is
distinguished by the use of double angle brackets to delimit the 
vector part.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.v">
<em class="property">property </em><code class="sig-name descname">v</code><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.v" title="Permalink to this definition">¶</a></dt>
<dd><p>Vector part of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>vector part of quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>NumPy ndarray</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.v</span></code> is the vector part.  If <cite>len(q)</cite> is:</p>
<blockquote>
<div><ul class="simple">
<li><p>1, return a NumPy array shape=(3,)</p></li>
<li><p>N&gt;1, return a NumPy array shape=(N,3).</p></li>
</ul>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">v</span>
<span class="go">array([2., 3., 4.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">v</span>
<span class="go">array([[2., 3., 4.],</span>
<span class="go">    [6., 7., 8.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.vec">
<em class="property">property </em><code class="sig-name descname">vec</code><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.vec" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion as a vector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>quaternion expressed as a 4-vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy ndarray, shape=(4,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.vec</span></code> is the quaternion as a vector.  If <cite>len(q)</cite> is:</p>
<blockquote>
<div><ul class="simple">
<li><p>1, return a NumPy array shape=(4,)</p></li>
<li><p>N&gt;1, return a NumPy array shape=(N,4).</p></li>
</ul>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">vec</span>
<span class="go">array([1., 2., 3., 4.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">vec</span>
<span class="go">array([[1., 2., 3., 4.],</span>
<span class="go">    [5., 6., 7., 8.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.animate">
<code class="sig-name descname">animate</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.animate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.animate" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot unit quaternion as an animated coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a>) – initial pose, defaults to null/identity</p></li>
<li><p><strong>**kwargs</strong> – plotting options</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q.animate()</span></code> displays the orientation <code class="docutils literal notranslate"><span class="pre">q</span></code> as a coordinate frame moving
from the origin in either 3D.  There are 
many options, see the links below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q.animate(*args,</span> <span class="pre">start=q1)</span></code> displays the orientation <code class="docutils literal notranslate"><span class="pre">q</span></code> as a coordinate
frame moving from orientation <code class="docutils literal notranslate"><span class="pre">q11</span></code>, in 3D.  There are 
many options, see the links below.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Ry</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
</pre></div>
</div>
<p>:see <a class="reference internal" href="#spatialmath.base.transforms3d.tranimate" title="spatialmath.base.transforms3d.tranimate"><code class="xref py py-func docutils literal notranslate"><span class="pre">tranimate()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.trplot" title="spatialmath.base.transforms3d.trplot"><code class="xref py py-func docutils literal notranslate"><span class="pre">trplot()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.rpy">
<code class="sig-name descname">rpy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.rpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.rpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion as roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>str</em>) – angle sequence order, default to ‘zyx’</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3-vector of roll-pitch-yaw angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.rpy</span></code> is the roll-pitch-yaw angle representation of the 3D rotation.  The angles are
a 3-vector <span class="math notranslate nohighlight">\((r, p, y)\)</span> which correspond to successive rotations about the axes
specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Convention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">len(x)</span></code> is:</p>
<ul class="simple">
<li><p>1, return an ndarray with shape=(3,)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3)</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">rpy</span><span class="p">()</span>
<span class="go">array([ 0.3, -0. ,  0. ])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span><span class="o">.</span><span class="n">rpy</span><span class="p">()</span>
<span class="go">array([[ 0. , -0. ,  0.2],</span>
<span class="go">    [ 0. , -0. ,  0.3]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.RPY" title="spatialmath.pose3d.SE3.RPY"><code class="xref py py-func docutils literal notranslate"><span class="pre">RPY()</span></code></a>, :<a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.tr2rpy()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.eul">
<code class="sig-name descname">eul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.eul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.eul" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion as Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3-vector of Euler angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.eul</span></code> is the Euler angle representation of the rotation.  Euler angles are
a 3-vector <span class="math notranslate nohighlight">\((\phi, \theta, \psi)\)</span> which correspond to consecutive
rotations about the Z, Y, Z axes respectively.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">len(x)</span></code> is:</p>
<ul class="simple">
<li><p>1, return an ndarray with shape=(3,)</p></li>
<li><p>N&gt;1, return ndarray with shape=(N,3)</p></li>
<li><p>ndarray with shape=(3,), if len(R) == 1</p></li>
<li><p>ndarray with shape=(N,3), if len(R) = N &gt; 1</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">eul</span><span class="p">()</span>
<span class="go">array([0. , 0. , 0.3])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Ry</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">])</span><span class="o">.</span><span class="n">eul</span><span class="p">()</span>
<span class="go">array([[0. , 0.3, 0. ],</span>
<span class="go">    [0. , 0.4, 0. ]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.pose3d.SE3.Eul" title="spatialmath.pose3d.SE3.Eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">Eul()</span></code></a>, :<a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.transforms3d.tr2eul()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.angvec">
<code class="sig-name descname">angvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.angvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.angvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion as angle and rotation vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\((\theta, {\bf v})\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.angvec()</span></code> is a tuple <span class="math notranslate nohighlight">\((\theta, v)\)</span> containing the rotation 
angle and a rotation axis which is equivalent to the rotation of
the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">angvec</span><span class="p">()</span>
</pre></div>
</div>
<blockquote>
<div><p>(0.3, array([0., 0., 1.]))</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">AngVec()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2r()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.SO3">
<code class="sig-name descname">SO3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.SO3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.SO3" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion as SO3 instance</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an SO(3) representation</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>SO3 instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.SO3()</span></code> is an <code class="docutils literal notranslate"><span class="pre">SO3</span></code> instance representing the same rotation 
as the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">SO3</span><span class="p">()</span>
<span class="go">SO3(array([[ 0.95533649, -0.29552021,  0.        ],</span>
<span class="go">        [ 0.29552021,  0.95533649,  0.        ],</span>
<span class="go">        [ 0.        ,  0.        ,  1.        ]]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.UnitQuaternion.SE3">
<code class="sig-name descname">SE3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#UnitQuaternion.SE3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.UnitQuaternion.SE3" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion as SE3 instance</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an SE(3) representation</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>SE3 instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.SE3()</span></code> is an <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance representing the same rotation 
as the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code> and with zero translation.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rz</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">SE3</span><span class="p">()</span>
<span class="go">SE3(array([[ 0.95533649, -0.29552021,  0.        ,  0.        ],</span>
<span class="go">        [ 0.29552021,  0.95533649,  0.        ,  0.        ],</span>
<span class="go">        [ 0.        ,  0.        ,  1.        ,  0.        ],</span>
<span class="go">        [ 0.        ,  0.        ,  0.        ,  1.        ]]))</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="general-quaternions">
<h4>General quaternions<a class="headerlink" href="#general-quaternions" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt id="spatialmath.quaternion.Quaternion">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.quaternion.</code><code class="sig-name descname">Quaternion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">v</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.smuserlist.SMUserList</span></code></p>
<p>A quaternion is a compact method of representing a 3D rotation that has
computational advantages including speed and numerical robustness.</p>
<p>A quaternion has 2 parts, a scalar <span class="math notranslate nohighlight">\(s\)</span>, and a 3-vector <span class="math notranslate nohighlight">\(v\)</span> and
is typically written as</p>
<p><span class="math notranslate nohighlight">\(q = s \langle v_x, v_y, v_z \rangle\)</span></p>
digraph inheritancefc2bec1728 {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;ABC&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Helper class that provides a standard way to create an ABC using&quot;];
  &quot;Quaternion&quot; [URL=&quot;#spatialmath.quaternion.Quaternion&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;A quaternion is a compact method of representing a 3D rotation that has&quot;];
  &quot;SMUserList&quot; -&gt; &quot;Quaternion&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SMUserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;List properties for spatial math classes&quot;];
  &quot;UserList&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;ABC&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;UserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;A more or less complete user-defined wrapper around list objects.&quot;];
}
<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">v</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>float</em>) – scalar</p></li>
<li><p><strong>v</strong> (<em>3-element array_like</em>) – vector</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Quaternion()</span></code> constructs a zero quaternion</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quaternion(s,</span> <span class="pre">v)</span></code> construct a new quaternion from the scalar <code class="docutils literal notranslate"><span class="pre">s</span></code>
and the vector <code class="docutils literal notranslate"><span class="pre">v</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quaternion(q)</span></code> construct a new quaternion from the 4-vector
<code class="docutils literal notranslate"><span class="pre">q</span> <span class="pre">=</span> <span class="pre">[s,</span> <span class="pre">v]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quaternion([q1,</span> <span class="pre">q2</span> <span class="pre">..</span> <span class="pre">qN])</span></code> construct a new quaternion with <code class="docutils literal notranslate"><span class="pre">N</span></code>
values where each element is a 4-vector</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quaternion([Q1,</span> <span class="pre">Q2</span> <span class="pre">..</span> <span class="pre">QN])</span></code> construct a new quaternion with <code class="docutils literal notranslate"><span class="pre">N</span></code>
values where each element is a Quaternion instance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quaternion(M)</span></code> construct a new quaternion with <code class="docutils literal notranslate"><span class="pre">N</span></code> values where
<code class="docutils literal notranslate"><span class="pre">Q</span></code> is a 4xN NumPy array.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">()</span>
<span class="go">0.000000 &lt; 0.000000, 0.000000, 0.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">1.000000 &lt; 2.000000, 3.000000, 4.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">1.000000 &lt; 2.000000, 3.000000, 4.000000 &gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">=</span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>
<span class="go">1.000000 &lt; 2.000000, 3.000000, 4.000000 &gt;</span>
<span class="go">5.000000 &lt; 6.000000, 7.000000, 8.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#spatialmath.quaternion.Quaternion.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the object’s interal matrix representation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(4,)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.isvalid">
<em class="property">static </em><code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.isvalid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix is valid quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>numpy.ndarray</em>) – matrix to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true of the matrix is 4x1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.s">
<em class="property">property </em><code class="sig-name descname">s</code><a class="headerlink" href="#spatialmath.quaternion.Quaternion.s" title="Permalink to this definition">¶</a></dt>
<dd><p>Scalar part of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>scalar part of quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float or numpy.ndarray</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.s</span></code> is the scalar part.  If <cite>len(q)</cite> is:</p>
<blockquote>
<div><ul class="simple">
<li><p>1, return a scalar float</p></li>
<li><p>N&gt;1, return a NumPy array shape=(N,) is returned.</p></li>
</ul>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">s</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">s</span>
<span class="go">array([1., 5.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.v">
<em class="property">property </em><code class="sig-name descname">v</code><a class="headerlink" href="#spatialmath.quaternion.Quaternion.v" title="Permalink to this definition">¶</a></dt>
<dd><p>Vector part of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>vector part of quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>NumPy ndarray</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.v</span></code> is the vector part.  If <cite>len(q)</cite> is:</p>
<blockquote>
<div><ul class="simple">
<li><p>1, return a NumPy array shape=(3,)</p></li>
<li><p>N&gt;1, return a NumPy array shape=(N,3).</p></li>
</ul>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">v</span>
<span class="go">array([2., 3., 4.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">v</span>
<span class="go">array([[2., 3., 4.],</span>
<span class="go">    [6., 7., 8.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.vec">
<em class="property">property </em><code class="sig-name descname">vec</code><a class="headerlink" href="#spatialmath.quaternion.Quaternion.vec" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion as a vector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>quaternion expressed as a 4-vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy ndarray, shape=(4,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.vec</span></code> is the quaternion as a vector.  If <cite>len(q)</cite> is:</p>
<blockquote>
<div><ul class="simple">
<li><p>1, return a NumPy array shape=(4,)</p></li>
<li><p>N&gt;1, return a NumPy array shape=(N,4).</p></li>
</ul>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">vec</span>
<span class="go">array([1., 2., 3., 4.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">vec</span>
<span class="go">array([[1., 2., 3., 4.],</span>
<span class="go">    [5., 6., 7., 8.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.Pure">
<em class="property">classmethod </em><code class="sig-name descname">Pure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.Pure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.Pure" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a pure quaternion from a vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>3-element array_like</em>) – vector</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">Quaternion.Pure(v)</span></code> is a Quaternion with a zero scalar part and the
vector part set to <code class="docutils literal notranslate"><span class="pre">v</span></code>,
ie. <span class="math notranslate nohighlight">\(q = 0 \langle v_x, v_y, v_z \rangle\)</span></p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="o">.</span><span class="n">pure</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">0.000000 &lt; 1.000000, 2.000000, 3.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.conj">
<code class="sig-name descname">conj</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.conj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.conj" title="Permalink to this definition">¶</a></dt>
<dd><p>Conjugate of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Quaternion instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.conj()</span></code> is the quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code> with the vector part negated, ie.
<span class="math notranslate nohighlight">\(q = s \langle -v_x, -v_y, -v_z \rangle\)</span></p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="o">.</span><span class="n">pure</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">conj</span><span class="p">()</span>
<span class="go">0.000000 &lt; -1.000000, -2.000000, -3.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.norm">
<code class="sig-name descname">norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Norm of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.norm()</span></code> is the norm or length of the quaternion and is equal to
<span class="math notranslate nohighlight">\(\sqrt{s^2 + v_x^2 + v_y^2 + v_z^2}\)</span></p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">5.477225575051661</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">array([ 5.47722558, 13.19090596])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.unit">
<code class="sig-name descname">unit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.unit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>UnitQuaternion instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.unit()</span></code> is the quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code> normalized to have a unit length.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">unit</span><span class="p">()</span>
<span class="go">0.182574 &lt;&lt; 0.365148, 0.547723, 0.730297 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span><span class="o">.</span><span class="n">unit</span><span class="p">()</span>
<span class="go">0.182574 &lt;&lt; 0.365148, 0.547723, 0.730297 &gt;&gt;</span>
<span class="go">0.379049 &lt;&lt; 0.454859, 0.530669, 0.606478 &gt;&gt;</span>
</pre></div>
</div>
<p>Note that the return type is different, a <code class="docutils literal notranslate"><span class="pre">UnitQuaternion</span></code>, which is
distinguished by the use of double angle brackets to delimit the 
vector part.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.matrix">
<em class="property">property </em><code class="sig-name descname">matrix</code><a class="headerlink" href="#spatialmath.quaternion.Quaternion.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix equivalent of quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Numpy array, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q.matrix</span></code> is a 4x4 matrix which encodes the arithmetic rules of Hamilton multiplication.
This matrix, multiplied by the 4-vector equivalent of a second quaternion, results in the 4-vector
equivalent of the Hamilton product.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">matrix</span>
<span class="go">array([[ 1., -2., -3., -4.],</span>
<span class="go">[ 2.,  1., -4.,  3.],</span>
<span class="go">[ 3.,  4.,  1., -2.],</span>
<span class="go">[ 4., -3.,  2.,  1.]])</span>

<span class="go"># Hamilton product</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">*</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>  
<span class="go">-60.000000 &lt; 12.000000, 30.000000, 24.000000 &gt;</span>

<span class="go"># matrix-vector product</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">matrix</span> <span class="o">@</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span><span class="o">.</span><span class="n">vec</span>  
<span class="go">array([-60.,  12.,  30.,  24.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.inner">
<code class="sig-name descname">inner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.inner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.inner" title="Permalink to this definition">¶</a></dt>
<dd><p>Innert product of quaternions</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q1.inner(q2)</span></code> is the dot product of the equivalent vectors, 
ie. <code class="docutils literal notranslate"><span class="pre">numpy.dot(q1.vec,</span> <span class="pre">q2.vec)</span></code>.
The value of <code class="docutils literal notranslate"><span class="pre">q.inner(q)</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">q.norm</span> <span class="pre">**</span> <span class="pre">2</span></code>.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">inner</span><span class="p">(</span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]))</span>
<span class="go">70.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">dot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">70</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">==</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q1</span> <span class="pre">==</span> <span class="pre">q2</span></code> is True if <code class="docutils literal notranslate"><span class="pre">q1`</span> <span class="pre">is</span> <span class="pre">elementwise</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">``q2</span></code>.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">=</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span> <span class="o">=</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">==</span> <span class="n">q1</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">==</span> <span class="n">q2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">==</span> <span class="n">q1</span>
<span class="go">[True, False]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">==</span> <span class="n">q2</span>
<span class="go">[False, True]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">==</span> <span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="go">[True, True]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion.__ne__" title="spatialmath.quaternion.Quaternion.__ne__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__ne__()</span></code></a>, <a class="reference internal" href="#spatialmath.base.quaternions.isequal" title="spatialmath.base.quaternions.isequal"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.quaternions.isequal()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.__ne__">
<code class="sig-name descname">__ne__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.__ne__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">!=</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q1</span> <span class="pre">!=</span> <span class="pre">q2</span></code> is True if <code class="docutils literal notranslate"><span class="pre">q`</span> <span class="pre">is</span> <span class="pre">elementwise</span> <span class="pre">not</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">``q2</span></code>.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">=</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span> <span class="o">=</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">!=</span> <span class="n">q1</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">!=</span> <span class="n">q2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">!=</span> <span class="n">q1</span>
<span class="go">[False, True]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">!=</span> <span class="n">q2</span>
<span class="go">[True, False]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion.__ne__" title="spatialmath.quaternion.Quaternion.__ne__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__ne__()</span></code></a>, <a class="reference internal" href="#spatialmath.base.quaternions.isequal" title="spatialmath.base.quaternions.isequal"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.quaternions.isequal()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.__mul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">*</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a><em>, </em><em>float</em>) – left multiplicand</p></li>
<li><p><strong>right</strong> – right multiplicand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q1</span> <span class="pre">*</span> <span class="pre">q2</span></code> is the Hamilton product of two quaternions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span> <span class="pre">*</span> <span class="pre">s</span></code> is the scalar product, where <code class="docutils literal notranslate"><span class="pre">s</span></code> is a scalar</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 24%" />
<col style="width: 24%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Multiplicands</p></th>
<th class="head" colspan="2"><p>Product</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Hamilton product</p></td>
</tr>
<tr class="row-even"><td><p>Quaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Hamilton product</p></td>
</tr>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>scalar product</p></td>
</tr>
</tbody>
</table>
<p>Any other input combinations result in a ValueError.</p>
<p>Note that left and right can have a length greater than 1 in which case:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">*</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>N</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">*</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>M</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></p></td>
</tr>
</tbody>
</table>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">*</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">-60.000000 &lt; 12.000000, 30.000000, 24.000000 &gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">*</span> <span class="mi">2</span>
<span class="go">2.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">*</span> <span class="mi">2</span>
<span class="go">2.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">10.000000 &lt; 12.000000, 14.000000, 16.000000 &gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">*</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">-60.000000 &lt; 20.000000, 14.000000, 32.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">*</span> <span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">-60.000000 &lt; 12.000000, 30.000000, 24.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">*</span> <span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">-124.000000 &lt; 60.000000, 70.000000, 80.000000 &gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">__rmul__()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">__imul__()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.qqmul()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.__pow__">
<code class="sig-name descname">__pow__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.__pow__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.__pow__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">**</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Quaternion instance</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">q</span> <span class="pre">**</span> <span class="pre">N</span></code> computes the product of <code class="docutils literal notranslate"><span class="pre">q</span></code> with itself <code class="docutils literal notranslate"><span class="pre">N-1</span></code> times, where <code class="docutils literal notranslate"><span class="pre">N</span></code> must be
an integer.  If <a href="#id7"><span class="problematic" id="id8">``</span></a>N``&lt;0 the result is conjugated.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">**</span> <span class="o">-</span><span class="mi">1</span>
<span class="go">1.000000 &lt; -2.000000, -3.000000, -4.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">**</span> <span class="mi">2</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">-124.000000 &lt; 60.000000, 70.000000, 80.000000 &gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.pow()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.__truediv__">
<code class="sig-name descname">__truediv__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.__truediv__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.__truediv__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.__add__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">+</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a>) – left addend</p></li>
<li><p><strong>right</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a><em>, </em><em>float</em>) – right addend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sum</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a>, <a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Operands</p></th>
<th class="head" colspan="2"><p>Sum</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-even"><td><p>Quaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>add to each element</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-odd"><td><p>UnitQuaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>add to each element</p></td>
</tr>
</tbody>
</table>
<p>Any other input combinations result in a ValueError.</p>
<p>Note that left and right can have a length greater than 1 in which case:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">+</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">+</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">+</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>N</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">+</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>M</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></p></td>
</tr>
</tbody>
</table>
<p>A scalar of length N is a list, tuple or numpy array.
A 3-vector of length N is a 3xN numpy array, where each column is a 3-vector.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">+</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">6.000000 &lt; 8.000000, 10.000000, 12.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">+</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">2.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">6.000000 &lt; 8.000000, 10.000000, 12.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">+</span> <span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="go">2.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="go">10.000000 &lt; 12.000000, 14.000000, 16.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/quaternion.html#Quaternion.__sub__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.quaternion.Quaternion.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded <code class="docutils literal notranslate"><span class="pre">-</span></code> operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a>) – left minuend</p></li>
<li><p><strong>right</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em>, </em><a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion"><em>UnitQuaternion</em></a><em>, </em><em>float</em>) – right subtahend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>difference</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a>, <a class="reference internal" href="#spatialmath.quaternion.UnitQuaternion" title="spatialmath.quaternion.UnitQuaternion">UnitQuaternion</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Operands</p></th>
<th class="head" colspan="2"><p>Difference</p></th>
</tr>
<tr class="row-even"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-even"><td><p>Quaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-odd"><td><p>Quaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>subtract from each element</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-odd"><td><p>UnitQuaternion</p></td>
<td><p>UnitQuaternion</p></td>
<td><p>Quaternion</p></td>
<td><p>elementwise sum</p></td>
</tr>
<tr class="row-even"><td><p>UnitQuaternion</p></td>
<td><p>scalar</p></td>
<td><p>Quaternion</p></td>
<td><p>subtract from each element</p></td>
</tr>
</tbody>
</table>
<p>Any other input combinations result in a ValueError.</p>
<p>Note that left and right can have a length greater than 1 in which case:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>left</p></th>
<th class="head"><p>right</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">-</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left</span> <span class="pre">-</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">-</span> <span class="pre">right</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>N</p></td>
<td><p>N</p></td>
<td><p>N</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prod[i]</span> <span class="pre">=</span> <span class="pre">left[i]</span> <span class="pre">-</span> <span class="pre">right[i]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>M</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></p></td>
</tr>
</tbody>
</table>
<p>A scalar of length N is a list, tuple or numpy array.
A 3-vector of length N is a 3xN numpy array, where each column is a 3-vector.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">-</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">-4.000000 &lt; -4.000000, -4.000000, -4.000000 &gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">-</span> <span class="n">Quaternion</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">0.000000 &lt; 0.000000, 0.000000, 0.000000 &gt;</span>
<span class="go">4.000000 &lt; 4.000000, 4.000000, 4.000000 &gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="o">-</span> <span class="n">Quaternion</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="go">0.000000 &lt; 0.000000, 0.000000, 0.000000 &gt;</span>
<span class="go">0.000000 &lt; 0.000000, 0.000000, 0.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.quaternion.Quaternion.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.quaternion.Quaternion.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.quaternion.Quaternion.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.quaternion.Quaternion.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="twists-se-3">
<h3>Twists: se(3)<a class="headerlink" href="#twists-se-3" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="module-spatialmath.spatialvector">
<span id="d-spatial-vectors"></span><h3>6D spatial vectors<a class="headerlink" href="#module-spatialmath.spatialvector" title="Permalink to this headline">¶</a></h3>
<p>A set of cooperating classes to support Featherstone’s spatial vector formalism</p>
<p>References:</p>
<blockquote>
<div><ul class="simple">
<li><p>“Robot Dynamics Algorithms”, R. Featherstone, volume 22,
Springer International Series in Engineering and Computer Science,
Springer, 1987.</p></li>
<li><p>“A beginner’s guide to 6-d vectors (part 1)”, R. Featherstone,
IEEE Robotics Automation Magazine, 17(3):83-94, Sep. 2010.</p></li>
<li><p><a class="reference external" href="http://users.cecs.anu.edu.au/~roy/spatial">Online notes</a></p></li>
</ul>
</div></blockquote>
digraph inheritance6b1d00b2e2 {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;ABC&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Helper class that provides a standard way to create an ABC using&quot;];
  &quot;SMUserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;List properties for spatial math classes&quot;];
  &quot;UserList&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;ABC&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialAcceleration&quot; [URL=&quot;#spatialmath.spatialvector.SpatialAcceleration&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial acceleration class&quot;];
  &quot;SpatialM6&quot; -&gt; &quot;SpatialAcceleration&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialF6&quot; [URL=&quot;#spatialmath.spatialvector.SpatialF6&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Abstract spatial force class&quot;];
  &quot;SpatialVector&quot; -&gt; &quot;SpatialF6&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialForce&quot; [URL=&quot;#spatialmath.spatialvector.SpatialForce&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial force class&quot;];
  &quot;SpatialF6&quot; -&gt; &quot;SpatialForce&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialInertia&quot; [URL=&quot;#spatialmath.spatialvector.SpatialInertia&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial inertia class&quot;];
  &quot;SMUserList&quot; -&gt; &quot;SpatialInertia&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialM6&quot; [URL=&quot;#spatialmath.spatialvector.SpatialM6&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Create a new spatial motion class (abstract class)&quot;];
  &quot;SpatialVector&quot; -&gt; &quot;SpatialM6&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialMomentum&quot; [URL=&quot;#spatialmath.spatialvector.SpatialMomentum&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial momentum class&quot;];
  &quot;SpatialF6&quot; -&gt; &quot;SpatialMomentum&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialVector&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVector&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial 6-vector abstract superclass&quot;];
  &quot;SMUserList&quot; -&gt; &quot;SpatialVector&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialVelocity&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVelocity&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial velocity class&quot;];
  &quot;SpatialM6&quot; -&gt; &quot;SpatialVelocity&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;UserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;A more or less complete user-defined wrapper around list objects.&quot;];
}
<dl class="py class">
<dt id="spatialmath.spatialvector.SpatialVector">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.spatialvector.</code><code class="sig-name descname">SpatialVector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.smuserlist.SMUserList</span></code></p>
<p>Spatial 6-vector abstract superclass</p>
<p>This class has two abstract subclasses, which each have concrete subclasses.</p>
digraph inheritanceb7c59f0386 {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;SpatialAcceleration&quot; [URL=&quot;#spatialmath.spatialvector.SpatialAcceleration&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial acceleration class&quot;];
  &quot;SpatialM6&quot; -&gt; &quot;SpatialAcceleration&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialF6&quot; [URL=&quot;#spatialmath.spatialvector.SpatialF6&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Abstract spatial force class&quot;];
  &quot;SpatialVector&quot; -&gt; &quot;SpatialF6&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialForce&quot; [URL=&quot;#spatialmath.spatialvector.SpatialForce&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial force class&quot;];
  &quot;SpatialF6&quot; -&gt; &quot;SpatialForce&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialM6&quot; [URL=&quot;#spatialmath.spatialvector.SpatialM6&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Create a new spatial motion class (abstract class)&quot;];
  &quot;SpatialVector&quot; -&gt; &quot;SpatialM6&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialMomentum&quot; [URL=&quot;#spatialmath.spatialvector.SpatialMomentum&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial momentum class&quot;];
  &quot;SpatialF6&quot; -&gt; &quot;SpatialMomentum&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialVector&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVector&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial 6-vector abstract superclass&quot;];
  &quot;SpatialVelocity&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVelocity&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial velocity class&quot;];
  &quot;SpatialM6&quot; -&gt; &quot;SpatialVelocity&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
}
<p>Methods:</p>
<blockquote>
<div><p>SpatialV6     constructor invoked by subclasses
double        convert to a 6xN double
char          convert to string
display       display in human readable form</p>
</div></blockquote>
<p>Common operators:</p>
<blockquote>
<div><ul class="simple">
<li><p>add spatial vectors of the same type</p></li>
</ul>
<ul class="simple">
<li><p>subtract spatial vectors of the same type</p></li>
<li><p>unary minus of spatial vectors</p></li>
</ul>
</div></blockquote>
<p>Spatial vectors are a <code class="docutils literal notranslate"><span class="pre">UserList</span></code> subclass and can be placed into arrays and indexed.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.spatialvector.SpatialM6" title="spatialmath.spatialvector.SpatialM6"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialM6()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialF6" title="spatialmath.spatialvector.SpatialF6"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialF6()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialVelocity" title="spatialmath.spatialvector.SpatialVelocity"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialVelocity()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialAcceleration" title="spatialmath.spatialvector.SpatialAcceleration"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialAcceleration()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialForce" title="spatialmath.spatialvector.SpatialForce"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialForce()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialMomentum" title="spatialmath.spatialvector.SpatialMomentum"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialMomentum()</span></code></a>.</p>
</dd>
</dl>
<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialVector.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new spatial vector (abstract superclass)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Value of the</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialVector(vec)</span></code> is a spatial vector constructed from the 6-element array-like <code class="docutils literal notranslate"><span class="pre">vec</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">SpatialVector([V1,</span> <span class="pre">V2,</span> <span class="pre">...</span> <span class="pre">VN])</span></code> is a spatial vector array with N elements, constructed from the 6-element</dt><dd><p>array-like values <code class="docutils literal notranslate"><span class="pre">Vi</span></code></p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialVector(A)</span></code> is a spatial vector array with N elements, constructed from the columns of the 6xN
array <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.spatialvector.SpatialVelocity" title="spatialmath.spatialvector.SpatialVelocity"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialVelocity()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialAcceleration" title="spatialmath.spatialvector.SpatialAcceleration"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialAcceleration()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialForce" title="spatialmath.spatialvector.SpatialForce"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialForce()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialMomentum" title="spatialmath.spatialvector.SpatialMomentum"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialMomentum()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.isvalid">
<code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialVector.isvalid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialVector.shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.V">
<em class="property">property </em><code class="sig-name descname">V</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.V" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial vector as an array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 3-vector</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialVector.__add__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition for spatial vectors</p>
<p>V1 + V2 is a spatial vector of the same type as V1 and V2 whose value is
the sum of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<dl class="simple">
<dt>See also SpatialVec6.minus.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param right</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">return</dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialVector.__sub__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction Addition for spatial vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>V1 - V2 is a spatial vector of the same type as V1 and V2 whose value is
the difference of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<p>See also SpatialVec6.__minus__, SpatialVec6.__add__</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.__mul__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVector.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVector.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.spatialvector.SpatialM6">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.spatialvector.</code><code class="sig-name descname">SpatialM6</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialM6"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#spatialmath.spatialvector.SpatialVector" title="spatialmath.spatialvector.SpatialVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.spatialvector.SpatialVector</span></code></a></p>
<p>Create a new spatial motion class (abstract class)</p>
<p>Abstract superclass that represents spatial motion.  This class has two
concrete subclasses:</p>
<dl>
<dt>Methods::</dt><dd><p>SpatialM6     ^constructor invoked by subclasses
char          ^convert to string
cross         cross product
display       ^display in human readable form
double        ^convert to a 6xN double</p>
</dd>
<dt>Operators::</dt><dd><ul class="simple">
<li><p>^add spatial vectors of the same type</p></li>
</ul>
<ul class="simple">
<li><p>^subtract spatial vectors of the same type</p></li>
<li><p>^unary minus of spatial vectors</p></li>
</ul>
</dd>
<dt>Notes:</dt><dd><ul class="simple">
<li><p>^ is inherited from SpatialVec6.</p></li>
<li><p>Subclass of the MATLAB handle class which means that pass by reference semantics
apply.</p></li>
<li><p>Spatial vectors can be placed into arrays and indexed.</p></li>
</ul>
</dd>
</dl>
<p>See also SpatialForce, SpatialMomentum, SpatialInertia, SpatialM6.</p>
<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.__init__">
<em class="property">abstract </em><code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialM6.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new spatial motion vector (abstract class)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – </p>
</dd>
</dl>
<p>SpatiaVecXXX(V) is a spatial vector of type SpatiaVecXXX with a value
from V (6x1).  If V (6xN) then an (Nx1) array of spatial vectors is
returned.</p>
<p>See also SpatialVelocity, SpatialAcceleration, SpatialForce, SpatialMomentum.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.cross">
<code class="sig-name descname">cross</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialM6.cross"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.cross" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>SpatialM6.cross Spatial velocity cross product</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cross(V1,</span> <span class="pre">V2)</span></code> is a SpatialAcceleration object where V1 and V2 are SpatialM6</p></li>
</ul>
<p>subclass instances.</p>
<p>cross(V, F) is a SpatialForce object where V1 is a SpatialM6
subclass instances and F is a SpatialForce subclass instance.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>The first form is Featherstone’s “x” operator.</p></li>
<li><p>The second form is Featherstone’s “x*” operator.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.V">
<em class="property">property </em><code class="sig-name descname">V</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.V" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial vector as an array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 3-vector</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition for spatial vectors</p>
<p>V1 + V2 is a spatial vector of the same type as V1 and V2 whose value is
the sum of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<dl class="simple">
<dt>See also SpatialVec6.minus.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param right</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">return</dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.__mul__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction Addition for spatial vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>V1 - V2 is a spatial vector of the same type as V1 and V2 whose value is
the difference of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<p>See also SpatialVec6.__minus__, SpatialVec6.__add__</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.isvalid">
<code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialM6.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialM6.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.spatialvector.SpatialF6">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.spatialvector.</code><code class="sig-name descname">SpatialF6</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialF6"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#spatialmath.spatialvector.SpatialVector" title="spatialmath.spatialvector.SpatialVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.spatialvector.SpatialVector</span></code></a></p>
<p>Abstract spatial force class</p>
<p>Abstract superclass that represents spatial force.  This class has two
concrete subclasses:</p>
<p>Operators:</p>
<blockquote>
<div><ul class="simple">
<li><p>^add spatial vectors of the same type</p></li>
</ul>
<ul class="simple">
<li><p>^subtract spatial vectors of the same type</p></li>
<li><p>^unary minus of spatial vectors</p></li>
</ul>
</div></blockquote>
<p>Notes:</p>
<ul class="simple">
<li><p>^ is inherited from SpatialVec6.</p></li>
<li><p>Spatial vectors can be placed into arrays and indexed.</p></li>
</ul>
<p>See also SpatialForce, SpatialMomentum, SpatialInertia, SpatialM6.</p>
<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.__init__">
<em class="property">abstract </em><code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialF6.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new spatial vector (abstract superclass)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Value of the</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialVector(vec)</span></code> is a spatial vector constructed from the 6-element array-like <code class="docutils literal notranslate"><span class="pre">vec</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">SpatialVector([V1,</span> <span class="pre">V2,</span> <span class="pre">...</span> <span class="pre">VN])</span></code> is a spatial vector array with N elements, constructed from the 6-element</dt><dd><p>array-like values <code class="docutils literal notranslate"><span class="pre">Vi</span></code></p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialVector(A)</span></code> is a spatial vector array with N elements, constructed from the columns of the 6xN
array <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.spatialvector.SpatialVelocity" title="spatialmath.spatialvector.SpatialVelocity"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialVelocity()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialAcceleration" title="spatialmath.spatialvector.SpatialAcceleration"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialAcceleration()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialForce" title="spatialmath.spatialvector.SpatialForce"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialForce()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialMomentum" title="spatialmath.spatialvector.SpatialMomentum"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialMomentum()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.V">
<em class="property">property </em><code class="sig-name descname">V</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.V" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial vector as an array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 3-vector</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition for spatial vectors</p>
<p>V1 + V2 is a spatial vector of the same type as V1 and V2 whose value is
the sum of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<dl class="simple">
<dt>See also SpatialVec6.minus.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param right</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">return</dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.__mul__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction Addition for spatial vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>V1 - V2 is a spatial vector of the same type as V1 and V2 whose value is
the difference of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<p>See also SpatialVec6.__minus__, SpatialVec6.__add__</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.isvalid">
<code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialF6.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialF6.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.spatialvector.SpatialVelocity">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.spatialvector.</code><code class="sig-name descname">SpatialVelocity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialVelocity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#spatialmath.spatialvector.SpatialM6" title="spatialmath.spatialvector.SpatialM6"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.spatialvector.SpatialM6</span></code></a></p>
<p>Spatial velocity class</p>
<p>Concrete subclass of SpatialM6 that represents the
translational and rotational velocity of a rigid-body moving in 3D space.</p>
<p>Operators:</p>
<blockquote>
<div><ul class="simple">
<li><p>^add spatial vectors of the same type</p></li>
</ul>
<ul class="simple">
<li><p>^subtract spatial vectors of the same type</p></li>
<li><p>^unary minus of spatial vectors</p></li>
</ul>
<ul class="simple">
<li><p>^^^premultiplication by SpatialInertia yields SpatialMomentum</p></li>
<li><p>^^^^premultiplication by Twist yields transformed SpatialVelocity</p></li>
</ul>
</div></blockquote>
<p>Notes:
- ^ is inherited from SpatialVec6.
- ^^ is inherited from SpatialM6.
- ^^^ are implemented in SpatialInertia.
- ^^^^ are implemented in Twist.</p>
<p>See also SpatialVec6, SpatialM6, SpatialAcceleration, SpatialInertia, SpatialMomentum.</p>
digraph inheritance257570dc9b {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;ABC&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Helper class that provides a standard way to create an ABC using&quot;];
  &quot;SMUserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;List properties for spatial math classes&quot;];
  &quot;UserList&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;ABC&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialM6&quot; [URL=&quot;#spatialmath.spatialvector.SpatialM6&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Create a new spatial motion class (abstract class)&quot;];
  &quot;SpatialVector&quot; -&gt; &quot;SpatialM6&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialVector&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVector&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial 6-vector abstract superclass&quot;];
  &quot;SMUserList&quot; -&gt; &quot;SpatialVector&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialVelocity&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVelocity&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial velocity class&quot;];
  &quot;SpatialM6&quot; -&gt; &quot;SpatialVelocity&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;UserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;A more or less complete user-defined wrapper around list objects.&quot;];
}
<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialVelocity.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new spatial motion vector (abstract class)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – </p>
</dd>
</dl>
<p>SpatiaVecXXX(V) is a spatial vector of type SpatiaVecXXX with a value
from V (6x1).  If V (6xN) then an (Nx1) array of spatial vectors is
returned.</p>
<p>See also SpatialVelocity, SpatialAcceleration, SpatialForce, SpatialMomentum.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.V">
<em class="property">property </em><code class="sig-name descname">V</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.V" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial vector as an array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 3-vector</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition for spatial vectors</p>
<p>V1 + V2 is a spatial vector of the same type as V1 and V2 whose value is
the sum of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<dl class="simple">
<dt>See also SpatialVec6.minus.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param right</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">return</dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.__mul__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction Addition for spatial vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>V1 - V2 is a spatial vector of the same type as V1 and V2 whose value is
the difference of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<p>See also SpatialVec6.__minus__, SpatialVec6.__add__</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.cross">
<code class="sig-name descname">cross</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.cross" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>SpatialM6.cross Spatial velocity cross product</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cross(V1,</span> <span class="pre">V2)</span></code> is a SpatialAcceleration object where V1 and V2 are SpatialM6</p></li>
</ul>
<p>subclass instances.</p>
<p>cross(V, F) is a SpatialForce object where V1 is a SpatialM6
subclass instances and F is a SpatialForce subclass instance.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>The first form is Featherstone’s “x” operator.</p></li>
<li><p>The second form is Featherstone’s “x*” operator.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.isvalid">
<code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialVelocity.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialVelocity.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.spatialvector.SpatialAcceleration">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.spatialvector.</code><code class="sig-name descname">SpatialAcceleration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialAcceleration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#spatialmath.spatialvector.SpatialM6" title="spatialmath.spatialvector.SpatialM6"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.spatialvector.SpatialM6</span></code></a></p>
<p>Spatial acceleration class</p>
<p>Concrete subclass of SpatialM6 that represents the
translational and rotational acceleration of a rigid-body moving in 3D space.</p>
<p>Methods:</p>
<blockquote>
<div><p>SpatialAcceleration    ^constructor invoked by subclasses
char                   ^convert to string
cross                  ^^cross product
display                ^display in human readable form
double                 ^convert to a 6xN double
new                    construct new concrete class of same type</p>
</div></blockquote>
<dl>
<dt>Operators::</dt><dd><ul class="simple">
<li><p>^add spatial vectors of the same type</p></li>
</ul>
<ul class="simple">
<li><p>^subtract spatial vectors of the same type</p></li>
<li><p>^unary minus of spatial vectors</p></li>
</ul>
<ul class="simple">
<li><p>^^^premultiplication by SpatialInertia yields SpatialForce</p></li>
<li><p>^^^^premultiplication by Twist yields transformed SpatialAcceleration</p></li>
</ul>
</dd>
<dt>Notes:</dt><dd><ul class="simple">
<li><p>^ is inherited from SpatialVec6.</p></li>
<li><p>^^ is inherited from SpatialM6.</p></li>
<li><p>^^^ are implemented in SpatialInertia.</p></li>
<li><p>^^^^ are implemented in Twist.</p></li>
</ul>
</dd>
</dl>
digraph inheritance85ff63b16c {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;ABC&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Helper class that provides a standard way to create an ABC using&quot;];
  &quot;SMUserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;List properties for spatial math classes&quot;];
  &quot;UserList&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;ABC&quot; -&gt; &quot;SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialAcceleration&quot; [URL=&quot;#spatialmath.spatialvector.SpatialAcceleration&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial acceleration class&quot;];
  &quot;SpatialM6&quot; -&gt; &quot;SpatialAcceleration&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialM6&quot; [URL=&quot;#spatialmath.spatialvector.SpatialM6&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Create a new spatial motion class (abstract class)&quot;];
  &quot;SpatialVector&quot; -&gt; &quot;SpatialM6&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;SpatialVector&quot; [URL=&quot;#spatialmath.spatialvector.SpatialVector&quot;,fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,target=&quot;_top&quot;,tooltip=&quot;Spatial 6-vector abstract superclass&quot;];
  &quot;SMUserList&quot; -&gt; &quot;SpatialVector&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;UserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;A more or less complete user-defined wrapper around list objects.&quot;];
}
<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialAcceleration.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new spatial motion vector (abstract class)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – </p>
</dd>
</dl>
<p>SpatiaVecXXX(V) is a spatial vector of type SpatiaVecXXX with a value
from V (6x1).  If V (6xN) then an (Nx1) array of spatial vectors is
returned.</p>
<p>See also SpatialVelocity, SpatialAcceleration, SpatialForce, SpatialMomentum.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.V">
<em class="property">property </em><code class="sig-name descname">V</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.V" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial vector as an array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 3-vector</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition for spatial vectors</p>
<p>V1 + V2 is a spatial vector of the same type as V1 and V2 whose value is
the sum of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<dl class="simple">
<dt>See also SpatialVec6.minus.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param right</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">return</dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.__mul__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction Addition for spatial vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>V1 - V2 is a spatial vector of the same type as V1 and V2 whose value is
the difference of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<p>See also SpatialVec6.__minus__, SpatialVec6.__add__</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.cross">
<code class="sig-name descname">cross</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.cross" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>SpatialM6.cross Spatial velocity cross product</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cross(V1,</span> <span class="pre">V2)</span></code> is a SpatialAcceleration object where V1 and V2 are SpatialM6</p></li>
</ul>
<p>subclass instances.</p>
<p>cross(V, F) is a SpatialForce object where V1 is a SpatialM6
subclass instances and F is a SpatialForce subclass instance.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>The first form is Featherstone’s “x” operator.</p></li>
<li><p>The second form is Featherstone’s “x*” operator.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.isvalid">
<code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialAcceleration.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialAcceleration.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.spatialvector.SpatialForce">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.spatialvector.</code><code class="sig-name descname">SpatialForce</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialForce"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#spatialmath.spatialvector.SpatialF6" title="spatialmath.spatialvector.SpatialF6"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.spatialvector.SpatialF6</span></code></a></p>
<p>Spatial force class</p>
<p>Concrete subclass of SpatialF6 and represents the
translational and rotational forces and torques acting on a rigid-body in 3D space.</p>
<dl>
<dt>Operators::</dt><dd><ul class="simple">
<li><p>^add spatial vectors of the same type</p></li>
</ul>
<ul class="simple">
<li><p>^subtract spatial vectors of the same type</p></li>
<li><p>^unary minus of spatial vectors</p></li>
</ul>
<ul class="simple">
<li><p>^^^premultiplication by SE3 yields transformed SpatialForce</p></li>
<li><p>^^^^premultiplication by Twist yields transformed SpatialForce</p></li>
</ul>
</dd>
</dl>
<p>Notes:
- ^ is inherited from SpatialVec6.
- ^^ is inherited from SpatialM6.
- ^^^ are implemented in RTBPose.
- ^^^^ are implemented in Twist.</p>
<p>See also SpatialVec6, SpatialF6, SpatialMomentum.</p>
<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialForce.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new spatial vector (abstract superclass)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Value of the</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialVector(vec)</span></code> is a spatial vector constructed from the 6-element array-like <code class="docutils literal notranslate"><span class="pre">vec</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">SpatialVector([V1,</span> <span class="pre">V2,</span> <span class="pre">...</span> <span class="pre">VN])</span></code> is a spatial vector array with N elements, constructed from the 6-element</dt><dd><p>array-like values <code class="docutils literal notranslate"><span class="pre">Vi</span></code></p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialVector(A)</span></code> is a spatial vector array with N elements, constructed from the columns of the 6xN
array <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.spatialvector.SpatialVelocity" title="spatialmath.spatialvector.SpatialVelocity"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialVelocity()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialAcceleration" title="spatialmath.spatialvector.SpatialAcceleration"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialAcceleration()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialForce" title="spatialmath.spatialvector.SpatialForce"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialForce()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialMomentum" title="spatialmath.spatialvector.SpatialMomentum"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialMomentum()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.V">
<em class="property">property </em><code class="sig-name descname">V</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.V" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial vector as an array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 3-vector</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition for spatial vectors</p>
<p>V1 + V2 is a spatial vector of the same type as V1 and V2 whose value is
the sum of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<dl class="simple">
<dt>See also SpatialVec6.minus.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param right</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">return</dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.__mul__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction Addition for spatial vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>V1 - V2 is a spatial vector of the same type as V1 and V2 whose value is
the difference of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<p>See also SpatialVec6.__minus__, SpatialVec6.__add__</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.isvalid">
<code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialForce.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialForce.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.spatialvector.SpatialMomentum">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.spatialvector.</code><code class="sig-name descname">SpatialMomentum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialMomentum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#spatialmath.spatialvector.SpatialF6" title="spatialmath.spatialvector.SpatialF6"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.spatialvector.SpatialF6</span></code></a></p>
<p>Spatial momentum class</p>
<dl>
<dt>Operators::</dt><dd><ul class="simple">
<li><p>^add spatial vectors of the same type</p></li>
</ul>
<ul class="simple">
<li><p>^subtract spatial vectors of the same type</p></li>
<li><p>^unary minus of spatial vectors</p></li>
</ul>
</dd>
<dt>Notes:</dt><dd><ul class="simple">
<li><p>^ is inherited from SpatialVec6.</p></li>
<li><p>^^ is inherited from SpatialM6.</p></li>
</ul>
</dd>
</dl>
<p>See also SpatialVec6, SpatialF6, SpatialForce.</p>
<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialMomentum.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new spatial vector (abstract superclass)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Value of the</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialVector(vec)</span></code> is a spatial vector constructed from the 6-element array-like <code class="docutils literal notranslate"><span class="pre">vec</span></code></p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">SpatialVector([V1,</span> <span class="pre">V2,</span> <span class="pre">...</span> <span class="pre">VN])</span></code> is a spatial vector array with N elements, constructed from the 6-element</dt><dd><p>array-like values <code class="docutils literal notranslate"><span class="pre">Vi</span></code></p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialVector(A)</span></code> is a spatial vector array with N elements, constructed from the columns of the 6xN
array <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.spatialvector.SpatialVelocity" title="spatialmath.spatialvector.SpatialVelocity"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialVelocity()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialAcceleration" title="spatialmath.spatialvector.SpatialAcceleration"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialAcceleration()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialForce" title="spatialmath.spatialvector.SpatialForce"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialForce()</span></code></a>, <a class="reference internal" href="#spatialmath.spatialvector.SpatialMomentum" title="spatialmath.spatialvector.SpatialMomentum"><code class="xref py py-func docutils literal notranslate"><span class="pre">SpatialMomentum()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.V">
<em class="property">property </em><code class="sig-name descname">V</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.V" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial vector as an array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 3-vector</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition for spatial vectors</p>
<p>V1 + V2 is a spatial vector of the same type as V1 and V2 whose value is
the sum of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<dl class="simple">
<dt>See also SpatialVec6.minus.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param right</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">return</dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.__mul__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.__sub__">
<code class="sig-name descname">__sub__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction Addition for spatial vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>right</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>V1 - V2 is a spatial vector of the same type as V1 and V2 whose value is
the difference of V1 and V2.  If both are arrays of spatial vectors V1 (1xN) and
V2 (1xN) the result is an array (1xN).</p>
<p>See also SpatialVec6.__minus__, SpatialVec6.__add__</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.isvalid">
<code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.shape">
<code class="sig-name descname">shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialMomentum.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialMomentum.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.spatialvector.SpatialInertia">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.spatialvector.</code><code class="sig-name descname">SpatialInertia</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">c</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">I</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialInertia"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.smuserlist.SMUserList</span></code></p>
<p>Spatial inertia class</p>
<p>Concrete class representing spatial inertia.</p>
<dl>
<dt>Methods:</dt><dd><p>SpatialInertia   constructor
char             convert to string
display          display in human readable form
double           convert to a 6xN double</p>
</dd>
<dt>Operators:</dt><dd><ul class="simple">
<li><p>plus: add spatial inertia of connected bodies</p></li>
</ul>
<ul class="simple">
<li><p>mtimes: compute force or momentum</p></li>
</ul>
</dd>
</dl>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>Subclass of the MATLAB handle class which means that pass by reference semantics
apply.</p></li>
<li><p>Spatial inertias can be placed into arrays and indexed.</p></li>
</ul>
</div></blockquote>
<p>See also SpatialM6, SpatialF6, SpatialVelocity, SpatialAcceleration, SpatialForce,
SpatialMomentum.</p>
<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">c</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">I</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialInertia.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new spatial inertia</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>float</em>) – mass</p></li>
<li><p><strong>c</strong> (<em>3-element array_like</em>) – centre of mass relative to link frame</p></li>
<li><p><strong>I</strong> (<em>numpy.array</em><em>, </em><em>shape=</em><em>(</em><em>6</em><em>,</em><em>6</em><em>)</em>) – inertia about the centre of mass, axes aligned with link frame</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialInertia(M,</span> <span class="pre">C,</span> <span class="pre">I)</span></code> is a spatial inertia object for a rigid-body
with mass <code class="docutils literal notranslate"><span class="pre">M</span></code>, centre of mass at <code class="docutils literal notranslate"><span class="pre">C</span></code> relative to the link frame, and an
inertia matrix <code class="docutils literal notranslate"><span class="pre">I</span></code> (3x3) about the centre of mass.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpatialInertia(I)</span></code> is a spatial inertia object with a value equal
to <code class="docutils literal notranslate"><span class="pre">I</span></code> (6x6).</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialInertia.__add__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial inertia addition
:param left:
:param right:
:return:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">SI1</span> <span class="pre">+</span> <span class="pre">SI2</span></code> is the SpatialInertia of a composite body when bodies with</dt><dd><p>SpatialInertia <code class="docutils literal notranslate"><span class="pre">SI1</span></code> and <code class="docutils literal notranslate"><span class="pre">SI2</span></code> are connected.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/spatialvector.html#SpatialInertia.__mul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Spatial inertia product</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – </p></li>
<li><p><strong>right</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SI</span> <span class="pre">*</span> <span class="pre">A</span></code> is the SpatialForce required for a body with SpatialInertia <code class="docutils literal notranslate"><span class="pre">SI</span></code> to accelerate with
the SpatialAcceleration <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SI</span> <span class="pre">*</span> <span class="pre">V</span></code> is the SpatialMomemtum of a body with SpatialInertia <code class="docutils literal notranslate"><span class="pre">SI</span></code> and SpatialVelocity <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion"><em>Quaternion</em></a><em> or </em><em>UnitQuaternion instance</em>) – the value to append</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.isvalid">
<em class="property">abstract static </em><code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.shape">
<em class="property">abstract property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.spatialvector.SpatialInertia.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.spatialvector.SpatialInertia.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spatialmath.geom3d">
<span id="geometry"></span><h3>Geometry<a class="headerlink" href="#module-spatialmath.geom3d" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="spatialmath.geom3d.Plane">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.geom3d.</code><code class="sig-name descname">Plane</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a plane object from linear coefficients</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>c</strong> (<em>4-element array_like</em>) – Plane coefficients</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a Plane object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.geom3d.Plane" title="spatialmath.geom3d.Plane">Plane</a></p>
</dd>
</dl>
<p>Planes are represented by the 4-vector <span class="math notranslate nohighlight">\([a, b, c, d]\)</span> which describes
the plane <span class="math notranslate nohighlight">\(\pi: ax + by + cz + d=0\)</span>.</p>
<dl class="py method">
<dt id="spatialmath.geom3d.Plane.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plane.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plane.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plane.PN">
<em class="property">classmethod </em><code class="sig-name descname">PN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plane.PN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plane.PN" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a plane object from point and normal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>3-element array_like</em>) – Point in the plane</p></li>
<li><p><strong>n</strong> (<em>3-element array_like</em>) – Normal to the plane</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a Plane object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.geom3d.Plane" title="spatialmath.geom3d.Plane">Plane</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plane.P3">
<em class="property">classmethod </em><code class="sig-name descname">P3</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plane.P3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plane.P3" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a plane object from three points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>p</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – Three points in the plane</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a Plane object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.geom3d.Plane" title="spatialmath.geom3d.Plane">Plane</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plane.n">
<em class="property">property </em><code class="sig-name descname">n</code><a class="headerlink" href="#spatialmath.geom3d.Plane.n" title="Permalink to this definition">¶</a></dt>
<dd><p>Normal to the plane</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Normal to the plane</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>3-element array_like</p>
</dd>
</dl>
<p>For a plane <span class="math notranslate nohighlight">\(\pi: ax + by + cz + d=0\)</span> this is the vector
<span class="math notranslate nohighlight">\([a,b,c]\)</span>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plane.d">
<em class="property">property </em><code class="sig-name descname">d</code><a class="headerlink" href="#spatialmath.geom3d.Plane.d" title="Permalink to this definition">¶</a></dt>
<dd><p>Plane offset</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Offset of the plane</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p>For a plane <span class="math notranslate nohighlight">\(\pi: ax + by + cz + d=0\)</span> this is the scalar
<span class="math notranslate nohighlight">\(d\)</span>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plane.contains">
<code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">2.220446049250313e-15</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plane.contains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plane.contains" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>3-element array_like</em>) – A 3D point</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Tolerance, defaults to 10*_eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if the point is in the plane</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.geom3d.Plucker">
<em class="property">class </em><code class="sig-prename descclassname">spatialmath.geom3d.</code><code class="sig-name descname">Plucker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">w</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.smuserlist.SMUserList</span></code></p>
<p>Plucker coordinate class</p>
<p>Concrete class to represent a 3D line using Plucker coordinates.</p>
<p>Methods:</p>
<p>Plucker            Contructor from points
Plucker.planes     Constructor from planes
Plucker.pointdir   Constructor from point and direction</p>
<p>Information and test methods::
closest            closest point on line
commonperp         common perpendicular for two lines
contains           test if point is on line
distance           minimum distance between two lines
intersects         intersection point for two lines
intersect_plane    intersection points with a plane
intersect_volume   intersection points with a volume
pp                 principal point
ppd                principal point distance from origin
point              generate point on line</p>
<p>Conversion methods::
char               convert to human readable string
double             convert to 6-vector
skew               convert to 4x4 skew symmetric matrix</p>
<p>Display and print methods::
display            display in human readable form
plot               plot line</p>
<p>Operators:
*                  multiply Plucker matrix by a general matrix
|                  test if lines are parallel
^                  test if lines intersect
==                 test if two lines are equivalent
~=                 test if lines are not equivalent</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>This is reference (handle) class object</p></li>
<li><p>Plucker objects can be used in vectors and arrays</p></li>
</ul>
</div></blockquote>
<p>References:</p>
<blockquote>
<div><ul class="simple">
<li><p>Ken Shoemake, “Ray Tracing News”, Volume 11, Number 1
<a class="reference external" href="http://www.realtimerendering.com/resources/RTNews/html/rtnv11n1.html#art3">http://www.realtimerendering.com/resources/RTNews/html/rtnv11n1.html#art3</a></p></li>
<li><p>Matt Mason lecture notes <a class="reference external" href="http://www.cs.cmu.edu/afs/cs/academic/class/16741-s07/www/lectures/lecture9.pdf">http://www.cs.cmu.edu/afs/cs/academic/class/16741-s07/www/lectures/lecture9.pdf</a></p></li>
<li><p>Robotics, Vision &amp; Control: Second Edition, P. Corke, Springer 2016; p596-7.</p></li>
</ul>
</div></blockquote>
<p>Implementation notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>The internal representation is a 6-vector [v, w] where v (moment), w (direction).</p></li>
<li><p>There is a huge variety of notation used across the literature, as well as the ordering
of the direction and moment components in the 6-vector.</p></li>
</ul>
</div></blockquote>
<p>Copyright (C) 1993-2019 Peter I. Corke</p>
<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">w</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Plucker 3D line object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>6-element array_like</em><em>, </em><em>Plucker instance</em><em>, </em><em>3-element array_like</em>) – Plucker vector, Plucker object, Plucker moment</p></li>
<li><p><strong>w</strong> (<em>3-element array_like</em><em>, </em><em>optional</em>) – Plucker direction, optional</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – bad arguments</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Plucker line</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker">Plucker</a></p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">Plucker(X)</span></code> creates a Plucker object from the Plucker coordinate vector
<code class="docutils literal notranslate"><span class="pre">X</span></code> = [V,W] where V (3-vector) is the moment and W (3-vector) is the line direction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">Plucker(L)</span></code> creates a copy of the Plucker object <code class="docutils literal notranslate"><span class="pre">L</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">Plucker(V,</span> <span class="pre">W)</span></code> creates a Plucker object from moment <code class="docutils literal notranslate"><span class="pre">V</span></code> (3-vector) and
line direction <code class="docutils literal notranslate"><span class="pre">W</span></code> (3-vector).</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>The Plucker object inherits from <code class="docutils literal notranslate"><span class="pre">collections.UserList</span></code> and has list-like
behaviours.</p></li>
<li><p>A single Plucker object contains a 1D array of Plucker coordinates.</p></li>
<li><p>The elements of the array are guaranteed to be Plucker coordinates.</p></li>
<li><p>The number of elements is given by <code class="docutils literal notranslate"><span class="pre">len(L)</span></code></p></li>
<li><p>The elements can be accessed using index and slice notation, eg. <code class="docutils literal notranslate"><span class="pre">L[1]</span></code> or
<code class="docutils literal notranslate"><span class="pre">L[2:3]</span></code></p></li>
<li><p>The Plucker instance can be used as an iterator in a for loop or list comprehension.</p></li>
<li><p>Some methods support operations on the internal list.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.PQ, Plucker.Planes, Plucker.PointDir</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.isvalid">
<em class="property">static </em><code class="sig-name descname">isvalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.isvalid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.isvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator indicating abstract staticmethods.</p>
<p>Similar to abstractmethod.</p>
<p>Usage:</p>
<blockquote>
<div><dl>
<dt>class C(metaclass=ABCMeta):</dt><dd><p>&#64;abstractstaticmethod
def my_abstract_staticmethod(…):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>‘abstractstaticmethod’ is deprecated. Use ‘staticmethod’ with
‘abstractmethod’ instead.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.PQ">
<em class="property">static </em><code class="sig-name descname">PQ</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">P</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Q</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.PQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.PQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Plucker line object from two 3D points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>P</strong> (<em>3-element array_like</em>) – First 3D point</p></li>
<li><p><strong>Q</strong> (<em>3-element array_like</em>) – Second 3D point</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Plucker line</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker">Plucker</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">Plucker(P,</span> <span class="pre">Q)</span></code> create a Plucker object that represents
the line joining the 3D points <code class="docutils literal notranslate"><span class="pre">P</span></code> (3-vector) and <code class="docutils literal notranslate"><span class="pre">Q</span></code> (3-vector). The direction
is from <code class="docutils literal notranslate"><span class="pre">Q</span></code> to <code class="docutils literal notranslate"><span class="pre">P</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker, Plucker.Planes, Plucker.PointDir</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.Planes">
<em class="property">static </em><code class="sig-name descname">Planes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pi1</span></em>, <em class="sig-param"><span class="n">pi2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.Planes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.Planes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Plucker line from two planes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pi1</strong> (<em>4-element array_like</em><em>, or </em><a class="reference internal" href="#spatialmath.geom3d.Plane" title="spatialmath.geom3d.Plane"><em>Plane</em></a>) – First plane</p></li>
<li><p><strong>pi2</strong> (<em>4-element array_like</em><em>, or </em><a class="reference internal" href="#spatialmath.geom3d.Plane" title="spatialmath.geom3d.Plane"><em>Plane</em></a>) – Second plane</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Plucker line</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker">Plucker</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">Plucker.planes(PI1,</span> <span class="pre">PI2)</span></code> is a Plucker object that represents
the line formed by the intersection of two planes <code class="docutils literal notranslate"><span class="pre">PI1</span></code> and <code class="docutils literal notranslate"><span class="pre">PI2</span></code>.</p>
<p>Planes are represented by the 4-vector <span class="math notranslate nohighlight">\([a, b, c, d]\)</span> which describes
the plane <span class="math notranslate nohighlight">\(\pi: ax + by + cz + d=0\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker, Plucker.PQ, Plucker.PointDir</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.PointDir">
<em class="property">static </em><code class="sig-name descname">PointDir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">point</span></em>, <em class="sig-param"><span class="n">dir</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.PointDir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.PointDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Plucker line from point and direction</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point</strong> (<em>3-element array_like</em>) – A 3D point</p></li>
<li><p><strong>dir</strong> (<em>3-element array_like</em>) – Direction vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Plucker line</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker">Plucker</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">Plucker.pointdir(P,</span> <span class="pre">W)</span></code> is a Plucker object that represents the
line containing the point <code class="docutils literal notranslate"><span class="pre">P</span></code> and parallel to the direction vector <code class="docutils literal notranslate"><span class="pre">W</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker, Plucker.Planes, Plucker.PQ</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.append" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Plucker object</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – Attempt to append a non Plucker object</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Plucker object with new Plucker line appended</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker">Plucker</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.A">
<em class="property">property </em><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.v">
<em class="property">property </em><code class="sig-name descname">v</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.v" title="Permalink to this definition">¶</a></dt>
<dd><p>Moment vector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.w">
<em class="property">property </em><code class="sig-name descname">w</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.w" title="Permalink to this definition">¶</a></dt>
<dd><p>Direction vector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the direction vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.uw</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.uw">
<em class="property">property </em><code class="sig-name descname">uw</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.uw" title="Permalink to this definition">¶</a></dt>
<dd><p>Line direction as a unit vector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Line direction</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">line.uw</span></code> is a unit-vector parallel to the line.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.vec">
<em class="property">property </em><code class="sig-name descname">vec</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.vec" title="Permalink to this definition">¶</a></dt>
<dd><p>Line as a Plucker coordinate vector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Coordinate vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(6,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">line.vec</span></code> is the  Plucker coordinate vector <code class="docutils literal notranslate"><span class="pre">X</span></code> = [V,W] where V (3-vector)
is the moment and W (3-vector) is the line direction.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.skew">
<em class="property">property </em><code class="sig-name descname">skew</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.skew" title="Permalink to this definition">¶</a></dt>
<dd><p>Line as a Plucker skew-matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Skew-symmetric matrix form of Plucker coordinates</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">line.skew()</span></code> is the Plucker matrix, a 4x4 skew-symmetric matrix
representation of the line.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>For two homogeneous points P and Q on the line, <span class="math notranslate nohighlight">\(PQ^T-QP^T\)</span> is also skew
symmetric.</p></li>
<li><p>The projection of Plucker line by a perspective camera is a homogeneous line (3x1)
given by <span class="math notranslate nohighlight">\(\vee C M C^T\)</span> where <span class="math notranslate nohighlight">\(C \in \mathbf{R}^{3 \times 4}\)</span> is the camera matrix.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.pp">
<em class="property">property </em><code class="sig-name descname">pp</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.pp" title="Permalink to this definition">¶</a></dt>
<dd><p>Principal point of the line</p>
<p><code class="docutils literal notranslate"><span class="pre">line.pp</span></code> is the point on the line that is closest to the origin.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>Same as Plucker.point(0)</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.ppd, Plucker.point</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.ppd">
<em class="property">property </em><code class="sig-name descname">ppd</code><a class="headerlink" href="#spatialmath.geom3d.Plucker.ppd" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from principal point to the origin</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Distance from principal point to the origin</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">line.ppd</span></code> is the distance from the principal point to the origin.
This is the smallest distance of any point on the line
to the origin.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.pp</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.point">
<code class="sig-name descname">point</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lam</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.point" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate point on line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lam</strong> (<em>float</em>) – Scalar distance from principal point</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Distance from principal point to the origin</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">line.point(LAMBDA)</span></code> is a point on the line, where <code class="docutils literal notranslate"><span class="pre">LAMBDA</span></code> is the parametric
distance along the line from the principal point of the line such
that <span class="math notranslate nohighlight">\(P = P_p + \lambda \hat{d}\)</span> and <span class="math notranslate nohighlight">\(\hat{d}\)</span> is the line
direction given by <code class="docutils literal notranslate"><span class="pre">line.uw</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.pp, Plucker.closest, Plucker.uw</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.contains">
<code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">1.1102230246251565e-14</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.contains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if points are on the line</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>3-element array_like</em><em>, or </em><em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>N</em><em>)</em>) – 3D point</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em>) – Tolerance, defaults to 50*_eps</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – Bad argument</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether point is on the line</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool or numpy.ndarray(N) of bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">line.contains(X)</span></code> is true if the point <code class="docutils literal notranslate"><span class="pre">X</span></code> lies on the line defined by
the Plucker object self.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">X</span></code> is an array with 3 rows, the test is performed on every column and
an array of booleans is returned.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if two lines are equivalent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – First line</p></li>
<li><p><strong>l2</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Second line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Plucker</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>line equivalence</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">L1</span> <span class="pre">==</span> <span class="pre">L2</span></code> is true if the Plucker objects describe the same line in
space.  Note that because of the over parameterization, lines can be
equivalent even if their coordinate vectors are different.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.__ne__">
<code class="sig-name descname">__ne__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.__ne__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if two lines are not equivalent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – First line</p></li>
<li><p><strong>l2</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Second line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>line inequivalence</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">L1</span> <span class="pre">!=</span> <span class="pre">L2</span></code> is true if the Plucker objects describe different lines in
space.  Note that because of the over parameterization, lines can be
equivalent even if their coordinate vectors are different.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.isparallel">
<code class="sig-name descname">isparallel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l2</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">2.220446049250313e-15</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.isparallel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.isparallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if lines are parallel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – First line</p></li>
<li><p><strong>l2</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Second line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lines are parallel</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">l1.isparallel(l2)</span></code> is true if the two lines are parallel.</p>
<p><code class="docutils literal notranslate"><span class="pre">l1</span> <span class="pre">|</span> <span class="pre">l2</span></code> as above but in binary operator form</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.or, Plucker.intersects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.__or__">
<code class="sig-name descname">__or__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.__or__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.__or__" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if lines are parallel as a binary operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – First line</p></li>
<li><p><strong>l2</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Second line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lines are parallel</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">l1</span> <span class="pre">|</span> <span class="pre">l2</span></code> is an operator which is true if the two lines are parallel.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.isparallel, Plucker.__xor__</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.__xor__">
<code class="sig-name descname">__xor__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.__xor__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.__xor__" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if lines intersect as a binary operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – First line</p></li>
<li><p><strong>l2</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Second line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lines intersect</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">l1</span> <span class="pre">^</span> <span class="pre">l2</span></code> is an operator which is true if the two lines intersect at a point.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>Is false if the lines are equivalent since they would intersect at
an infinite number of points.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.intersects, Plucker.parallel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.intersects">
<code class="sig-name descname">intersects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.intersects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.intersects" title="Permalink to this definition">¶</a></dt>
<dd><p>Intersection point of two lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – First line</p></li>
<li><p><strong>l2</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Second line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3D intersection point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,) or None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">l1.intersects(l2)</span></code> is the point of intersection of the two lines, or
<code class="docutils literal notranslate"><span class="pre">None</span></code> if the lines do not intersect or are equivalent.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.commonperp, Plucker.eq, Plucker.__xor__</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.distance">
<code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum distance between lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – First line</p></li>
<li><p><strong>l2</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Second line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Closest distance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a>l1.distance(l2) is the minimum distance between two lines.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>Works for parallel, skew and intersecting lines.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.closest">
<code class="sig-name descname">closest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.closest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.closest" title="Permalink to this definition">¶</a></dt>
<dd><p>Point on line closest to given point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> – A line</p></li>
<li><p><strong>l2</strong> (<em>3-element array_like</em>) – An arbitrary 3D point</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Point on the line and distance to line</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>collections.namedtuple</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">line.closest(x).p</span></code> is the coordinate of a point on the line that is
closest to <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">line.closest(x).d</span></code> is the distance between the point on the line and <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></li>
</ul>
<p>The return value is a named tuple with elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.p</span></code> for the point on the line as a numpy.ndarray, shape=(3,)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.d</span></code> for the distance to the point from <code class="docutils literal notranslate"><span class="pre">x</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.lam</span></code> the <cite>lambda</cite> value for the point on the line.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.point</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.commonperp">
<code class="sig-name descname">commonperp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.commonperp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.commonperp" title="Permalink to this definition">¶</a></dt>
<dd><p>Common perpendicular to two lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l1</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – First line</p></li>
<li><p><strong>l2</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Second line</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Perpendicular line</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker">Plucker</a> or None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">l1.commonperp(l2)</span></code> is the common perpendicular line between the two lines.
Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if the lines are parallel.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.intersect</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.__mul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reciprocal product</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Left operand</p></li>
<li><p><strong>right</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Right operand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reciprocal product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">left</span> <span class="pre">*</span> <span class="pre">right</span></code> is the scalar reciprocal product <span class="math notranslate nohighlight">\(\hat{w}_L \dot m_R + \hat{w}_R \dot m_R\)</span>.</p>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>Multiplication or composition of Plucker lines is not defined.</p></li>
<li><p>Pre-multiplication by an SE3 object is supported, see <code class="docutils literal notranslate"><span class="pre">__rmul__</span></code>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.__rmul__</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.__rmul__">
<code class="sig-name descname">__rmul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">left</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.__rmul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.__rmul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Line transformation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<a class="reference internal" href="#spatialmath.pose3d.SE3" title="spatialmath.pose3d.SE3"><em>SE3</em></a>) – Rigid-body transform</p></li>
<li><p><strong>right</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – Right operand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed line</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker">Plucker</a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">*</span> <span class="pre">line</span></code> is the line transformed by the rigid body transformation <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.__mul__</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.intersect_plane">
<code class="sig-name descname">intersect_plane</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plane</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.intersect_plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.intersect_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Line intersection with a plane</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – A line</p></li>
<li><p><strong>plane</strong> (<em>4-element array_like</em><em> or </em><a class="reference internal" href="#spatialmath.geom3d.Plane" title="spatialmath.geom3d.Plane"><em>Plane</em></a>) – A plane</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Intersection point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>collections.namedtuple</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">line.intersect_plane(plane).p</span></code> is the point where the line 
intersects the plane, or None if no intersection.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">line.intersect_plane(plane).lam</span></code> is the <cite>lambda</cite> value for the point on the line
that intersects the plane.</p></li>
</ul>
<p>The plane can be specified as:</p>
<blockquote>
<div><ul class="simple">
<li><p>a 4-vector <span class="math notranslate nohighlight">\([a, b, c, d]\)</span> which describes the plane <span class="math notranslate nohighlight">\(\pi: ax + by + cz + d=0\)</span>.</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">Plane</span></code> object</p></li>
</ul>
<p>The return value is a named tuple with elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.p</span></code> for the point on the line as a numpy.ndarray, shape=(3,)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.lam</span></code> the <cite>lambda</cite> value for the point on the line.</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>See also Plucker.point.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.intersect_volume">
<code class="sig-name descname">intersect_volume</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bounds</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.intersect_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.intersect_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Line intersection with a volume</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – A line</p></li>
<li><p><strong>bounds</strong> – Bounds of an axis-aligned rectangular cuboid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Intersection point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>collections.namedtuple</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">line.intersect_volume(bounds).p</span></code> is a matrix (3xN) with columns
that indicate where the line intersects the faces of the volume
specified by <code class="docutils literal notranslate"><span class="pre">bounds</span></code> = [xmin xmax ymin ymax zmin zmax].  The number of
columns N is either:</p>
<ul class="simple">
<li><p>0, when the line is outside the plot volume or,</p></li>
<li><p>2 when the line pierces the bounding volume.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">line.intersect_volume(bounds).lam</span></code> is an array of shape=(N,) where
N is as above.</p>
<p>The return value is a named tuple with elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.p</span></code> for the points on the line as a numpy.ndarray, shape=(3,N)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.lam</span></code> for the <cite>lambda</cite> values for the intersection points as a
numpy.ndarray, shape=(N,).</p></li>
</ul>
</div></blockquote>
<p>See also Plucker.plot, Plucker.point.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">pos</span></em>, <em class="sig-param"><span class="n">bounds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/geom3d.html#Plucker.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.geom3d.Plucker.plot" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Plot a line</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> (<a class="reference internal" href="#spatialmath.geom3d.Plucker" title="spatialmath.geom3d.Plucker"><em>Plucker</em></a>) – A line</p></li>
<li><p><strong>bounds</strong> – Bounds of an axis-aligned rectangular cuboid as [xmin xmax ymin ymax zmin zmax], optional</p></li>
<li><p><strong>**kwargs</strong> – <p>Extra arguents passed to <a class="reference external" href="https://matplotlib.org/3.2.2/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D">Line2D</a></p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Plotted line</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Line3D or None</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">line.plot(bounds)</span></code> adds a line segment to the current axes, and the handle of the line is returned.  
The line segment is defined by the intersection of the line and the given rectangular cuboid. 
If the line does not intersect the plotting volume None is returned.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">line.plot()</span></code> as above but the bounds are taken from the axis limits of the current axes.</p></li>
</ul>
<p>The line color or style is specified by:</p>
<blockquote>
<div><ul class="simple">
<li><p>a  MATLAB-style linestyle like ‘k–’</p></li>
<li><p>additional arguments passed to <a class="reference external" href="https://matplotlib.org/3.2.2/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D">Line2D</a></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>Plucker.intersect_volume</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.Alloc">
<em class="property">classmethod </em><code class="sig-name descname">Alloc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.Alloc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.Empty">
<em class="property">classmethod </em><code class="sig-name descname">Empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.Empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an empty instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a quaternion instance with zero values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.quaternion.Quaternion" title="spatialmath.quaternion.Quaternion">Quaternion</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.arghandler">
<code class="sig-name descname">arghandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">convertfrom</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.arghandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard constructor support (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> – the instance to be initialized :type self: SMUserList</p>
</dd>
</dl>
<p>instance :param arg: initial value :param convertfrom: list of classes
to accept and convert from :type: tuple of typles :param check: check
value is valid, defaults to True :type check: bool :raises ValueError:
bad type passed</p>
<p>The value <code class="docutils literal notranslate"><span class="pre">arg</span></code> can be any of:</p>
<ol class="arabic simple">
<li><p>a numpy.ndarray of the appropriate shape and value which is valid for the subclass</p></li>
<li><p>a list whose elements all meet the criteria above</p></li>
<li><p>an instance of the subclass</p></li>
<li><p>a list whose elements are all singelton instances of the subclass</p></li>
</ol>
<p>For cases 1 and 2, a NumPy array or a list of NumPy array is passed.
Each NumPyarray is tested for validity (if <code class="docutils literal notranslate"><span class="pre">check</span></code> is False a cursory
check of shape is made, if <code class="docutils literal notranslate"><span class="pre">check</span></code> is True the numerical value is
inspected) and converted to the required internal format by the
<code class="docutils literal notranslate"><span class="pre">_import</span></code> method. The default <code class="docutils literal notranslate"><span class="pre">_import</span></code> method calls the <code class="docutils literal notranslate"><span class="pre">isvalid</span></code>
method for checking.  This mechanism allows equivalent forms to be
passed, ie. 6x1 or 4x4 for an se(3).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, and an instance of class
<code class="docutils literal notranslate"><span class="pre">B</span></code> is passed and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an element of the <code class="docutils literal notranslate"><span class="pre">convertfrom</span></code> argument,
then <code class="docutils literal notranslate"><span class="pre">B.A()</span></code> will be invoked to perform the type conversion.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SE3</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="n">SE3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
<span class="n">SE3</span><span class="p">([</span><span class="n">SE3</span><span class="p">(),</span> <span class="n">SE3</span><span class="p">()])</span>
<span class="n">Twist3</span><span class="p">(</span><span class="n">SE3</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.binop">
<code class="sig-name descname">binop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">list1</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.binop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform binary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>SMUserList subclass</em>) – left operand</p></li>
<li><p><strong>right</strong> (<em>SMUserList subclass</em><em>, </em><em>scalar</em><em> or </em><em>array</em>) – right operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>op2</strong> (<em>callable</em>) – binary operation</p></li>
<li><p><strong>list1</strong> (<em>bool</em>) – return single array as a list, default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – arguments are not compatible</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of values</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<p>The is a helper method for implementing binary operation with overloaded
operators such as <code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">*</span> <span class="pre">Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are both subclasses
of <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code>.  Each operand has a list of one or more
values and this methods computes a list of result values according to:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Inputs</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len(right)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left,</span> <span class="pre">right[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>1</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(left[i],</span> <span class="pre">right[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The arguments to <code class="docutils literal notranslate"><span class="pre">op</span></code> are the internal numeric values, ie. as returned
by the <code class="docutils literal notranslate"><span class="pre">._A</span></code> property.</p>
<p>The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the right operand is not a <code class="docutils literal notranslate"><span class="pre">SMUserList</span></code> subclass, but is a numeric
scalar or array then then <code class="docutils literal notranslate"><span class="pre">op2</span></code> is invoked</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">_binop</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(left)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op2(left,</span> <span class="pre">right)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op2(left[i],</span> <span class="pre">right)</span></code></p></td>
</tr>
</tbody>
</table>
<p>There is no check on the shape of <code class="docutils literal notranslate"><span class="pre">right</span></code> if it is an array.
The result is always a list, except for the first case above and
<code class="docutils literal notranslate"><span class="pre">list1</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None – remove all items from S<a class="headerlink" href="#spatialmath.geom3d.Plucker.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span> &#x2192; integer – return number of occurrences of value<a class="headerlink" href="#spatialmath.geom3d.Plucker.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sequence of values in an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>instance of same type</em>) – the value to extend</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of appended object</p>
</dd>
</dl>
<p>Appends the argument’s values to the object’s internal list of values.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="optional">[</span>, <em class="sig-param">start</em><span class="optional">[</span>, <em class="sig-param">stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; integer – return first index of value.<a class="headerlink" href="#spatialmath.geom3d.Plucker.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
<p>Supporting start and stop arguments is optional, but
recommended.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a value to an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – element to insert value before</p></li>
<li><p><strong>item</strong> (<em>instance of same type</em>) – the value to insert</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – incorrect type of inserted value</p>
</dd>
</dl>
<p>Inserts the argument into the object’s internal list of values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">))</span> <span class="c1"># insert at position 0 in the list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop value from an instance (superclass method)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>instance of same type</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IndexError</strong> – if there are no values to pop</p>
</dd>
</dl>
<p>Removes the first quaternion value from the instancet.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">UnitQuaternion</span><span class="o">.</span><span class="n">Rx</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1.000000 &lt;&lt; 0.000000, 0.000000, 0.000000 &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>S.remove(value) – remove first occurrence of value.
Raise ValueError if the value is not present.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.reverse">
<code class="sig-name descname">reverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>S.reverse() – reverse <em>IN PLACE</em></p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.sort">
<code class="sig-name descname">sort</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.geom3d.Plucker.unop">
<code class="sig-name descname">unop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">op</span></em>, <em class="sig-param"><span class="n">matrix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#spatialmath.geom3d.Plucker.unop" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform unary operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> (<em>SMUserList subclass</em>) – operand</p></li>
<li><p><strong>op</strong> (<em>callable</em>) – unnary operation</p></li>
<li><p><strong>matrix</strong> (<em>bool</em>) – return array instead of list, default False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>operation results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list or NumPy array</p>
</dd>
</dl>
<p>The is a helper method for implementing unary operations where the
operand has multiple value. This method computes the value of 
the operation for all input values and returns the result as either
a list or as a matrix which vertically stacks the results.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input</p></th>
<th class="head" colspan="2"><p>Output</p></th>
</tr>
<tr class="row-even"><th class="head"><p>len(self)</p></th>
<th class="head"><p>len</p></th>
<th class="head"><p>operation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">op(self)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>M</p></td>
<td><p>M</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ret[i,;]</span> <span class="pre">=</span> <span class="pre">op(self[i])</span></code></p></td>
</tr>
</tbody>
</table>
<p>The result is:</p>
<ul class="simple">
<li><p>a list of values if <code class="docutils literal notranslate"><span class="pre">matrix==False</span></code>, or</p></li>
<li><p>a 2D NumPy stack of values if <code class="docutils literal notranslate"><span class="pre">matrix==True</span></code>, it is assumed
that the value is a 1D array.</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="id14">
<h2>2D-space<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pose-orientation-se-2-so-2">
<h3>Pose &amp; orientation: SE(2), SO(2)<a class="headerlink" href="#pose-orientation-se-2-so-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="pose-se-2">
<h4>Pose SE(2)<a class="headerlink" href="#pose-se-2" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="orientation-so-2">
<h4>Orientation SO(2)<a class="headerlink" href="#orientation-so-2" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="module-spatialmath.Twist2">
<span id="twists-se-2"></span><h3>Twists se(2)<a class="headerlink" href="#module-spatialmath.Twist2" title="Permalink to this headline">¶</a></h3>
<p>Superclass for 3D and 2D twist objects</p>
<p>Subclasses are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Twist3</span></code> representing rigid-body motion in 3D as a 6-vector</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Twist2</span></code> representing rigid-body motion in 2D as a 3-vector</p></li>
</ul>
<p>A twist is the unique elements of the logarithm of the corresponding SE(N)
matrix.</p>
<p>Arithmetic operators are overloaded but the operation they perform depend
on the types of the operands.  For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> will compose two instances of the same subclass, and the result will be
an instance of the same subclass, since this is a group operator.</p></li>
</ul>
<p>These classes all inherit from <code class="docutils literal notranslate"><span class="pre">UserList</span></code> which enables them to 
represent a sequence of values, ie. a <code class="docutils literal notranslate"><span class="pre">Twist3</span></code> instance can contain
a sequence of twists.  Most of the Python <code class="docutils literal notranslate"><span class="pre">list</span></code> operators
are applicable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Twist3</span><span class="p">()</span>  <span class="c1"># new instance with zero value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>     <span class="c1"># it is a sequence of one value</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># append to itself</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>       <span class="c1"># it is a sequence of two values</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>         <span class="c1"># the element has a 4x4 matrix value</span>
<span class="go">Twist3([0, 0, 0, 0, 0, 0])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">SE3</span><span class="o">.</span><span class="n">Rx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span><span class="o">.</span><span class="n">Twist3</span><span class="p">()</span>  <span class="c1"># set an elements of the sequence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>         <span class="c1"># reverse the elements in the sequence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>            <span class="c1"># delete an element</span>
</pre></div>
</div>
<p>References:</p>
<blockquote>
<div><ul class="simple">
<li><p>“Mechanics, planning and control”
Park &amp; Lynch, Cambridge, 2016.</p></li>
</ul>
</div></blockquote>
<p>This class is subclassed for the 3D and 2D cases</p>
digraph inheritance0b71ef29c6 {
bgcolor=transparent;
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;abc.ABC&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Helper class that provides a standard way to create an ABC using&quot;];
  &quot;collections.UserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;A more or less complete user-defined wrapper around list objects.&quot;];
  &quot;smuserlist.SMUserList&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;List properties for spatial math classes&quot;];
  &quot;collections.UserList&quot; -&gt; &quot;smuserlist.SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;abc.ABC&quot; -&gt; &quot;smuserlist.SMUserList&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;twist.SMTwist&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;Superclass for 3D and 2D twist objects&quot;];
  &quot;smuserlist.SMUserList&quot; -&gt; &quot;twist.SMTwist&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;twist.Twist2&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded];
  &quot;twist.SMTwist&quot; -&gt; &quot;twist.Twist2&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
  &quot;twist.Twist3&quot; [fillcolor=white,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,fontsize=10,height=0.25,shape=box,style=rounded,tooltip=&quot;TWIST SE(2) and SE(3) Twist class&quot;];
  &quot;twist.SMTwist&quot; -&gt; &quot;twist.Twist3&quot; [arrowsize=0.5,style=&quot;setlinewidth(0.5)&quot;];
}
<dl class="py attribute">
<dt id="spatialmath.Twist2.A">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">A</code><a class="headerlink" href="#spatialmath.Twist2.A" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.N">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">N</code><a class="headerlink" href="#spatialmath.Twist2.N" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimension of the object’s vector representation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dimension</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
<p>Length of the Twist vector</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Twist2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">N</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.S">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">S</code><a class="headerlink" href="#spatialmath.Twist2.S" title="Permalink to this definition">¶</a></dt>
<dd><p>Twist as a vector (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Twist vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(N,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.S</span></code> is a 3-vector if X is a <code class="docutils literal notranslate"><span class="pre">Twist2</span></code> instance, and a 6-vector if
X is a <code class="docutils literal notranslate"><span class="pre">Twist</span></code> instance.</p></li>
</ul>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.ad">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">ad</code><a class="headerlink" href="#spatialmath.Twist2.ad" title="Permalink to this definition">¶</a></dt>
<dd><p>Twist3.ad Logarithm of adjoint</p>
<p>TW.ad is the logarithm of the adjoint matrix of the corresponding
homogeneous transformation.</p>
<p>See also SE3.Ad.</p>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.isprismatic">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">isprismatic</code><a class="headerlink" href="#spatialmath.Twist2.isprismatic" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for prismatic twist (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether twist is purely prismatic</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Twist3</span><span class="o">.</span><span class="n">R</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">isprismatic</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.isunit">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">isunit</code><a class="headerlink" href="#spatialmath.Twist2.isunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for unit twist (superclass property)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>If twist is a unit-twist</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.shape">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">shape</code><a class="headerlink" href="#spatialmath.Twist2.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the object’s interal matrix representation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(3,)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.unit">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">unit</code><a class="headerlink" href="#spatialmath.Twist2.unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit twist</p>
<p>TW.unit() is a Twist object representing a unit aligned with the Twist
TW.</p>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.v">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">v</code><a class="headerlink" href="#spatialmath.Twist2.v" title="Permalink to this definition">¶</a></dt>
<dd><p>Twist as a moment vector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Moment vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(2,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 2-vector</p></li>
</ul>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.Twist2.w">
<code class="sig-prename descclassname">spatialmath.Twist2.</code><code class="sig-name descname">w</code><a class="headerlink" href="#spatialmath.Twist2.w" title="Permalink to this definition">¶</a></dt>
<dd><p>Twist as a direction vector</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Direction vector</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X.v</span></code> is a 2-vector</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="spatial-vectors">
<h3>Spatial Vectors<a class="headerlink" href="#spatial-vectors" title="Permalink to this headline">¶</a></h3>
<dl class="py attribute">
<dt id="spatialmath.spatialvector">
<code class="sig-prename descclassname">spatialmath.</code><code class="sig-name descname">spatialvector</code><a class="headerlink" href="#spatialmath.spatialvector" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#spatialmath.spatialvector" title="spatialmath.spatialvector"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.spatialvector</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="id15">
<h3>Geometry<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>
<div class="section" id="function-library-base">
<h1>Function library (base)<a class="headerlink" href="#function-library-base" title="Permalink to this headline">¶</a></h1>
<p>blah blah blah</p>
<div class="section" id="module-spatialmath.base.transforms2d">
<span id="transforms-in-2d"></span><h2>Transforms in 2D<a class="headerlink" href="#module-spatialmath.base.transforms2d" title="Permalink to this headline">¶</a></h2>
<p>This modules contains functions to create and transform rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<dl class="py function">
<dt id="spatialmath.base.transforms2d.rot2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">rot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#rot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.rot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(2) rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2x2 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ROT2(THETA)</span></code> is an SO(2) rotation matrix (2x2) representing a rotation of THETA radians.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ROT2(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trot2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">trot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(2) pure rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>t</strong> (<em>array_like    :return: 3x3 homogeneous transformation matrix</em>) – translation 2-vector, defaults to [0,0]</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TROT2(THETA)</span></code> is a homogeneous transformation (3x3) representing a rotation of
THETA radians.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TROT2(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees.</p></li>
</ul>
<p>Notes:
- Translational component is zero.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.transl2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">transl2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#transl2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.transl2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(2) pure translation, or extract translation from SE(2) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – translation along X-axis</p></li>
<li><p><strong>y</strong> (<em>float</em>) – translation along Y-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transform matrix or the translation elements of a homogeneous transform</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p>Create a translational SE(2) matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">transl2([X,</span> <span class="pre">Y])</span></code> is an SE(2) homogeneous transform (3x3) representing a
pure translation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">transl2(</span> <span class="pre">V</span> <span class="pre">)</span></code> as above but the translation is given by a 2-element
list, dict, or a numpy array, row or column vector.</p></li>
</ul>
<p>Extract the translational part of an SE(2) matrix:</p>
<p>P = TRANSL2(T) is the translational part of a homogeneous transform as a
2-element numpy array.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.ishom2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">ishom2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#ishom2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.ishom2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SE(2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation submatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is an SE(2) homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISHOM2(T)</span></code> is True if the argument <code class="docutils literal notranslate"><span class="pre">T</span></code> is of dimension 3x3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ISHOM2(T,</span> <span class="pre">check=True)</span></code> as above, but also checks orthogonality of the
rotation sub-matrix and validitity of the bottom row.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isR, isrot2, ishom, isvec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.isrot2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">isrot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#isrot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.isrot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SO(2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation submatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is an SO(2) rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISROT(R)</span></code> is True if the argument <code class="docutils literal notranslate"><span class="pre">R</span></code> is of dimension 2x2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ISROT(R,</span> <span class="pre">check=True)</span></code> as above, but also checks orthogonality of the rotation matrix.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isR, ishom2, isrot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trlog2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">trlog2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">twist</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trlog2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trlog2" title="Permalink to this definition">¶</a></dt>
<dd><p>Logarithm of SO(2) or SE(2) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>2</em><em>,</em><em>2</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – SO(2) or SE(2) matrix</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that matrix is valid</p></li>
<li><p><strong>twist</strong> (<em>bool</em>) – return a twist vector instead of matrix [default]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>logarithm</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix logarithm for arguments that
are SO(2) or SE(2).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trlog2(R)</span></code> is the logarithm of the passed rotation matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> which
will be 2x2 skew-symmetric matrix.  The equivalent vector from <code class="docutils literal notranslate"><span class="pre">vex()</span></code>
is parallel to rotation axis and its norm is the amount of rotation about
that axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trlog(T)</span></code> is the logarithm of the passed homogeneous transformation
matrix <code class="docutils literal notranslate"><span class="pre">T</span></code> which will be 3x3 augumented skew-symmetric matrix. The
equivalent vector from <code class="docutils literal notranslate"><span class="pre">vexa()</span></code> is the twist vector (6x1) comprising [v
w].</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">trexp()</span></code>, <a class="reference internal" href="#spatialmath.base.transformsNd.vex" title="spatialmath.base.transformsNd.vex"><code class="xref py py-func docutils literal notranslate"><span class="pre">vex()</span></code></a>,
<a class="reference internal" href="#spatialmath.base.transformsNd.vexa" title="spatialmath.base.transformsNd.vexa"><code class="xref py py-func docutils literal notranslate"><span class="pre">vexa()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trexp2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">trexp2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">theta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trexp2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trexp2" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponential of so(2) or se(2) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – so(2), se(2) matrix or equivalent velctor</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – motion</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2x2 or 3x3 matrix exponential in SO(2) or SE(2)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix exponential for arguments
that are so(2) or se(2).</p>
<p>For so(2) the results is an SO(2) rotation matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(S)</span></code> is the matrix exponential of the so(3) element <code class="docutils literal notranslate"><span class="pre">S</span></code> which is a 2x2
skew-symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(S,</span> <span class="pre">THETA)</span></code> as above but for an so(3) motion of S*THETA, where <code class="docutils literal notranslate"><span class="pre">S</span></code> is
unit-norm skew-symmetric matrix representing a rotation axis and a rotation magnitude
given by <code class="docutils literal notranslate"><span class="pre">THETA</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(W)</span></code> is the matrix exponential of the so(2) element <code class="docutils literal notranslate"><span class="pre">W</span></code> expressed as
a 1-vector (array_like).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(W,</span> <span class="pre">THETA)</span></code> as above but for an so(3) motion of W*THETA where <code class="docutils literal notranslate"><span class="pre">W</span></code> is a
unit-norm vector representing a rotation axis and a rotation magnitude
given by <code class="docutils literal notranslate"><span class="pre">THETA</span></code>. <code class="docutils literal notranslate"><span class="pre">W</span></code> is expressed as a 1-vector (array_like).</p></li>
</ul>
<p>For se(2) the results is an SE(2) homogeneous transformation matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(SIGMA)</span></code> is the matrix exponential of the se(2) element <code class="docutils literal notranslate"><span class="pre">SIGMA</span></code> which is
a 3x3 augmented skew-symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(SIGMA,</span> <span class="pre">THETA)</span></code> as above but for an se(3) motion of SIGMA*THETA, where <code class="docutils literal notranslate"><span class="pre">SIGMA</span></code>
must represent a unit-twist, ie. the rotational component is a unit-norm skew-symmetric
matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(TW)</span></code> is the matrix exponential of the se(3) element <code class="docutils literal notranslate"><span class="pre">TW</span></code> represented as
a 3-vector which can be considered a screw motion.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(TW,</span> <span class="pre">THETA)</span></code> as above but for an se(2) motion of TW*THETA, where <code class="docutils literal notranslate"><span class="pre">TW</span></code>
must represent a unit-twist, ie. the rotational component is a unit-norm skew-symmetric
matrix.</p></li>
</ul>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p>trlog, trexp2</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trinterp2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">trinterp2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">s</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trinterp2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trinterp2" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate SE(2) matrices</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – initial SO(2) or SE(2) matrix value when s=0, if None then identity is used</p></li>
<li><p><strong>end</strong> – final SO(2) or SE(2) matrix, value when s=1</p></li>
<li><p><strong>s</strong> (<em>float</em>) – interpolation coefficient, range 0 to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(2) or SE(2) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(2,2), (3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp2(None,</span> <span class="pre">T,</span> <span class="pre">S)</span></code> is a homogeneous transform (3x3) interpolated
between identity when S=0 and T (3x3) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp2(T0,</span> <span class="pre">T1,</span> <span class="pre">S)</span></code> as above but interpolated
between T0 (3x3) when S=0 and T1 (3x3) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp2(None,</span> <span class="pre">R,</span> <span class="pre">S)</span></code> is a rotation matrix (2x2) interpolated
between identity when S=0 and R (2x2) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp2(R0,</span> <span class="pre">R1,</span> <span class="pre">S)</span></code> as above but interpolated
between R0 (2x2) when S=0 and R1 (2x2) when S=1.</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>Rotation angle is linearly interpolated.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trinterp" title="spatialmath.base.transforms3d.trinterp"><code class="xref py py-func docutils literal notranslate"><span class="pre">trinterp()</span></code></a></p>
</dd>
</dl>
<p>%## 2d homogeneous trajectory</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trprint2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">trprint2</code><span class="sig-paren">(</span><em class="sig-param">T</em>, <em class="sig-param">label=None</em>, <em class="sig-param">file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em>, <em class="sig-param">fmt='{:8.2g}'</em>, <em class="sig-param">unit='deg'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trprint2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trprint2" title="Permalink to this definition">¶</a></dt>
<dd><p>Compact display of SO(2) or SE(2) matrices</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>2</em><em>,</em><em>2</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – matrix to format</p></li>
<li><p><strong>label</strong> (<em>str</em>) – text label to put at start of line</p></li>
<li><p><strong>file</strong> (<em>str</em>) – file to write formatted string to</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – conversion format for each number</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p>The matrix is formatted and written to <code class="docutils literal notranslate"><span class="pre">file</span></code> and the
string is returned.  To suppress writing to a file, set <code class="docutils literal notranslate"><span class="pre">file=None</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">trprint2(R)</span></code> displays the SO(2) rotation matrix in a compact
single-line format and returns the string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">LABEL</span><span class="p">:]</span> <span class="n">THETA</span> <span class="n">UNIT</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">trprint2(T)</span></code> displays the SE(2) homogoneous transform in a compact
single-line format and returns the string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">LABEL</span><span class="p">:]</span> <span class="p">[</span><span class="n">t</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">;]</span> <span class="n">THETA</span> <span class="n">UNIT</span>
</pre></div>
</div>
</li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">transl2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">@</span> <span class="n">trot2</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trprint2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="go">&#39;T: t =        1,        2;       17 deg&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>trprint</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trplot2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">trplot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">block</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'blue'</span></em>, <em class="sig-param"><span class="n">frame</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">textcolor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">'X', 'Y'</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">arrow</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">rviz</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">wtl</span><span class="o">=</span><span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">d1</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">d2</span><span class="o">=</span><span class="default_value">1.15</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trplot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trplot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a 2D coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – an SO(3) or SE(3) pose to be displayed as coordinate frame</p></li>
<li><p><strong>axes</strong> (<em>Axes3D reference</em>) – the axes to plot into, defaults to current axes</p></li>
<li><p><strong>block</strong> (<em>bool</em>) – run the GUI main loop until all windows are closed, default True</p></li>
<li><p><strong>dims</strong> (<em>array_like</em>) – dimension of plot volume as [xmin, xmax, ymin, ymax]</p></li>
<li><p><strong>color</strong> (<em>str</em>) – color of the lines defining the frame</p></li>
<li><p><strong>textcolor</strong> (<em>str</em>) – color of text labels for the frame, default color of lines above</p></li>
<li><p><strong>frame</strong> (<em>str</em>) – label the frame, name is shown below the frame and as subscripts on the frame axis labels</p></li>
<li><p><strong>labels</strong> (<em>3-tuple of strings</em>) – labels for the axes, defaults to X, Y and Z</p></li>
<li><p><strong>length</strong> (<em>float</em>) – length of coordinate frame axes, default 1</p></li>
<li><p><strong>arrow</strong> (<em>bool</em>) – show arrow heads, default True</p></li>
<li><p><strong>wtl</strong> (<em>float</em>) – width-to-length ratio for arrows, default 0.2</p></li>
<li><p><strong>rviz</strong> (<em>bool</em>) – show Rviz style arrows, default False</p></li>
<li><p><strong>projection</strong> (<em>str</em>) – 3D projection: ortho [default] or persp</p></li>
<li><p><strong>width</strong> (<em>float</em>) – width of lines, default 1</p></li>
<li><p><strong>d1</strong> – distance of frame axis label text from origin, default 1.15</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>axes containing the frame</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>AxesSubplot</p>
</dd>
</dl>
<p>Adds a 2D coordinate frame represented by the SO(2) or SE(2) matrix to the current axes.</p>
<ul class="simple">
<li><p>If no current figure, one is created</p></li>
<li><p>If current figure, but no axes, a 3d Axes is created</p></li>
</ul>
<p>Examples:</p>
<blockquote>
<div><p>trplot2(T, frame=’A’)
trplot2(T, frame=’A’, color=’green’)
trplot2(T1, ‘labels’, ‘AB’);</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.tranimate2">
<code class="sig-prename descclassname">spatialmath.base.transforms2d.</code><code class="sig-name descname">tranimate2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#tranimate2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.tranimate2" title="Permalink to this definition">¶</a></dt>
<dd><p>Animate a 2D coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – an SO(2) or SE(2) pose to be displayed as coordinate frame</p></li>
<li><p><strong>nframes</strong> (<em>int</em>) – number of steps in the animation [defaault 100]</p></li>
<li><p><strong>repeat</strong> (<em>bool</em>) – animate in endless loop [default False]</p></li>
<li><p><strong>interval</strong> (<em>int</em>) – number of milliseconds between frames [default 50]</p></li>
<li><p><strong>movie</strong> (<em>str</em>) – name of file to write MP4 movie into</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
</dl>
<p>Animates a 2D coordinate frame moving from the world frame to a frame represented by the SO(2) or SE(2) matrix to the current axes.</p>
<ul class="simple">
<li><p>If no current figure, one is created</p></li>
<li><p>If current figure, but no axes, a 3d Axes is created</p></li>
</ul>
<p>Examples:</p>
<blockquote>
<div><p>tranimate2(transl(1,2)&#64;trot2(1), frame=’A’, arrow=False, dims=[0, 5])
tranimate2(transl(1,2)&#64;trot2(1), frame=’A’, arrow=False, dims=[0, 5], movie=’spin.mp4’)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-spatialmath.base.transforms3d">
<span id="transforms-in-3d"></span><h2>Transforms in 3D<a class="headerlink" href="#module-spatialmath.base.transforms3d" title="Permalink to this headline">¶</a></h2>
<p>This modules contains functions to create and transform 3D rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<p>TODO:</p>
<blockquote>
<div><ul class="simple">
<li><p>trinterp</p></li>
<li><p>trjac, trjac2</p></li>
<li><p>tranimate, tranimate2</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt id="spatialmath.base.transforms3d.rotx">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">rotx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#rotx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.rotx" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(3) rotation about X-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rotx(THETA)</span></code> is an SO(3) rotation matrix (3x3) representing a rotation
of THETA radians about the x-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotx(THETA,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but THETA is in degrees</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trotx" title="spatialmath.base.transforms3d.trotx"><code class="xref py py-func docutils literal notranslate"><span class="pre">trotx()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.roty">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">roty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#roty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.roty" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(3) rotation about Y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about Y-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">roty(THETA)</span></code> is an SO(3) rotation matrix (3x3) representing a rotation
of THETA radians about the y-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">roty(THETA,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but THETA is in degrees</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.troty" title="spatialmath.base.transforms3d.troty"><code class="xref py py-func docutils literal notranslate"><span class="pre">troty()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.rotz">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">rotz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#rotz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.rotz" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(3) rotation about Z-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about Z-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rotz(THETA)</span></code> is an SO(3) rotation matrix (3x3) representing a rotation
of THETA radians about the z-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotz(THETA,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but THETA is in degrees</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">yrotz()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trotx">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trotx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trotx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trotx" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about X-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>t</strong> (<em>array_like    :return: 4x4 homogeneous transformation matrix</em>) – translation 3-vector, defaults to [0,0,0]</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trotx(THETA)</span></code> is a homogeneous transformation (4x4) representing a rotation
of THETA radians about the x-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trotx(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trotx(THETA,</span> <span class="pre">'rad',</span> <span class="pre">t=[x,y,z])</span></code> as above with translation of [x,y,z]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rotx" title="spatialmath.base.transforms3d.rotx"><code class="xref py py-func docutils literal notranslate"><span class="pre">rotx()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.troty">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">troty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#troty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.troty" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about Y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about Y-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>t</strong> (<em>array_like</em>) – translation 3-vector, defaults to [0,0,0]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix as a numpy array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">troty(THETA)</span></code> is a homogeneous transformation (4x4) representing a rotation
of THETA radians about the y-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">troty(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">troty(THETA,</span> <span class="pre">'rad',</span> <span class="pre">t=[x,y,z])</span></code> as above with translation of [x,y,z]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.roty" title="spatialmath.base.transforms3d.roty"><code class="xref py py-func docutils literal notranslate"><span class="pre">roty()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trotz">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trotz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trotz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trotz" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about Z-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about Z-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>t</strong> (<em>array_like</em>) – translation 3-vector, defaults to [0,0,0]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trotz(THETA)</span></code> is a homogeneous transformation (4x4) representing a rotation
of THETA radians about the z-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trotz(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trotz(THETA,</span> <span class="pre">'rad',</span> <span class="pre">t=[x,y,z])</span></code> as above with translation of [x,y,z]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rotz" title="spatialmath.base.transforms3d.rotz"><code class="xref py py-func docutils literal notranslate"><span class="pre">rotz()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.transl">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">transl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#transl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.transl" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure translation, or extract translation from SE(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – translation along X-axis</p></li>
<li><p><strong>y</strong> (<em>float</em>) – translation along Y-axis</p></li>
<li><p><strong>z</strong> (<em>float</em>) – translation along Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p>Create a translational SE(3) matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">transl(</span> <span class="pre">X,</span> <span class="pre">Y,</span> <span class="pre">Z</span> <span class="pre">)</span></code> is an SE(3) homogeneous transform (4x4) representing a
pure translation of X, Y and Z.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">transl(</span> <span class="pre">V</span> <span class="pre">)</span></code> as above but the translation is given by a 3-element
list, dict, or a numpy array, row or column vector.</p></li>
</ul>
<p>Extract the translational part of an SE(3) matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">P</span> <span class="pre">=</span> <span class="pre">TRANSL(T)</span></code> is the translational part of a homogeneous transform T as a
3-element numpy array.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms2d.transl2" title="spatialmath.base.transforms2d.transl2"><code class="xref py py-func docutils literal notranslate"><span class="pre">transl2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.ishom">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">ishom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#ishom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.ishom" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation submatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is an SE(3) homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISHOM(T)</span></code> is True if the argument <code class="docutils literal notranslate"><span class="pre">T</span></code> is of dimension 4x4</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ISHOM(T,</span> <span class="pre">check=True)</span></code> as above, but also checks orthogonality of the rotation sub-matrix and
validitity of the bottom row.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.isR" title="spatialmath.base.transformsNd.isR"><code class="xref py py-func docutils literal notranslate"><span class="pre">isR()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.isrot" title="spatialmath.base.transforms3d.isrot"><code class="xref py py-func docutils literal notranslate"><span class="pre">isrot()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.ishom2" title="spatialmath.base.transforms2d.ishom2"><code class="xref py py-func docutils literal notranslate"><span class="pre">ishom2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.isrot">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">isrot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#isrot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.isrot" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SO(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation submatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is an SO(3) rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISROT(R)</span></code> is True if the argument <code class="docutils literal notranslate"><span class="pre">R</span></code> is of dimension 3x3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ISROT(R,</span> <span class="pre">check=True)</span></code> as above, but also checks orthogonality of the rotation matrix.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.isR" title="spatialmath.base.transformsNd.isR"><code class="xref py py-func docutils literal notranslate"><span class="pre">isR()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.isrot2" title="spatialmath.base.transforms2d.isrot2"><code class="xref py py-func docutils literal notranslate"><span class="pre">isrot2()</span></code></a>,  <a class="reference internal" href="#spatialmath.base.transforms3d.ishom" title="spatialmath.base.transforms3d.ishom"><code class="xref py py-func docutils literal notranslate"><span class="pre">ishom()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.rpy2r">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">rpy2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roll</span></em>, <em class="sig-param"><span class="n">pitch</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">yaw</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#rpy2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.rpy2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SO(3) rotation matrix from roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>roll</strong> (<em>float</em>) – roll angle</p></li>
<li><p><strong>pitch</strong> (<em>float</em>) – pitch angle</p></li>
<li><p><strong>yaw</strong> (<em>float</em>) – yaw angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>unit</strong> – rotation order: ‘zyx’ [default], ‘xyz’, or ‘yxz’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">rpy2r(ROLL,</span> <span class="pre">PITCH,</span> <span class="pre">YAW)</span></code> is an SO(3) orthonormal rotation matrix
(3x3) equivalent to the specified roll, pitch, yaw angles angles.
These correspond to successive rotations about the axes specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Covention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">rpy2r(RPY)</span></code> as above but the roll, pitch, yaw angles are taken
from <code class="docutils literal notranslate"><span class="pre">RPY</span></code> which is a 3-vector (array_like) with values
(ROLL, PITCH, YAW).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2tr" title="spatialmath.base.transforms3d.rpy2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.rpy2tr">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">rpy2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roll</span></em>, <em class="sig-param"><span class="n">pitch</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">yaw</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#rpy2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.rpy2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) rotation matrix from roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>roll</strong> (<em>float</em>) – roll angle</p></li>
<li><p><strong>pitch</strong> (<em>float</em>) – pitch angle</p></li>
<li><p><strong>yaw</strong> (<em>float</em>) – yaw angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>unit</strong> – rotation order: ‘zyx’ [default], ‘xyz’, or ‘yxz’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">rpy2tr(ROLL,</span> <span class="pre">PITCH,</span> <span class="pre">YAW)</span></code> is an SO(3) orthonormal rotation matrix
(3x3) equivalent to the specified roll, pitch, yaw angles angles.
These correspond to successive rotations about the axes specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Convention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">rpy2tr(RPY)</span></code> as above but the roll, pitch, yaw angles are taken
from <code class="docutils literal notranslate"><span class="pre">RPY</span></code> which is a 3-vector (array_like) with values
(ROLL, PITCH, YAW).</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>The translational part is zero.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.eul2tr" title="spatialmath.base.transforms3d.eul2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.eul2r">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">eul2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">phi</span></em>, <em class="sig-param"><span class="n">theta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">psi</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#eul2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.eul2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SO(3) rotation matrix from Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phi</strong> (<em>float</em>) – Z-axis rotation</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – Y-axis rotation</p></li>
<li><p><strong>psi</strong> (<em>float</em>) – Z-axis rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">eul2r(PHI,</span> <span class="pre">THETA,</span> <span class="pre">PSI)</span></code> is an SO(3) orthonornal rotation
matrix equivalent to the specified Euler angles.  These correspond
to rotations about the Z, Y, Z axes respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">eul2r(EUL)</span></code> as above but the Euler angles are taken from
<code class="docutils literal notranslate"><span class="pre">EUL</span></code> which is a 3-vector (array_like) with values
(PHI THETA PSI).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2tr" title="spatialmath.base.transforms3d.eul2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.eul2tr">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">eul2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">phi</span></em>, <em class="sig-param"><span class="n">theta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">psi</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#eul2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.eul2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) pure rotation matrix from Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phi</strong> (<em>float</em>) – Z-axis rotation</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – Y-axis rotation</p></li>
<li><p><strong>psi</strong> (<em>float</em>) – Z-axis rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">eul2tr(PHI,</span> <span class="pre">THETA,</span> <span class="pre">PSI)</span></code> is an SE(3) homogeneous transformation
matrix equivalent to the specified Euler angles.  These correspond
to rotations about the Z, Y, Z axes respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">eul2tr(EUL)</span></code> as above but the Euler angles are taken from
<code class="docutils literal notranslate"><span class="pre">EUL</span></code> which is a 3-vector (array_like) with values
(PHI THETA PSI).</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>The translational part is zero.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rpy2tr" title="spatialmath.base.transforms3d.rpy2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.angvec2r">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">angvec2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#angvec2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.angvec2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SO(3) rotation matrix from rotation angle and axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>v</strong> (<em>array_like</em>) – rotation axis, 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">angvec2r(THETA,</span> <span class="pre">V)</span></code> is an SO(3) orthonormal rotation matrix
equivalent to a rotation of <code class="docutils literal notranslate"><span class="pre">THETA</span></code> about the vector <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">==</span> <span class="pre">0</span></code> then return identity matrix.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">~=</span> <span class="pre">0</span></code> then <code class="docutils literal notranslate"><span class="pre">V</span></code> must have a finite length.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.angvec2tr" title="spatialmath.base.transforms3d.angvec2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.angvec2tr">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">angvec2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#angvec2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.angvec2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) pure rotation from rotation angle and axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>v</strong> (<em>: array_like</em>) – rotation axis, 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">angvec2tr(THETA,</span> <span class="pre">V)</span></code> is an SE(3) homogeneous transformation matrix
equivalent to a rotation of <code class="docutils literal notranslate"><span class="pre">THETA</span></code> about the vector <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">==</span> <span class="pre">0</span></code> then return identity matrix.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">~=</span> <span class="pre">0</span></code> then <code class="docutils literal notranslate"><span class="pre">V</span></code> must have a finite length.</p></li>
<li><p>The translational part is zero.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.angvec2r" title="spatialmath.base.transforms3d.angvec2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.oa2r">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">oa2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">a</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#oa2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.oa2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(3) rotation matrix from two vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o</strong> (<em>array_like</em>) – 3-vector parallel to Y- axis</p></li>
<li><p><strong>a</strong> – 3-vector parallel to the Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">oa2tr(O,</span> <span class="pre">A)</span></code> is an SO(3) orthonormal rotation matrix for a frame defined in terms of
vectors parallel to its Y- and Z-axes with respect to a reference frame.  In robotics these axes are
respectively called the orientation and approach vectors defined such that
R = [N O A] and N = O x A.</p>
<p>Steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>N’ = O x A</p></li>
<li><p>O’ = A x N</p></li>
<li><p>normalize N’, O’, A</p></li>
<li><p>stack horizontally into rotation matrix</p></li>
</ol>
</div></blockquote>
<p>Notes:</p>
<ul class="simple">
<li><p>The A vector is the only guaranteed to have the same direction in the resulting
rotation matrix</p></li>
<li><p>O and A do not have to be unit-length, they are normalized</p></li>
<li><p>O and A do not have to be orthogonal, so long as they are not parallel</p></li>
<li><p>The vectors O and A are parallel to the Y- and Z-axes of the equivalent coordinate frame.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.oa2tr" title="spatialmath.base.transforms3d.oa2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">oa2tr()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.oa2tr">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">oa2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">a</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#oa2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.oa2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation from two vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o</strong> (<em>array_like</em>) – 3-vector parallel to Y- axis</p></li>
<li><p><strong>a</strong> – 3-vector parallel to the Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">oa2tr(O,</span> <span class="pre">A)</span></code> is an SE(3) homogeneous transformation matrix for a frame defined in terms of
vectors parallel to its Y- and Z-axes with respect to a reference frame.  In robotics these axes are
respectively called the orientation and approach vectors defined such that
R = [N O A] and N = O x A.</p>
<p>Steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>N’ = O x A</p></li>
<li><p>O’ = A x N</p></li>
<li><p>normalize N’, O’, A</p></li>
<li><p>stack horizontally into rotation matrix</p></li>
</ol>
</div></blockquote>
<p>Notes:</p>
<ul class="simple">
<li><p>The A vector is the only guaranteed to have the same direction in the resulting
rotation matrix</p></li>
<li><p>O and A do not have to be unit-length, they are normalized</p></li>
<li><p>O and A do not have to be orthogonal, so long as they are not parallel</p></li>
<li><p>The translational part is zero.</p></li>
<li><p>The vectors O and A are parallel to the Y- and Z-axes of the equivalent coordinate frame.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.oa2r" title="spatialmath.base.transforms3d.oa2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">oa2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2angvec">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">tr2angvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2angvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2angvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) or SE(3) to angle and rotation vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – SO(3) or SE(3) matrix</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – ‘rad’ or ‘deg’</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\((\theta, {\bf v})\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">tr2angvec(R)</span></code> is a rotation angle and a vector about which the rotation
acts that corresponds to the rotation part of <code class="docutils literal notranslate"><span class="pre">R</span></code>.</p>
<p>By default the angle is in radians but can be changed setting <cite>unit=’deg’</cite>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If the input is SE(3) the translation component is ignored.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.angvec2r" title="spatialmath.base.transforms3d.angvec2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.angvec2tr" title="spatialmath.base.transforms3d.angvec2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2eul">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">tr2eul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">flip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2eul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2eul" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) or SE(3) to ZYX Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – SO(3) or SE(3) matrix</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – ‘rad’ or ‘deg’</p></li>
<li><p><strong>flip</strong> (<em>bool</em>) – choose first Euler angle to be in quadrant 2 or 3</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZYZ Euler angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">tr2eul(R)</span></code> are the Euler angles corresponding to
the rotation part of <code class="docutils literal notranslate"><span class="pre">R</span></code>.</p>
<p>The 3 angles <span class="math notranslate nohighlight">\([\phi, \theta, \psi\)</span> correspond to sequential rotations about the
Z, Y and Z axes respectively.</p>
<p>By default the angles are in radians but can be changed setting <cite>unit=’deg’</cite>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>There is a singularity for the case where <span class="math notranslate nohighlight">\(\theta=0\)</span> in which case <span class="math notranslate nohighlight">\(\phi\)</span> is arbitrarily set to zero and <span class="math notranslate nohighlight">\(\phi\)</span> is set to <span class="math notranslate nohighlight">\(\phi+\psi\)</span>.</p></li>
<li><p>If the input is SE(3) the translation component is ignored.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2tr" title="spatialmath.base.transforms3d.eul2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2rpy">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">tr2rpy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2rpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2rpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) or SE(3) to roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – SO(3) or SE(3) matrix</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – ‘rad’ or ‘deg’</p></li>
<li><p><strong>order</strong> – ‘xyz’, ‘zyx’ or ‘yxz’ [default ‘zyx’]</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Roll-pitch-yaw angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">tr2rpy(R)</span></code> are the roll-pitch-yaw angles corresponding to
the rotation part of <code class="docutils literal notranslate"><span class="pre">R</span></code>.</p>
<p>The 3 angles RPY=[R,P,Y] correspond to sequential rotations about the
Z, Y and X axes respectively.  The axis order sequence can be changed by
setting:</p>
<ul class="simple">
<li><p><cite>order=’xyz’</cite>  for sequential rotations about X, Y, Z axes</p></li>
<li><p><cite>order=’yxz’</cite>  for sequential rotations about Y, X, Z axes</p></li>
</ul>
<p>By default the angles are in radians but can be changed setting <cite>unit=’deg’</cite>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>There is a singularity for the case where P=:math:<cite>pi/2</cite> in which case R is arbitrarily set to zero and Y is the sum (R+Y).</p></li>
<li><p>If the input is SE(3) the translation component is ignored.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2tr" title="spatialmath.base.transforms3d.rpy2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trlog">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trlog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">twist</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trlog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trlog" title="Permalink to this definition">¶</a></dt>
<dd><p>Logarithm of SO(3) or SE(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – SO(3) or SE(3) matrix</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that matrix is valid</p></li>
<li><p><strong>twist</strong> (<em>bool</em>) – return a twist vector instead of matrix [default]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>logarithm</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix logarithm for arguments that are SO(3) or SE(3).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trlog(R)</span></code> is the logarithm of the passed rotation matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> which will be
3x3 skew-symmetric matrix.  The equivalent vector from <code class="docutils literal notranslate"><span class="pre">vex()</span></code> is parallel to rotation axis
and its norm is the amount of rotation about that axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trlog(T)</span></code> is the logarithm of the passed homogeneous transformation matrix <code class="docutils literal notranslate"><span class="pre">T</span></code> which will be
4x4 augumented skew-symmetric matrix. The equivalent vector from <code class="docutils literal notranslate"><span class="pre">vexa()</span></code> is the twist
vector (6x1) comprising [v w].</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trexp" title="spatialmath.base.transforms3d.trexp"><code class="xref py py-func docutils literal notranslate"><span class="pre">trexp()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.vex" title="spatialmath.base.transformsNd.vex"><code class="xref py py-func docutils literal notranslate"><span class="pre">vex()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.vexa" title="spatialmath.base.transformsNd.vexa"><code class="xref py py-func docutils literal notranslate"><span class="pre">vexa()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trexp">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trexp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">theta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trexp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trexp" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponential of so(3) or se(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – so(3), se(3) matrix or equivalent velctor</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – motion</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 or 4x4 matrix exponential in SO(3) or SE(3)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix exponential for arguments
that are so(3) or se(3).</p>
<p>For so(3) the results is an SO(3) rotation matrix:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">trexp(S)</span></code> is the matrix exponential of the so(3) element <code class="docutils literal notranslate"><span class="pre">S</span></code> which is a 3x3</dt><dd><p>skew-symmetric matrix.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(S,</span> <span class="pre">THETA)</span></code> as above but for an so(3) motion of S*THETA, where <code class="docutils literal notranslate"><span class="pre">S</span></code> is
unit-norm skew-symmetric matrix representing a rotation axis and a rotation magnitude
given by <code class="docutils literal notranslate"><span class="pre">THETA</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(W)</span></code> is the matrix exponential of the so(3) element <code class="docutils literal notranslate"><span class="pre">W</span></code> expressed as
a 3-vector (array_like).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(W,</span> <span class="pre">THETA)</span></code> as above but for an so(3) motion of W*THETA where <code class="docutils literal notranslate"><span class="pre">W</span></code> is a
unit-norm vector representing a rotation axis and a rotation magnitude
given by <code class="docutils literal notranslate"><span class="pre">THETA</span></code>. <code class="docutils literal notranslate"><span class="pre">W</span></code> is expressed as a 3-vector (array_like).</p></li>
</ul>
<p>For se(3) the results is an SE(3) homogeneous transformation matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(SIGMA)</span></code> is the matrix exponential of the se(3) element <code class="docutils literal notranslate"><span class="pre">SIGMA</span></code> which is
a 4x4 augmented skew-symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(SIGMA,</span> <span class="pre">THETA)</span></code> as above but for an se(3) motion of SIGMA*THETA, where <code class="docutils literal notranslate"><span class="pre">SIGMA</span></code>
must represent a unit-twist, ie. the rotational component is a unit-norm skew-symmetric
matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(TW)</span></code> is the matrix exponential of the se(3) element <code class="docutils literal notranslate"><span class="pre">TW</span></code> represented as
a 6-vector which can be considered a screw motion.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(TW,</span> <span class="pre">THETA)</span></code> as above but for an se(3) motion of TW*THETA, where <code class="docutils literal notranslate"><span class="pre">TW</span></code>
must represent a unit-twist, ie. the rotational component is a unit-norm skew-symmetric
matrix.</p></li>
</ul>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">trexp2()</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trnorm">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trnorm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trnorm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trnorm" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize an SO(3) or SE(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – SO(3) or SE(3) matrix</p></li>
<li><p><strong>T1</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – second SE(3) matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) or SE(3) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trnorm(R)</span></code> is guaranteed to be a proper orthogonal matrix rotation
matrix (3x3) which is “close” to the input matrix R (3x3). If R
= [N,O,A] the O and A vectors are made unit length and the normal vector
is formed from N = O x A, and then we ensure that O and A are orthogonal
by O = A x N.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trnorm(T)</span></code> as above but the rotational submatrix of the homogeneous
transformation T (4x4) is normalised while the translational part is
unchanged.</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>Only the direction of A (the z-axis) is unchanged.</p></li>
<li><p>Used to prevent finite word length arithmetic causing transforms to
become ‘unnormalized’.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trinterp">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trinterp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">s</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trinterp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate SE(3) matrices</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em><em>, </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – initial SO(3) or SE(3) matrix value when s=0, if None then identity is used</p></li>
<li><p><strong>end</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em><em>, </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – final SO(3) or SE(3) matrix, value when s=1</p></li>
<li><p><strong>s</strong> (<em>float</em>) – interpolation coefficient, range 0 to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) or SE(3) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(3,3), (4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp(None,</span> <span class="pre">T,</span> <span class="pre">S)</span></code> is a homogeneous transform (4x4) interpolated
between identity when S=0 and T (4x4) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp(T0,</span> <span class="pre">T1,</span> <span class="pre">S)</span></code> as above but interpolated
between T0 (4x4) when S=0 and T1 (4x4) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp(None,</span> <span class="pre">R,</span> <span class="pre">S)</span></code> is a rotation matrix (3x3) interpolated
between identity when S=0 and R (3x3) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp(R0,</span> <span class="pre">R1,</span> <span class="pre">S)</span></code> as above but interpolated
between R0 (3x3) when S=0 and R1 (3x3) when S=1.</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>Rotation is interpolated using quaternion spherical linear interpolation (slerp).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.quaternions.slerp" title="spatialmath.base.quaternions.slerp"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.quaternions.slerp()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">trinterp2()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.delta2tr">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">delta2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#delta2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.delta2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert differential motion to SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>array_like</em>) – differential motion as a 6-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SE(3) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">delta2tr(d)</span></code> is an SE(3) matrix representing differential
motion <span class="math notranslate nohighlight">\(d = [\delta_x, \delta_y, \delta_z, \theta_x, \theta_y, \theta_z\)</span>.</p>
<p>Reference: Robotics, Vision &amp; Control: Second Edition, P. Corke, Springer 2016; p67.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.tr2delta" title="spatialmath.base.transforms3d.tr2delta"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2delta()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trinv">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trinv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trinv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trinv" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert an SE(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>T</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – an SE(3) matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SE(3) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p>Computes an efficient inverse of an SE(3) matrix:</p>
<p><span class="math notranslate nohighlight">\(\begin{pmatrix} {\bf R} &amp; t \\ 0\,0\,0 &amp; 1 \end{pmatrix}^{-1} =  \begin{pmatrix} {\bf R}^T &amp; -{\bf R}^T t \\ 0\,0\, 0 &amp; 1 \end{pmatrix}\)</span></p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2delta">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">tr2delta</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T0</span></em>, <em class="sig-param"><span class="n">T1</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Difference of SE(3) matrices as differential motion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T0</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – first SE(3) matrix</p></li>
<li><p><strong>T1</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – second SE(3) matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sdifferential motion as a 6-vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(6,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tr2delta(T0,</span> <span class="pre">T1)</span></code> is the differential motion (6x1) corresponding to
infinitessimal motion (in the T0 frame) from pose T0 to T1 which are SE(3) matrices.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tr2delta(T)</span></code> as above but the motion is from the world frame to the pose represented by T.</p></li>
</ul>
<p>The vector <span class="math notranslate nohighlight">\(d = [\delta_x, \delta_y, \delta_z, \theta_x, \theta_y, \theta_z\)</span>
represents infinitessimal translation and rotation, and is an approximation to the
instantaneous spatial velocity multiplied by time step.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>D is only an approximation to the motion T, and assumes
that T0 ~ T1 or T ~ eye(4,4).</p></li>
<li><p>Can be considered as an approximation to the effect of spatial velocity over a
a time interval, average spatial velocity multiplied by time.</p></li>
</ul>
<p>Reference: Robotics, Vision &amp; Control: Second Edition, P. Corke, Springer 2016; p67.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.delta2tr" title="spatialmath.base.transforms3d.delta2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">delta2tr()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2jac">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">tr2jac</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">samebody</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2jac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2jac" title="Permalink to this definition">¶</a></dt>
<dd><p>SE(3) adjoint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>T</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – an SE(3) matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>adjoint matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(6,6)</p>
</dd>
</dl>
<p>Computes an adjoint matrix that maps spatial velocity between two frames defined by
an SE(3) matrix.  It acts like a Jacobian matrix.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tr2jac(T)</span></code> is a Jacobian matrix (6x6) that maps spatial velocity or
differential motion from frame {A} to frame {B} where the pose of {B}
relative to {A} is represented by the homogeneous transform T = <span class="math notranslate nohighlight">\({}^A {f T}_B\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tr2jac(T,</span> <span class="pre">True)</span></code> as above but for the case when frame {A} to frame {B} are both
attached to the same moving body.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trprint">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trprint</code><span class="sig-paren">(</span><em class="sig-param">T</em>, <em class="sig-param">orient='rpy/zyx'</em>, <em class="sig-param">label=None</em>, <em class="sig-param">file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em>, <em class="sig-param">fmt='{:8.2g}'</em>, <em class="sig-param">degsym=True</em>, <em class="sig-param">unit='deg'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trprint" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Compact display of SO(3) or SE(3) matrices</p>
<dl class="field-list simple">
<dt class="field-odd">param T</dt>
<dd class="field-odd"><p>matrix to format</p>
</dd>
<dt class="field-even">type T</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
<dt class="field-odd">param label</dt>
<dd class="field-odd"><p>text label to put at start of line</p>
</dd>
<dt class="field-even">type label</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param orient</dt>
<dd class="field-odd"><p>3-angle convention to use</p>
</dd>
<dt class="field-even">type orient</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param file</dt>
<dd class="field-odd"><p>file to write formatted string to. [default, stdout]</p>
</dd>
<dt class="field-even">type file</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param fmt</dt>
<dd class="field-odd"><p>conversion format for each number</p>
</dd>
<dt class="field-even">type fmt</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param unit</dt>
<dd class="field-odd"><p>angular units: ‘rad’ [default], or ‘deg’</p>
</dd>
<dt class="field-even">type unit</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>formatted string</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p>The matrix is formatted and written to <code class="docutils literal notranslate"><span class="pre">file</span></code> and the
string is returned.  To suppress writing to a file, set <code class="docutils literal notranslate"><span class="pre">file=None</span></code>.</p>
</div></blockquote>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">trprint(R)</span></code> displays the SO(3) rotation matrix in a compact</dt><dd><p>single-line format:</p>
<blockquote>
<div><p>[LABEL:] ORIENTATION UNIT</p>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">trprint(T)</span></code> displays the SE(3) homogoneous transform in a compact
single-line format:</p>
<blockquote>
<div><p>[LABEL:] [t=X, Y, Z;] ORIENTATION UNIT</p>
</div></blockquote>
</li>
</ul>
<p>Orientation is expressed in one of several formats:</p>
<ul class="simple">
<li><p>‘rpy/zyx’ roll-pitch-yaw angles in ZYX axis order [default]</p></li>
<li><p>‘rpy/yxz’ roll-pitch-yaw angles in YXZ axis order</p></li>
<li><p>‘rpy/zyx’ roll-pitch-yaw angles in ZYX axis order</p></li>
<li><p>‘eul’ Euler angles in ZYZ axis order</p></li>
<li><p>‘angvec’ angle and axis</p></li>
</ul>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">transl</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">@</span> <span class="n">rpy2tr</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trprint</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="go">&#39;T: t =        1,        2,        3; rpy/zyx =       10,       20,       30 deg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trprint</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;angvec&#39;</span><span class="p">)</span>
<span class="go">&#39;T: t =        1,        2,        3; angvec = (      56 deg |     0.12,     0.62,     0.78)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trprint</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;angvec&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{:8.4g}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">&#39;T: t =        1,        2,        3; angvec = (   56.04 deg |    0.124,   0.6156,   0.7782)&#39;</span>
</pre></div>
</div>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>If the ‘rpy’ option is selected, then the particular angle sequence can be
specified with the options ‘xyz’ or ‘yxz’ which are passed through to <code class="docutils literal notranslate"><span class="pre">tr2rpy</span></code>.
‘zyx’ is the default.</p></li>
<li><p>Default formatting is for readable columns of data</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms2d.trprint2" title="spatialmath.base.transforms2d.trprint2"><code class="xref py py-func docutils literal notranslate"><span class="pre">trprint2()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trplot">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">trplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">block</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'blue'</span></em>, <em class="sig-param"><span class="n">frame</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">textcolor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">'X', 'Y', 'Z'</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">arrow</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">projection</span><span class="o">=</span><span class="default_value">'ortho'</span></em>, <em class="sig-param"><span class="n">rviz</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">wtl</span><span class="o">=</span><span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">d1</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">d2</span><span class="o">=</span><span class="default_value">1.15</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a 3D coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – an SO(3) or SE(3) pose to be displayed as coordinate frame</p></li>
<li><p><strong>axes</strong> (<em>Axes3D reference</em>) – the axes to plot into, defaults to current axes</p></li>
<li><p><strong>block</strong> (<em>bool</em>) – run the GUI main loop until all windows are closed, default True</p></li>
<li><p><strong>dims</strong> (<em>array_like</em>) – dimension of plot volume as [xmin, xmax, ymin, ymax,zmin, zmax].
If dims is [min, max] those limits are applied to the x-, y- and z-axes.</p></li>
<li><p><strong>color</strong> (<em>str</em>) – color of the lines defining the frame</p></li>
<li><p><strong>textcolor</strong> (<em>str</em>) – color of text labels for the frame, default color of lines above</p></li>
<li><p><strong>frame</strong> (<em>str</em>) – label the frame, name is shown below the frame and as subscripts on the frame axis labels</p></li>
<li><p><strong>labels</strong> (<em>3-tuple of strings</em>) – labels for the axes, defaults to X, Y and Z</p></li>
<li><p><strong>length</strong> (<em>float</em>) – length of coordinate frame axes, default 1</p></li>
<li><p><strong>arrow</strong> (<em>bool</em>) – show arrow heads, default True</p></li>
<li><p><strong>wtl</strong> (<em>float</em>) – width-to-length ratio for arrows, default 0.2</p></li>
<li><p><strong>rviz</strong> (<em>bool</em>) – show Rviz style arrows, default False</p></li>
<li><p><strong>projection</strong> (<em>str</em>) – 3D projection: ortho [default] or persp</p></li>
<li><p><strong>width</strong> (<em>float</em>) – width of lines, default 1</p></li>
<li><p><strong>d1</strong> – distance of frame axis label text from origin, default 1.15</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>axes containing the frame</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Axes3DSubplot</p>
</dd>
</dl>
<p>Adds a 3D coordinate frame represented by the SO(3) or SE(3) matrix to the current axes.</p>
<ul class="simple">
<li><p>If no current figure, one is created</p></li>
<li><p>If current figure, but no axes, a 3d Axes is created</p></li>
</ul>
<p>Examples:</p>
<blockquote>
<div><p>trplot(T, frame=’A’)
trplot(T, frame=’A’, color=’green’)
trplot(T1, ‘labels’, ‘NOA’);</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tranimate">
<code class="sig-prename descclassname">spatialmath.base.transforms3d.</code><code class="sig-name descname">tranimate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tranimate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tranimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Animate a 3D coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – an SO(3) or SE(3) pose to be displayed as coordinate frame</p></li>
<li><p><strong>nframes</strong> (<em>int</em>) – number of steps in the animation [defaault 100]</p></li>
<li><p><strong>repeat</strong> (<em>bool</em>) – animate in endless loop [default False]</p></li>
<li><p><strong>interval</strong> (<em>int</em>) – number of milliseconds between frames [default 50]</p></li>
<li><p><strong>movie</strong> (<em>str</em>) – name of file to write MP4 movie into</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p>Animates a 3D coordinate frame moving from the world frame to a frame represented by the SO(3) or SE(3) matrix to the current axes.</p>
<ul class="simple">
<li><p>If no current figure, one is created</p></li>
<li><p>If current figure, but no axes, a 3d Axes is created</p></li>
</ul>
<p>Examples:</p>
<blockquote>
<div><p>tranimate(transl(1,2,3)&#64;trotx(1), frame=’A’, arrow=False, dims=[0, 5])
tranimate(transl(1,2,3)&#64;trotx(1), frame=’A’, arrow=False, dims=[0, 5], movie=’spin.mp4’)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-spatialmath.base.transformsNd">
<span id="transforms-in-nd"></span><h2>Transforms in ND<a class="headerlink" href="#module-spatialmath.base.transformsNd" title="Permalink to this headline">¶</a></h2>
<p>This modules contains functions to create and transform rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<p>Versions:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Luis Fernando Lara Tobar and Peter Corke, 2008</p></li>
<li><p>Josh Carrigg Hodson, Aditya Dua, Chee Ho Chan, 2017</p></li>
<li><p>Peter Corke, 2020</p></li>
</ol>
</div></blockquote>
<dl class="py function">
<dt id="spatialmath.base.transformsNd.r2t">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">r2t</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#r2t"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.r2t" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(n) to SE(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> – rotation matrix</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">r2t(R)</span></code> is an SE(2) or SE(3) homogeneous transform equivalent to an
SO(2) or SO(3) orthonormal rotation matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> with a zero translational
component</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2 then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3: SO(2) -&gt; SE(2)</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3 then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4: SO(3) -&gt; SE(3)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>t2r, rt2tr</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.t2r">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">t2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#t2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.t2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SE(n) to SO(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – homogeneous transformation matrix</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">T2R(T)</span></code> is the orthonormal rotation matrix component of homogeneous
transformation matrix <code class="docutils literal notranslate"><span class="pre">T</span></code></p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3 then <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2: SE(2) -&gt; SO(2)</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4 then <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3: SE(3) -&gt; SO(3)</p></li>
</ul>
<p>Any translational component of T is lost.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>r2t, tr2rt</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.tr2rt">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">tr2rt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#tr2rt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.tr2rt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SE(3) to SO(3) and translation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – homogeneous transform matrix</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotation matrix and translation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple: numpy.ndarray, shape=(2,2) or (3,3); numpy.ndarray, shape=(2,) or (3,)</p>
</dd>
</dl>
<p>(R,t) = tr2rt(T) splits a homogeneous transformation matrix (NxN) into an orthonormal
rotation matrix R (MxM) and a translation vector T (Mx1), where N=M+1.</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3 - in SE(2) - then <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 2x1.</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4 - in SE(3) - then <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 3x1.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>rt2tr, tr2r</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.rt2tr">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">rt2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#rt2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.rt2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) and translation to SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> – rotation matrix</p></li>
<li><p><strong>t</strong> – translation vector</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transform</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">rt2tr(R,</span> <span class="pre">t)</span></code> is a homogeneous transformation matrix (N+1xN+1) formed from an
orthonormal rotation matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> (NxN) and a translation vector <code class="docutils literal notranslate"><span class="pre">t</span></code>
(Nx1).</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 2x1, then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 3x1, then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>rt2m, tr2rt, r2t</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.rt2m">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">rt2m</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#rt2m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.rt2m" title="Permalink to this definition">¶</a></dt>
<dd><p>Pack rotation and translation to matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> – rotation matrix</p></li>
<li><p><strong>t</strong> – translation vector</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transform</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">rt2m(R,</span> <span class="pre">t)</span></code> is a matrix (N+1xN+1) formed from a matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> (NxN) and a vector <code class="docutils literal notranslate"><span class="pre">t</span></code>
(Nx1).  The bottom row is all zeros.</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 2x1, then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 3x1, then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>rt2tr, tr2rt, r2t</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.isR">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">isR</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#isR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.isR" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SO(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is a proper orthonormal rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Checks orthogonality, ie. <span class="math notranslate nohighlight">\({\bf R} {\bf R}^T = {\bf I}\)</span> and <span class="math notranslate nohighlight">\(\det({\bf R}) &gt; 0\)</span>.
For the first test we check that the norm of the residual is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isrot2, isrot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.isskew">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">isskew</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#isskew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.isskew" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to so(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is a proper skew-symmetric matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Checks skew-symmetry, ie. <span class="math notranslate nohighlight">\({\bf S} + {\bf S}^T = {\bf 0}\)</span>.
We check that the norm of the residual is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isskewa</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.isskewa">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">isskewa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#isskewa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.isskewa" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to se(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is a proper skew-symmetric matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Check if matrix is augmented skew-symmetric, ie. the top left (n-1xn-1) partition <code class="docutils literal notranslate"><span class="pre">S</span></code> is
skew-symmetric <span class="math notranslate nohighlight">\({\bf S} + {\bf S}^T = {\bf 0}\)</span>, and the bottom row is zero
We check that the norm of the residual is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isskew</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.iseye">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">iseye</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#iseye"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.iseye" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix is identity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is a proper skew-symmetric matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Check if matrix is an identity matrix. We test that the trace tom row is zero
We check that the norm of the residual is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isskew, isskewa</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.skew">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">skew</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#skew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.skew" title="Permalink to this definition">¶</a></dt>
<dd><p>Create skew-symmetric metrix from vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – 1- or 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>skew-symmetric matrix in so(2) or so(3)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">skew(V)</span></code> is a skew-symmetric matrix formed from the elements of <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">len(V)</span></code>  is 1 then <code class="docutils literal notranslate"><span class="pre">S</span></code> = <span class="math notranslate nohighlight">\(\left[ \begin{array}{cc} 0 &amp; -v \\ v &amp; 0 \end{array} \right]\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">len(V)</span></code> is 3 then <code class="docutils literal notranslate"><span class="pre">S</span></code> = <span class="math notranslate nohighlight">\(\left[ \begin{array}{ccc} 0 &amp; -v_z &amp; v_y \\ v_z &amp; 0 &amp; -v_x \\ -v_y &amp; v_x &amp; 0\end{array} \right]\)</span></p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>This is the inverse of the function <code class="docutils literal notranslate"><span class="pre">vex()</span></code>.</p></li>
<li><p>These are the generator matrices for the Lie algebras so(2) and so(3).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>vex, skewa</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.vex">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">vex</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#vex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.vex" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert skew-symmetric matrix to vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>2</em><em>,</em><em>2</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – skew-symmetric matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vector of unique values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(1,) or (3,)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">vex(S)</span></code> is the vector which has the corresponding skew-symmetric matrix <code class="docutils literal notranslate"><span class="pre">S</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> is 2x2 - so(2) case - where <code class="docutils literal notranslate"><span class="pre">S</span></code> <span class="math notranslate nohighlight">\(= \left[ \begin{array}{cc} 0 &amp; -v \\ v &amp; 0 \end{array} \right]\)</span> then return <span class="math notranslate nohighlight">\([v]\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> is 3x3 - so(3) case -  where <code class="docutils literal notranslate"><span class="pre">S</span></code> <span class="math notranslate nohighlight">\(= \left[ \begin{array}{ccc} 0 &amp; -v_z &amp; v_y \\ v_z &amp; 0 &amp; -v_x \\ -v_y &amp; v_x &amp; 0\end{array} \right]\)</span> then return <span class="math notranslate nohighlight">\([v_x, v_y, v_z]\)</span>.</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>This is the inverse of the function <code class="docutils literal notranslate"><span class="pre">skew()</span></code>.</p></li>
<li><p>Only rudimentary checking (zero diagonal) is done to ensure that the matrix
is actually skew-symmetric.</p></li>
<li><p>The function takes the mean of the two elements that correspond to each unique
element of the matrix.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>skew, vexa</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.skewa">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">skewa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#skewa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.skewa" title="Permalink to this definition">¶</a></dt>
<dd><p>Create augmented skew-symmetric metrix from vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – 3- or 6-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>augmented skew-symmetric matrix in se(2) or se(3)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">skewa(V)</span></code> is an augmented skew-symmetric matrix formed from the elements of <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">len(V)</span></code> is 3 then S = <span class="math notranslate nohighlight">\(\left[ \begin{array}{ccc} 0 &amp; -v_3 &amp; v_1 \\ v_3 &amp; 0 &amp; v_2 \\ 0 &amp; 0 &amp; 0 \end{array} \right]\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">len(V)</span></code> is 6 then S = <span class="math notranslate nohighlight">\(\left[ \begin{array}{cccc} 0 &amp; -v_6 &amp; v_5 &amp; v_1 \\ v_6 &amp; 0 &amp; -v_4 &amp; v_2 \\ -v_5 &amp; v_4 &amp; 0 &amp; v_3 \\ 0 &amp; 0 &amp; 0 &amp; 0 \end{array} \right]\)</span></p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>This is the inverse of the function <code class="docutils literal notranslate"><span class="pre">vexa()</span></code>.</p></li>
<li><p>These are the generator matrices for the Lie algebras se(2) and se(3).</p></li>
<li><p>Map twist vectors in 2D and 3D space to se(2) and se(3).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>vexa, skew</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.vexa">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">vexa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Omega</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#vexa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.vexa" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert skew-symmetric matrix to vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – augmented skew-symmetric matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vector of unique values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,) or (6,)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">vex(S)</span></code> is the vector which has the corresponding skew-symmetric matrix <code class="docutils literal notranslate"><span class="pre">S</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> is 3x3 - se(2) case - where <code class="docutils literal notranslate"><span class="pre">S</span></code> <span class="math notranslate nohighlight">\(= \left[ \begin{array}{ccc} 0 &amp; -v_3 &amp; v_1 \\ v_3 &amp; 0 &amp; v_2 \\ 0 &amp; 0 &amp; 0 \end{array} \right]\)</span> then return <span class="math notranslate nohighlight">\([v_1, v_2, v_3]\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> is 4x4 - se(3) case -  where <code class="docutils literal notranslate"><span class="pre">S</span></code> <span class="math notranslate nohighlight">\(= \left[ \begin{array}{cccc} 0 &amp; -v_6 &amp; v_5 &amp; v_1 \\ v_6 &amp; 0 &amp; -v_4 &amp; v_2 \\ -v_5 &amp; v_4 &amp; 0 &amp; v_3 \\ 0 &amp; 0 &amp; 0 &amp; 0 \end{array} \right]\)</span> then return <span class="math notranslate nohighlight">\([v_1, v_2, v_3, v_4, v_5, v_6]\)</span>.</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>This is the inverse of the function <code class="docutils literal notranslate"><span class="pre">skewa</span></code>.</p></li>
<li><p>Only rudimentary checking (zero diagonal) is done to ensure that the matrix
is actually skew-symmetric.</p></li>
<li><p>The function takes the mean of the two elements that correspond to each unique
element of the matrix.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>skewa, vex</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.rodrigues">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">rodrigues</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">w</span></em>, <em class="sig-param"><span class="n">theta</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#rodrigues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.rodrigues" title="Permalink to this definition">¶</a></dt>
<dd><p>Rodrigues’ formula for rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>array_like</em>) – rotation vector</p></li>
<li><p><strong>theta</strong> (<em>float</em><em> or </em><em>None</em>) – rotation angle</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.h2e">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">h2e</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#h2e"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.h2e" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from homogeneous to Euclidean form</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – homogeneous vector or matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Euclidean vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is an array, shape=(N,), return an array shape=(N-1,) where the elements have
all been scaled by the last element of <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is a matrix, shape=(N,M), return a matrix shape=(N-1,N), where each column has
been scaled by its last element.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>e2h</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.e2h">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">e2h</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#e2h"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.e2h" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from Euclidean to homogeneous form</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – Euclidean vector or matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is an array, shape=(N,), return an array shape=(N+1,) where a value of 1 has
been appended</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is a matrix, shape=(N,M), return a matrix shape=(N+1,N), where each column has
been appended with a value of 1, ie. a row of ones has been appended to the matrix.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>e2h</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.homtrans">
<code class="sig-prename descclassname">spatialmath.base.transformsNd.</code><code class="sig-name descname">homtrans</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">p</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#homtrans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.homtrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a homogeneous transformation to a Euclidean vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>Numpy array</em><em> (</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – homogeneous transformation</p></li>
<li><p><strong>p</strong> (<em>Numpy array</em><em> (</em><em>2</em><em>,</em><em>)</em><em>, </em><em>(</em><em>2</em><em>,</em><em>N</em><em>)</em><em>, </em><em>(</em><em>3</em><em>,</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>N</em><em>)</em>) – Vector(s) to be transformed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed Euclidean vector(s)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Numpy array (2,), (2,N), (3,) or (3,N)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">homtrans(T,</span> <span class="pre">p)</span></code> applies the homogeneous transformation <code class="docutils literal notranslate"><span class="pre">T</span></code> to the points 
stored columnwise in <code class="docutils literal notranslate"><span class="pre">p</span></code>.</p>
<ul class="simple">
<li><dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">T</span></code> is in SE(2) (3x3) and</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> is 2xN (2D points) they are considered Euclidean (<span class="math notranslate nohighlight">\(\mathbb{R}^2\)</span>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> is 3xN (2D points) they are considered projective (<span class="math notranslate nohighlight">\(\mathbb{P}^2\)</span>)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">T</span></code> is in SE(3) (4x4) and</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> is 3xN (3D points) they are considered Euclidean (<span class="math notranslate nohighlight">\(\mathbb{R}^3\)</span>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> is 4xN (3D points) they are considered projective (<span class="math notranslate nohighlight">\(\mathbb{P}^3\)</span>)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The return value and <code class="docutils literal notranslate"><span class="pre">p</span></code> have the same number of rows, ie. if Euclidean points are given
then Euclidean points are returned, if projective points are given then
projective points are returned.</p>
<p>Notes:
- If T is a homogeneous transformation defining the pose of {B} with respect to {A},
then the points are defined with respect to frame {B} and are transformed to be
with respect to frame {A}.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.e2h" title="spatialmath.base.transformsNd.e2h"><code class="xref py py-func docutils literal notranslate"><span class="pre">e2h()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.h2e" title="spatialmath.base.transformsNd.h2e"><code class="xref py py-func docutils literal notranslate"><span class="pre">h2e()</span></code></a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id16">
<h2>Quaternions<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-spatialmath.base.quaternions"></span><dl class="py function">
<dt id="spatialmath.base.quaternions.eye">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">eye</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#eye"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.eye" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an identity quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an identity quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Creates an identity quaternion, with the scalar part equal to one, and
a zero vector value.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.pure">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">pure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#pure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.pure" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pure quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – vector from a 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pure quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Creates a pure quaternion, with a zero scalar value and the vector part
equal to the passed vector value.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qnorm">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">qnorm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qnorm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qnorm" title="Permalink to this definition">¶</a></dt>
<dd><p>Norm of a quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – input quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>norm of the quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p>Returns the norm, length or magnitude of the input quaternion which is
<span class="math notranslate nohighlight">\(\sqrt{s^2 + v_x^2 + v_y^2 + v_z^2}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.unit">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">unit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#unit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – quaterion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a pure quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Creates a unit quaternion, with unit norm, by scaling the input quaternion.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>norm</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.isunit">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">isunit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#isunit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.isunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if quaternion has unit length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – quaternion as a 4-vector</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether quaternion has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p>unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.isequal">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">isequal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">unitq</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#isequal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.isequal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if quaternions are equal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q1</strong> (<em>array_like</em>) – quaternion as a 4-vector</p></li>
<li><p><strong>q2</strong> (<em>array_like</em>) – quaternion as a 4-vector</p></li>
<li><p><strong>unitq</strong> (<em>bool</em>) – quaternions are unit quaternions</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether quaternion has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Tests if two quaternions are equal.</p>
<p>For unit-quaternions <code class="docutils literal notranslate"><span class="pre">unitq=True</span></code> the double mapping is taken into account,
that is <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">-q</span></code> represent the same orientation and <code class="docutils literal notranslate"><span class="pre">isequal(q,</span> <span class="pre">-q,</span> <span class="pre">unitq=True)</span></code> will
return <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.q2v">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">q2v</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#q2v"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.q2v" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert unit-quaternion to 3-vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – unit-quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a unique 3-vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Returns a unique 3-vector representing the input unit-quaternion. The sign
of the scalar part is made positive, if necessary by multiplying the
entire quaternion by -1, then the vector part is taken.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed value is a unit-quaternion.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>v2q</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.v2q">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">v2q</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#v2q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.v2q" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert 3-vector to unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – vector part of unit quaternion, a 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a unit quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Returns a unit-quaternion reconsituted from just its vector part.  Assumes
that the scalar part was positive, so <span class="math notranslate nohighlight">\(s = \sqrt{1-||v||}\)</span>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>q2v</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qqmul">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">qqmul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qqmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qqmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion multiplication</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>: array_like</em>) – left-hand quaternion as a 4-vector</p></li>
<li><p><strong>q1</strong> (<em>array_like</em>) – right-hand quaternion as a 4-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>quaternion product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>This is the quaternion or Hamilton product.  If both operands are unit-quaternions then
the product will be a unit-quaternion.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qvmul, inner, vvmul</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.inner">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">inner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#inner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.inner" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion innert product</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>: array_like</em>) – quaternion as a 4-vector</p></li>
<li><p><strong>q1</strong> (<em>array_like</em>) – uaternion as a 4-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>inner product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>This is the inner or dot product of two quaternions, it is the sum of the element-wise
product.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qvmul</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qvmul">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">qvmul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qvmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qvmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Vector rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>v</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>numpy.ndarray</em>) – 3-vector to be rotated</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotated 3-vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>The vector <cite>v</cite> is rotated about the origin by the SO(3) equivalent of the unit
quaternion.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed value is a unit-quaternions.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qvmul</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.vvmul">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">vvmul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qa</span></em>, <em class="sig-param"><span class="n">qb</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#vvmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.vvmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion multiplication</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qa</strong> (<em>: array_like</em>) – left-hand quaternion as a 3-vector</p></li>
<li><p><strong>qb</strong> (<em>array_like</em>) – right-hand quaternion as a 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>quaternion product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>This is the quaternion or Hamilton product of unit-quaternions defined only
by their vector components.  The product will be a unit-quaternion, defined only
by its vector component.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qvmul, inner</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qpow">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">qpow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">power</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qpow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qpow" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise quaternion to a power</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – quaternion as a 4-vector</p></li>
<li><p><strong>power</strong> (<em>int</em>) – exponent</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>input quaternion raised to the specified power</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Raises a quaternion to the specified power using repeated multiplication.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>power must be an integer</p></li>
<li><p>power can be negative, in which case the conjugate is taken</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.conj">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">conj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#conj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.conj" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion conjugate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>conjugate of input quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Conjugate of quaternion, the vector part is negated.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.q2r">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">q2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#q2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.q2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert unit-quaternion to SO(3) rotation matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – unit-quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>corresponding SO(3) rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p>Returns an SO(3) rotation matrix corresponding to this unit-quaternion.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed value is a unit-quaternion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>r2q</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.r2q">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">r2q</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#r2q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.r2q" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) rotation matrix to unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – rotation matrix</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation matrix, default False</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Returns a unit-quaternion corresponding to the input SO(3) rotation matrix.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed matrix is a valid rotation matrix.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>q2r</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.slerp">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">slerp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q0</span></em>, <em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">shortest</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#slerp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.slerp" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion conjugate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>array_like</em>) – initial unit quaternion as a 4-vector</p></li>
<li><p><strong>q1</strong> (<em>array_like</em>) – final unit quaternion as a 4-vector</p></li>
<li><p><strong>s</strong> (<em>float</em>) – interpolation coefficient in the range [0,1]</p></li>
<li><p><strong>shortest</strong> (<em>bool</em>) – choose shortest distance [default False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>interpolated unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>An interpolated quaternion between <code class="docutils literal notranslate"><span class="pre">q0</span></code> when <code class="docutils literal notranslate"><span class="pre">s</span></code> = 0 to <code class="docutils literal notranslate"><span class="pre">q1</span></code> when <code class="docutils literal notranslate"><span class="pre">s</span></code> = 1.</p>
<p>Interpolation is performed on a great circle on a 4D hypersphere. This is
a rotation about a single fixed axis in space which yields the straightest
and shortest path between two points.</p>
<p>For large rotations the path may be the <em>long way around</em> the circle,
the option <code class="docutils literal notranslate"><span class="pre">'shortest'</span></code> ensures always the shortest path.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed values are unit-quaternions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.rand">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">rand</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#rand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.rand" title="Permalink to this definition">¶</a></dt>
<dd><p>Random unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>random unit-quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Computes a uniformly distributed random unit-quaternion which can be
considered equivalent to a random SO(3) rotation.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.matrix">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to 4x4 matrix equivalent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>equivalent matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p>Hamilton multiplication between two quaternions can be considered as a
matrix-vector product, the left-hand quaternion is represented by an
equivalent 4x4 matrix and the right-hand quaternion as 4x1 column vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qqmul</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.dot">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">dot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">w</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Rate of change of unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>w</strong> (<em>array_like</em>) – angular velocity in world frame as a 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rate of change of unit quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">dot(q,</span> <span class="pre">w)</span></code> is the rate of change of the elements of the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>
which represents the orientation of a body frame with angular velocity <code class="docutils literal notranslate"><span class="pre">w</span></code> in
the world frame.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed values are unit-quaternions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.dotb">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">dotb</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">w</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#dotb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.dotb" title="Permalink to this definition">¶</a></dt>
<dd><p>Rate of change of unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>w</strong> (<em>array_like</em>) – angular velocity in body frame as a 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rate of change of unit quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">dotb(q,</span> <span class="pre">w)</span></code> is the rate of change of the elements of the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>
which represents the orientation of a body frame with angular velocity <code class="docutils literal notranslate"><span class="pre">w</span></code> in
the body frame.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed values are unit-quaternions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.angle">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">angle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Angle between two unit-quaternions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>q1</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>angle between the rotations [radians]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p>If each of the input quaternions is considered a rotated coordinate
frame, then the angle is the smallest rotation required about a fixed
axis, to rotate the first frame into the second.</p>
<p>References:  Metrics for 3D rotations: comparison and analysis,
Du Q. Huynh, % J.Math Imaging Vis. DOFI 10.1007/s10851-009-0161-2.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed values are unit-quaternions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qprint">
<code class="sig-prename descclassname">spatialmath.base.quaternions.</code><code class="sig-name descname">qprint</code><span class="sig-paren">(</span><em class="sig-param">q</em>, <em class="sig-param">delim=('&lt;'</em>, <em class="sig-param">'&gt;')</em>, <em class="sig-param">fmt='%f'</em>, <em class="sig-param">file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>delim</strong> (<em>list</em><em> or </em><em>tuple of strings</em>) – 2-list of delimeters [default (‘&lt;’, ‘&gt;’)]</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – printf-style format soecifier [default ‘%f’]</p></li>
<li><p><strong>file</strong> (<em>file object</em>) – destination for formatted string [default sys.stdout]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p>Format the quaternion in a human-readable form as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">S</span>  <span class="n">D1</span>  <span class="n">VX</span> <span class="n">VY</span> <span class="n">VZ</span> <span class="n">D2</span>
</pre></div>
</div>
<p>where S, VX, VY, VZ are the quaternion elements, and D1 and D2 are a pair
of delimeters given by <cite>delim</cite>.</p>
<p>By default the string is written to <cite>sys.stdout</cite>.</p>
<p>If <cite>file=None</cite> then a string is returned.</p>
</dd></dl>

</div>
<div class="section" id="utility">
<h2>Utility<a class="headerlink" href="#utility" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-spatialmath.base.vectors">
<span id="vectors"></span><h3>Vectors<a class="headerlink" href="#module-spatialmath.base.vectors" title="Permalink to this headline">¶</a></h3>
<p>This modules contains functions to create and transform rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<dl class="py function">
<dt id="spatialmath.base.vectors.colvec">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">colvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#colvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.colvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array like</em>) – an N-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a column vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>NumPy ndarray, shape=(N,1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.unitvec">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">unitvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unitvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.unitvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a unit vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – n-dimensional vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a unit-vector parallel to V.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – for zero length vector</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">unitvec(v)</span></code> is a vector parallel to <cite>v</cite> of unit length.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>norm</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.norm">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">norm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Norm of vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> – n-vector as a list, dict, or a numpy array, row or column vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>norm of vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">norm(v)</span></code> is the 2-norm (length or magnitude) of the vector <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.isunitvec">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">isunitvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunitvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.isunitvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector has unit length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>numpy.ndarray</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p>unit, isunittwist</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.iszerovec">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">iszerovec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#iszerovec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.iszerovec" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector has zero length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>numpy.ndarray</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has zero length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p>unit, isunittwist</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.isunittwist">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">isunittwist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunittwist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.isunittwist" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector represents a unit twist in SE(2) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Vector is is intepretted as <span class="math notranslate nohighlight">\([v, \omega]\)</span> where <span class="math notranslate nohighlight">\(v \in \mathbb{R}^n\)</span> and
<span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^1\)</span> for SE(2) and <span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^3\)</span> for SE(3).</p>
<p>A unit twist can be a:</p>
<ul class="simple">
<li><p>unit rotational twist where <span class="math notranslate nohighlight">\(|| \omega || = 1\)</span>, or</p></li>
<li><p>unit translational twist where <span class="math notranslate nohighlight">\(|| \omega || = 0\)</span> and <span class="math notranslate nohighlight">\(|| v || = 1\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit, isunitvec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.isunittwist2">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">isunittwist2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunittwist2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.isunittwist2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector represents a unit twist in SE(2) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Vector is is intepretted as <span class="math notranslate nohighlight">\([v, \omega]\)</span> where <span class="math notranslate nohighlight">\(v \in \mathbb{R}^n\)</span> and
<span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^1\)</span> for SE(2) and <span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^3\)</span> for SE(3).</p>
<p>A unit twist can be a:</p>
<ul class="simple">
<li><p>unit rotational twist where <span class="math notranslate nohighlight">\(|| \omega || = 1\)</span>, or</p></li>
<li><p>unit translational twist where <span class="math notranslate nohighlight">\(|| \omega || = 0\)</span> and <span class="math notranslate nohighlight">\(|| v || = 1\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit, isunitvec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.unittwist">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">unittwist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.unittwist" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>array_like</em>) – twist as a 6-vector</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(6,)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
<p>Returns None if the twist has zero magnitude</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.unittwist_norm">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">unittwist_norm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.unittwist_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist and norm</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>array_like</em>) – twist as a 6-vector</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple (np.ndarray shape=(6,), theta)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
<p>Returns (None,None) if the twist has zero magnitude</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.unittwist2">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">unittwist2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.unittwist2" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>array_like</em>) – twist as a 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple (unit_twist, theta)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.angdiff">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">angdiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#angdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.angdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Angular difference</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>scalar</em><em> or </em><em>array_like</em>) – angle in radians</p></li>
<li><p><strong>b</strong> (<em>scalar</em><em> or </em><em>array_like</em>) – angle in radians</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>angular difference a-b</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>scalar or array_like</p>
</dd>
</dl>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are both scalars, the result is scalar</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> is array_like, the result is a vector a[i]-b</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> is array_like, the result is a vector a-b[i]</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are both vectors of the same length, the result is a vector a[i]-b[i]</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.removesmall">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">removesmall</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#removesmall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.removesmall" title="Permalink to this definition">¶</a></dt>
<dd><p>Set small values to zero</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array-like</em>) – Input vector</p></li>
<li><p><strong>tol</strong> (<em>int</em><em>, </em><em>optional</em>) – Tolerance in units of eps, defaults to 100</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Input vector with small values set to zero</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>NumPy ndarray</p>
</dd>
</dl>
<p>Values with absolute value less than <code class="docutils literal notranslate"><span class="pre">tol</span></code> will be set to zero.</p>
</dd></dl>

</div>
<div class="section" id="module-0">
<span id="graphic-animation"></span><h3>Graphic animation<a class="headerlink" href="#module-0" title="Permalink to this headline">¶</a></h3>
<p>This modules contains functions to create and transform rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<dl class="py function">
<dt id="id0">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">colvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#colvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array like</em>) – an N-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a column vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>NumPy ndarray, shape=(N,1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="id17">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">unitvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unitvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id17" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a unit vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – n-dimensional vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a unit-vector parallel to V.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – for zero length vector</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">unitvec(v)</span></code> is a vector parallel to <cite>v</cite> of unit length.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>norm</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="id18">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">norm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id18" title="Permalink to this definition">¶</a></dt>
<dd><p>Norm of vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> – n-vector as a list, dict, or a numpy array, row or column vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>norm of vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">norm(v)</span></code> is the 2-norm (length or magnitude) of the vector <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="id19">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">isunitvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunitvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id19" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector has unit length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>numpy.ndarray</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p>unit, isunittwist</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="id20">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">iszerovec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#iszerovec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id20" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector has zero length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>numpy.ndarray</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has zero length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p>unit, isunittwist</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="id21">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">isunittwist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunittwist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id21" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector represents a unit twist in SE(2) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Vector is is intepretted as <span class="math notranslate nohighlight">\([v, \omega]\)</span> where <span class="math notranslate nohighlight">\(v \in \mathbb{R}^n\)</span> and
<span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^1\)</span> for SE(2) and <span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^3\)</span> for SE(3).</p>
<p>A unit twist can be a:</p>
<ul class="simple">
<li><p>unit rotational twist where <span class="math notranslate nohighlight">\(|| \omega || = 1\)</span>, or</p></li>
<li><p>unit translational twist where <span class="math notranslate nohighlight">\(|| \omega || = 0\)</span> and <span class="math notranslate nohighlight">\(|| v || = 1\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit, isunitvec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="id22">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">isunittwist2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunittwist2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id22" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector represents a unit twist in SE(2) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Vector is is intepretted as <span class="math notranslate nohighlight">\([v, \omega]\)</span> where <span class="math notranslate nohighlight">\(v \in \mathbb{R}^n\)</span> and
<span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^1\)</span> for SE(2) and <span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^3\)</span> for SE(3).</p>
<p>A unit twist can be a:</p>
<ul class="simple">
<li><p>unit rotational twist where <span class="math notranslate nohighlight">\(|| \omega || = 1\)</span>, or</p></li>
<li><p>unit translational twist where <span class="math notranslate nohighlight">\(|| \omega || = 0\)</span> and <span class="math notranslate nohighlight">\(|| v || = 1\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit, isunitvec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="id23">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">unittwist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id23" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>array_like</em>) – twist as a 6-vector</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(6,)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
<p>Returns None if the twist has zero magnitude</p>
</dd></dl>

<dl class="py function">
<dt id="id24">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">unittwist_norm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id24" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist and norm</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>array_like</em>) – twist as a 6-vector</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple (np.ndarray shape=(6,), theta)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
<p>Returns (None,None) if the twist has zero magnitude</p>
</dd></dl>

<dl class="py function">
<dt id="id25">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">unittwist2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id25" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>array_like</em>) – twist as a 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple (unit_twist, theta)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="id26">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">angdiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#angdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id26" title="Permalink to this definition">¶</a></dt>
<dd><p>Angular difference</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>scalar</em><em> or </em><em>array_like</em>) – angle in radians</p></li>
<li><p><strong>b</strong> (<em>scalar</em><em> or </em><em>array_like</em>) – angle in radians</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>angular difference a-b</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>scalar or array_like</p>
</dd>
</dl>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are both scalars, the result is scalar</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> is array_like, the result is a vector a[i]-b</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> is array_like, the result is a vector a-b[i]</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are both vectors of the same length, the result is a vector a[i]-b[i]</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="id27">
<code class="sig-prename descclassname">spatialmath.base.vectors.</code><code class="sig-name descname">removesmall</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#removesmall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id27" title="Permalink to this definition">¶</a></dt>
<dd><p>Set small values to zero</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array-like</em>) – Input vector</p></li>
<li><p><strong>tol</strong> (<em>int</em><em>, </em><em>optional</em>) – Tolerance in units of eps, defaults to 100</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Input vector with small values set to zero</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>NumPy ndarray</p>
</dd>
</dl>
<p>Values with absolute value less than <code class="docutils literal notranslate"><span class="pre">tol</span></code> will be set to zero.</p>
</dd></dl>

</div>
<div class="section" id="module-spatialmath.base.argcheck">
<span id="argument-checking"></span><h3>Argument checking<a class="headerlink" href="#module-spatialmath.base.argcheck" title="Permalink to this headline">¶</a></h3>
<p>Utilities functions for testing passed arguments to spatialmath.</p>
<dl class="py function">
<dt id="spatialmath.base.argcheck.isscalar">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">isscalar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#isscalar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.isscalar" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a real scalar</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – value to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if scalar</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">isscalar(x)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a Python or numPy int or real float.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.assertmatrix">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">assertmatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">shape</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#assertmatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.assertmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that argument is a 2D matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – value to test</p></li>
<li><p><strong>shape</strong> (<em>2-tuple</em>) – required shape</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>AssertionError</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assertsmatrix(A,</span> <span class="pre">(2,3))</span></code> raises an <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if <code class="docutils literal notranslate"><span class="pre">A</span></code> is not
a 2x3 numPy ndarray, ie. shape=(2,3).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assertsmatrix(A,</span> <span class="pre">(2,None))</span></code> raises an <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if <code class="docutils literal notranslate"><span class="pre">A</span></code> is not
a 2xN numPy ndarray, ie. shape=(2,N).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assertsmatrix(A,</span> <span class="pre">(None,3))</span></code> raises an <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if <code class="docutils literal notranslate"><span class="pre">A</span></code> is not
a Nx3 numPy ndarray, ie. shape=(N,3).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.ismatrix" title="spatialmath.base.argcheck.ismatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">ismatrix()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.ismatrix">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">ismatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#ismatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.ismatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a real 2D matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – value to test</p></li>
<li><p><strong>shape</strong> (<em>2-tuple</em>) – required shape</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if value is of specified shape</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Tests if the argument is a 2D matrix with a specified shape <code class="docutils literal notranslate"><span class="pre">shape</span></code> but
this can indicate an unspecified (wildcard) dimension, for example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">issmatrix(A,</span> <span class="pre">(2,3))</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">A</span></code> is a 2x3 numPy ndarray.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">issmatrix(A,</span> <span class="pre">(2,None))</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">A</span></code> is a 2xN numPy ndarray.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">issmatrix(A,</span> <span class="pre">(None,3))</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">A</span></code> is an Nx3 numPy ndarray.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>getmatrix, verifymatrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.getmatrix">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">getmatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#getmatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.getmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Converrt argument to 2D array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>2D NumPy ndarray</em><em>, </em><em>1D array-like</em><em> or </em><em>scalar</em>) – input value</p></li>
<li><p><strong>shape</strong> (<em>2-tupe</em>) – shape of returned matrix</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">m</span></code> is inconsistent with <code class="docutils literal notranslate"><span class="pre">shape</span></code></p></li>
<li><p><strong>TypeError</strong> – if <code class="docutils literal notranslate"><span class="pre">m</span></code> is not required type</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a 2D array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>NumPy ndarray</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">getmatrix(m,</span> <span class="pre">shape)</span></code> is a 2D matrix with shape <code class="docutils literal notranslate"><span class="pre">shape</span></code> formed from
<code class="docutils literal notranslate"><span class="pre">m</span></code> which can be a 2D array, 1D array-like or a scalar.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>ismatrix, verifymatrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.verifymatrix">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">verifymatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#verifymatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.verifymatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is array of specified type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – value to be tested</p></li>
<li><p><strong>shape</strong> (<em>2-tuple</em>) – desired shape of value</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – argument is not a NumPy array</p></li>
<li><p><strong>ValueError</strong> – argument has incorrect shape</p></li>
</ul>
</dd>
</dl>
<p>Raises an exception if the argument <code class="docutils literal notranslate"><span class="pre">m</span></code> is not a NumPy array of the 
specified shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>getmatrix, ismatrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.getvector">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">getvector</code><span class="sig-paren">(</span><em class="sig-param">v</em>, <em class="sig-param">dim=None</em>, <em class="sig-param">out='array'</em>, <em class="sig-param">dtype=&lt;class 'numpy.float64'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#getvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.getvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a vector value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> – passed vector</p></li>
<li><p><strong>dim</strong> (<em>int</em><em> or </em><em>None</em>) – required dimension, or None if any length is ok</p></li>
<li><p><strong>out</strong> (<em>str</em>) – output format, default is ‘array’</p></li>
<li><p><strong>dtype</strong> (<em>numPy type</em>) – datatype for numPy array return (default np.float64)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vector value in specified format</p>
</dd>
</dl>
<p>The passed vector can be any of:</p>
<ul class="simple">
<li><p>Python native list or tuple</p></li>
<li><p>numPy 1D array, ie. shape=(N,)</p></li>
<li><p>numPy 2D array with a singleton dimension, ie. shape=(1,N) or (N,1)</p></li>
</ul>
<p>The returned vector will be in the format specified by <code class="docutils literal notranslate"><span class="pre">out</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>format</p></th>
<th class="head"><p>return type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>‘sequence’</p></td>
<td><p>Python list, or tuple if a tuple was passed in</p></td>
</tr>
<tr class="row-odd"><td><p>‘array’</p></td>
<td><p>1D numPy array, shape=(N,)</p></td>
</tr>
<tr class="row-even"><td><p>‘row’</p></td>
<td><p>row vector, a 2D numPy array, shape=(1,N)</p></td>
</tr>
<tr class="row-odd"><td><p>‘col’</p></td>
<td><p>column vector, 2D numPy array, shape=(N,1)</p></td>
</tr>
</tbody>
</table>
<p>For ‘array’, ‘row’ or ‘col’ the numPy dtype defaults to <code class="docutils literal notranslate"><span class="pre">np.float64</span></code> but
can be overriden using the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.assertvector">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">assertvector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">dim</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#assertvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.assertvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that argument is a real vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> – passed vector</p></li>
<li><p><strong>dim</strong> (<em>int</em><em> or </em><em>None</em>) – required dimension, or None if any length is ok</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>AssertionError</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assertvector(vec,</span> <span class="pre">N)</span></code> raises an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> if <code class="docutils literal notranslate"><span class="pre">vec</span></code> is not
an N-element vector.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.isvector" title="spatialmath.base.argcheck.isvector"><code class="xref py py-func docutils literal notranslate"><span class="pre">isvector()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.isvector">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">isvector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">dim</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#isvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.isvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a real vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> – value to test</p></li>
<li><p><strong>dim</strong> (<em>int</em>) – required dimension, or None if any length is ok</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if is vector of specified length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">isvector(vec,</span> <span class="pre">N)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">vec</span></code> is an N-element vector.</p></li>
</ul>
<p>A valid vector can be any of:</p>
<ul class="simple">
<li><p>a Python native int or float, a 1-vector</p></li>
<li><p>Python native list or tuple</p></li>
<li><p>numPy 1D array, ie. shape=(N,)</p></li>
<li><p>numPy 2D array with a singleton dimension, ie. shape=(1,N) or (N,1)</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.getunit">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">getunit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">unit</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#getunit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.getunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert value according to angular units</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – the value in radians or degrees</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – the angular unit, “rad” or “deg”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the converted value in radians</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="s1">&#39;rad&#39;</span><span class="p">)</span>
<span class="go">1.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="go">1.5707963267948966</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;rad&#39;</span><span class="p">)</span>
<span class="go">array([0.5, 1. ])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">180</span><span class="p">],</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="go">array([1.57079633, 3.14159265])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.isnumberlist">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">isnumberlist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#isnumberlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.isnumberlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a list of scalars</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – the value to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the argument is a list of real scalars</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">isscalarberlist(x)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x``</span></code> is a list of scalars.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isscalarberlist</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isscalarberlist</span><span class="p">([</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isscalarberlist</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isscalarberlist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.isvectorlist">
<code class="sig-prename descclassname">spatialmath.base.argcheck.</code><code class="sig-name descname">isvectorlist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#isvectorlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.isvectorlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a list of vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – the value to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the argument is a list of n-vectors</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">isvectorlist(x,</span> <span class="pre">n)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x``</span></code> is a list or tuple of
1D numPy arrays of shape=(n,).</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">isvectorlist</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvectorlist</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]),</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvectorlist</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvectorlist</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="indices.html" class="btn btn-neutral float-right" title="Indices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Peter Corke
      <span class="lastupdated">
        Last updated on 11-Oct-2020.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>